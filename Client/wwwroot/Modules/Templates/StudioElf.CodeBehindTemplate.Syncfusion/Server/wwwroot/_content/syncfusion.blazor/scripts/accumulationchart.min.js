(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./bundles/accumulationchart.js":function(e,t,i){"use strict";i.r(t);i("./modules/accumulationchart.js")},"./modules/accumulationchart.js":function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.sf=window.sf||{};sf.charts=sf.base.extend({},sf.charts,function(e){"use strict";var t;!function(e){e.axisLabelFont={size:"12px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.axisTitleFont={size:"14px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.chartTitleFont={size:"15px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.chartSubTitleFont={size:"11px",fontWeight:"500",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.crosshairLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.tooltipLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.legendLabelFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.legendTitleFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"},e.stripLineLabelFont={size:"12px",fontWeight:"Regular",color:"#353535",fontStyle:"Normal",fontFamily:"Segoe UI"},e.stockEventFont={size:"13px",fontWeight:"Normal",color:null,fontStyle:"Normal",fontFamily:"Segoe UI"}}(t||(t={}));var o,n,s,a,r=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l=function(e,t,o,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(a<3?s(r):a>3?s(t,o,r):s(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),l([sf.base.Property("Line")],t.prototype,"type",void 0),l([sf.base.Property(null)],t.prototype,"color",void 0),l([sf.base.Property(1)],t.prototype,"width",void 0),l([sf.base.Property(null)],t.prototype,"length",void 0),l([sf.base.Property("")],t.prototype,"dashArray",void 0),t}(sf.base.ChildProperty),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),l([sf.base.Property("Normal")],t.prototype,"fontStyle",void 0),l([sf.base.Property("16px")],t.prototype,"size",void 0),l([sf.base.Property("Normal")],t.prototype,"fontWeight",void 0),l([sf.base.Property("")],t.prototype,"color",void 0),l([sf.base.Property("Center")],t.prototype,"textAlignment",void 0),l([sf.base.Property("Segoe UI")],t.prototype,"fontFamily",void 0),l([sf.base.Property(1)],t.prototype,"opacity",void 0),l([sf.base.Property("Trim")],t.prototype,"textOverflow",void 0),t}(sf.base.ChildProperty),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),l([sf.base.Property("")],t.prototype,"color",void 0),l([sf.base.Property(1)],t.prototype,"width",void 0),t}(sf.base.ChildProperty),p=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),l([sf.base.Property(0)],t.prototype,"x",void 0),l([sf.base.Property(0)],t.prototype,"y",void 0)}(sf.base.ChildProperty),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),l([sf.base.Complex({},c)],t.prototype,"border",void 0),l([sf.base.Property("transparent")],t.prototype,"background",void 0),l([sf.base.Property(1)],t.prototype,"opacity",void 0),l([sf.base.Property(null)],t.prototype,"backgroundImage",void 0)}(sf.base.ChildProperty),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),l([sf.base.Property(10)],t.prototype,"left",void 0),l([sf.base.Property(10)],t.prototype,"right",void 0),l([sf.base.Property(10)],t.prototype,"top",void 0),l([sf.base.Property(10)],t.prototype,"bottom",void 0),t}(sf.base.ChildProperty)),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),l([sf.base.Property(0)],t.prototype,"left",void 0),l([sf.base.Property(0)],t.prototype,"right",void 0),l([sf.base.Property(0)],t.prototype,"top",void 0),l([sf.base.Property(0)],t.prototype,"bottom",void 0),t}(sf.base.ChildProperty),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),l([sf.base.Property(!0)],t.prototype,"enable",void 0),l([sf.base.Property(1e3)],t.prototype,"duration",void 0),l([sf.base.Property(0)],t.prototype,"delay",void 0),t}(sf.base.ChildProperty),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),l([sf.base.Property(0)],t.prototype,"series",void 0),l([sf.base.Property(0)],t.prototype,"point",void 0),t}(sf.base.ChildProperty),b=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),l([sf.base.Property(0)],t.prototype,"topLeft",void 0),l([sf.base.Property(0)],t.prototype,"topRight",void 0),l([sf.base.Property(0)],t.prototype,"bottomLeft",void 0),l([sf.base.Property(0)],t.prototype,"bottomRight",void 0)}(sf.base.ChildProperty),function(e,t){this.series=e,this.point=t}),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),l([sf.base.Property(null)],t.prototype,"fill",void 0),l([sf.base.Complex({color:"transparent",width:0},c)],t.prototype,"border",void 0),l([sf.base.Property("Gap")],t.prototype,"mode",void 0),t}(sf.base.ChildProperty),m=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),l([sf.base.Property(!1)],t.prototype,"enable",void 0),l([sf.base.Property(null)],t.prototype,"minY",void 0),l([sf.base.Property(null)],t.prototype,"maxY",void 0),l([sf.base.Property(null)],t.prototype,"fill",void 0)}(sf.base.ChildProperty),function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return r(i,e),l([sf.base.Property(!1)],i.prototype,"enable",void 0),l([sf.base.Property(!0)],i.prototype,"enableMarker",void 0),l([sf.base.Property(!1)],i.prototype,"shared",void 0),l([sf.base.Property(null)],i.prototype,"fill",void 0),l([sf.base.Property(null)],i.prototype,"header",void 0),l([sf.base.Property(.75)],i.prototype,"opacity",void 0),l([sf.base.Complex(t.tooltipLabelFont,d)],i.prototype,"textStyle",void 0),l([sf.base.Property(null)],i.prototype,"format",void 0),l([sf.base.Property(null)],i.prototype,"template",void 0),l([sf.base.Property(!0)],i.prototype,"enableAnimation",void 0),l([sf.base.Property(300)],i.prototype,"duration",void 0),l([sf.base.Property(1e3)],i.prototype,"fadeOutDuration",void 0),l([sf.base.Property("Move")],i.prototype,"fadeOutMode",void 0),l([sf.base.Property(!1)],i.prototype,"enableTextWrap",void 0),l([sf.base.Complex({color:"#cccccc",width:.5},c)],i.prototype,"border",void 0),i}(sf.base.ChildProperty)),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),l([sf.base.Property("Years")],t.prototype,"intervalType",void 0),l([sf.base.Property(1)],t.prototype,"interval",void 0),l([sf.base.Property(null)],t.prototype,"text",void 0),l([sf.base.Property(!1)],t.prototype,"selected",void 0),t}(sf.base.ChildProperty),x=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}r(t,e),l([sf.base.Property(43)],t.prototype,"height",void 0),l([sf.base.Property("Bottom")],t.prototype,"position",void 0),l([sf.base.Collection([],v)],t.prototype,"periods",void 0)}(sf.base.ChildProperty),function(){function e(e,t){e<t?(this.mStart=e,this.mEnd=t):(this.mStart=t,this.mEnd=e)}return Object.defineProperty(e.prototype,"start",{get:function(){return this.mStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.mEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delta",{get:function(){return this.mEnd-this.mStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"median",{get:function(){return this.mStart+(this.mEnd-this.mStart)/2},enumerable:!0,configurable:!0}),e}()),P=function(){function e(e){this.isColumn=0,this.chart=e}return e.prototype.calculateNumericNiceInterval=function(e,t,i){var o=function(e,t){var i="Horizontal"===t.orientation?e.width:e.height;if(sf.base.isNullOrUndefined(t.desiredIntervals)){var o=("Horizontal"===t.orientation?.533:1)*t.maximumLabels;return o=Math.max(i*(o/100),1)}return t.desiredIntervals}(i,e),n=t/o;if(!sf.base.isNullOrUndefined(e.desiredIntervals))return n;for(var s=Math.pow(10,Math.floor(H(n,10))),a=0,r=e.intervalDivs;a<r.length;a++){var l=s*r[a];if(o<t/l)break;n=l}return n},e.prototype.getActualRange=function(e,t){this.initializeDoubleRange(e),!e.startFromZero&&this.isColumn>0?(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.max=e.doubleRange.end+e.actualRange.interval,e.doubleRange.start-e.actualRange.interval<0&&e.doubleRange.start>0?e.actualRange.min=0:e.actualRange.min=e.doubleRange.start-e.actualRange.interval):(e.actualRange.interval=e.interval||this.calculateNumericNiceInterval(e,e.doubleRange.delta,t),e.actualRange.min=e.doubleRange.start,e.actualRange.max=e.doubleRange.end)},e.prototype.initializeDoubleRange=function(e){null!==e.minimum?this.min=e.minimum:null!==this.min&&this.min!==Number.POSITIVE_INFINITY||(this.min=0),null!==e.maximum?this.max=e.maximum:null!==this.max&&this.max!==Number.NEGATIVE_INFINITY||(this.max=5),this.min===this.max&&(this.max=e.valueType.indexOf("Category")>-1?this.max:this.min+1),e.doubleRange=new x(this.min,this.max),e.actualRange={}},e.prototype.calculateRangeAndInterval=function(e,t){this.calculateRange(t),this.getActualRange(t,e),this.applyRangePadding(t,e),this.calculateVisibleLabels(t,this.chart)},e.prototype.calculateRange=function(e){if(/*! Generate axis range */this.min=null,this.max=null,!ee(e))for(var t=0,i=e.series;t<i.length;t++){var o=i[t];o.visible&&(this.paddingInterval=0,e.maxPointLength=o.points.length,((o.type.indexOf("Column")>-1||o.type.indexOf("Histogram")>-1)&&"Horizontal"===e.orientation||o.type.indexOf("Bar")>-1&&"Vertical"===e.orientation)&&("Double"!==o.xAxis.valueType&&"DateTime"!==o.xAxis.valueType||"Auto"!==o.xAxis.rangePadding||(this.paddingInterval=.5*Q(o.xAxis,e.series))),"Horizontal"===e.orientation&&(this.chart.requireInvertedAxis?this.yAxisRange(e,o):this.findMinMax(o.xMin-this.paddingInterval,o.xMax+this.paddingInterval)),"Vertical"===e.orientation&&(this.isColumn+="Column"===o.type||"Bar"===o.type||"Column"===o.drawType?1:0,this.chart.requireInvertedAxis?this.findMinMax(o.xMin-this.paddingInterval,o.xMax+this.paddingInterval):this.yAxisRange(e,o)))}},e.prototype.yAxisRange=function(e,t){t.dragSettings.enable&&this.chart.dragY&&(this.chart.dragY>=e.visibleRange.max&&(t.yMax=this.chart.dragY+e.visibleRange.interval),this.chart.dragY<=e.visibleRange.min&&(t.yMin=this.chart.dragY-e.visibleRange.interval)),this.findMinMax(t.yMin,t.yMax)},e.prototype.findMinMax=function(e,t){(null===this.min||this.min>e)&&(this.min=e),(null===this.max||this.max<t)&&(this.max=t),this.max===this.min&&this.max<0&&this.min<0&&(this.max=0)},e.prototype.applyRangePadding=function(e,t){var i=e.actualRange.min,o=e.actualRange.max;if(!ee(e)){var n=e.actualRange.interval,s=e.getRangePadding(this.chart);"Additional"===s||"Round"===s?this.findAdditional(e,i,o,n):"Normal"===s?this.findNormal(e,i,o,n,t):this.updateActualRange(e,i,o,n)}e.actualRange.delta=e.actualRange.max-e.actualRange.min,this.calculateVisibleRange(t,e)},e.prototype.updateActualRange=function(e,t,i,o){e.actualRange={min:null!=e.minimum?e.minimum:t,max:null!=e.maximum?e.maximum:i,interval:null!=e.interval?e.interval:o,delta:e.actualRange.delta}},e.prototype.findAdditional=function(e,t,i,o){var n,s;n=Math.floor(t/o)*o,s=Math.ceil(i/o)*o,"Additional"===e.rangePadding&&(n-=o,s+=o),this.updateActualRange(e,n,s,o)},e.prototype.findNormal=function(e,t,i,o,n){var s,a,r=t;t<0?(r=0,.365*o>=o+(s=t+.05*t)%o&&(s-=o),s%o<0&&(s=s-o-s%o)):(s=t<5/6*i?0:t-.5*(i-t))%o>0&&(s-=s%o),.365*o>=o-(a=i>0?i+.05*(i-r):i-.05*(i-r))%o&&(a+=o),a%o>0&&(a=a+o-a%o),e.doubleRange=new x(s,a),0===s&&(o=this.calculateNumericNiceInterval(e,e.doubleRange.delta,n),a=Math.ceil(a/o)*o),this.updateActualRange(e,s,a,o)},e.prototype.calculateVisibleRange=function(e,t){if(t.visibleRange={max:t.actualRange.max,min:t.actualRange.min,delta:t.actualRange.delta,interval:t.actualRange.interval},"Cartesian"===this.chart.chartAreaType){var i=!sf.base.isNullOrUndefined(t.zoomingScrollBar)&&t.zoomingScrollBar.isLazyLoad;(t.zoomFactor<1||t.zoomPosition>0)&&!i&&(t.calculateVisibleRangeOnZooming(e),t.calculateAxisRange(e,this.chart),t.visibleRange.interval=t.enableAutoIntervalOnZooming&&"Category"!==t.valueType?this.calculateNumericNiceInterval(t,t.doubleRange.delta,e):t.visibleRange.interval)}t.triggerRangeRender(this.chart,t.visibleRange.min,t.visibleRange.max,t.visibleRange.interval)},e.prototype.calculateVisibleLabels=function(e,t){/*! Generate axis labels */e.visibleLabels=[];var i,o=e.visibleRange.min;!("chart"===t.getModuleName()&&"PolarRadar"===t.chartAreaType)&&(e.zoomFactor<1||e.zoomPosition>0||this.paddingInterval)&&(o=e.visibleRange.min-e.visibleRange.min%e.visibleRange.interval);var n,s=this.getFormat(e),a=null!==s.match("{value}"),r=0,l=0;for(e.labelFormat&&e.labelFormat.indexOf("n")>-1&&(l=parseInt(e.labelFormat.substring(1,e.labelFormat.length),10)),e.format=t.intl.getNumberFormat({format:a?"":s,useGrouping:t.useGroupingSeparator}),e.startLabel=e.format(e.visibleRange.min),e.endLabel=e.format(e.visibleRange.max),e.visibleRange.interval&&(e.visibleRange.interval+"").indexOf(".")>=0&&(r=(e.visibleRange.interval+"").split(".")[1].length);o<=e.visibleRange.max&&n!==o;o+=e.visibleRange.interval)n=o,i=sf.base.extend({},sf.base.getValue("properties",e.labelStyle),null,!0),W(o,e.visibleRange)&&K(t,o,this.formatValue(e,a,s,o),i,e);o&&(o+"").indexOf(".")>=0&&(o+"").split(".")[1].length>10&&(o=(o+"").split(".")[1].length>(l||r)?+o.toFixed(l||r):o)<=e.visibleRange.max&&K(t,o,this.formatValue(e,a,s,o),i,e),e.getMaxLabelWidth&&e.getMaxLabelWidth(this.chart)},e.prototype.getFormat=function(e){return e.labelFormat?0===e.labelFormat.indexOf("p")&&-1===e.labelFormat.indexOf("{value}")&&e.isStack100?"{value}%":e.labelFormat:e.isStack100?"{value}%":""},e.prototype.formatValue=function(e,t,i,o){return t?i.replace("{value}",e.format(o)):e.format(o)},e}(),S=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),w=function(e,t,o,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(a<3?s(r):a>3?s(t,o,r):s(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},R=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}S(t,e),w([sf.base.Property("0")],t.prototype,"x",void 0),w([sf.base.Property("0")],t.prototype,"y",void 0),w([sf.base.Property(null)],t.prototype,"content",void 0),w([sf.base.Property("Center")],t.prototype,"horizontalAlignment",void 0),w([sf.base.Property("Pixel")],t.prototype,"coordinateUnits",void 0),w([sf.base.Property("Chart")],t.prototype,"region",void 0),w([sf.base.Property("Middle")],t.prototype,"verticalAlignment",void 0),w([sf.base.Property(null)],t.prototype,"xAxisName",void 0),w([sf.base.Property(null)],t.prototype,"yAxisName",void 0),w([sf.base.Property(null)],t.prototype,"description",void 0)}(sf.base.ChildProperty),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),w([sf.base.Property("")],t.prototype,"color",void 0),w([sf.base.Property(1)],t.prototype,"width",void 0),w([sf.base.Property("Rectangle")],t.prototype,"type",void 0),t}(sf.base.ChildProperty)),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),w([sf.base.Property(null)],t.prototype,"start",void 0),w([sf.base.Property(null)],t.prototype,"end",void 0),w([sf.base.Property("")],t.prototype,"text",void 0),w([sf.base.Property(null)],t.prototype,"maximumTextWidth",void 0),w([sf.base.Property(null)],t.prototype,"customAttributes",void 0),w([sf.base.Property("")],t.prototype,"type",void 0),t}(sf.base.ChildProperty),L=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return S(i,e),w([sf.base.Property(!0)],i.prototype,"visible",void 0),w([sf.base.Property(!1)],i.prototype,"startFromAxis",void 0),w([sf.base.Property(null)],i.prototype,"start",void 0),w([sf.base.Property(null)],i.prototype,"end",void 0),w([sf.base.Property(null)],i.prototype,"size",void 0),w([sf.base.Property("#808080")],i.prototype,"color",void 0),w([sf.base.Property(null)],i.prototype,"dashArray",void 0),w([sf.base.Property("Auto")],i.prototype,"sizeType",void 0),w([sf.base.Property(!1)],i.prototype,"isRepeat",void 0),w([sf.base.Property(null)],i.prototype,"repeatEvery",void 0),w([sf.base.Property(null)],i.prototype,"repeatUntil",void 0),w([sf.base.Property(!1)],i.prototype,"isSegmented",void 0),w([sf.base.Property(null)],i.prototype,"segmentStart",void 0),w([sf.base.Property(null)],i.prototype,"segmentEnd",void 0),w([sf.base.Property(null)],i.prototype,"segmentAxisName",void 0),w([sf.base.Complex({color:"transparent",width:1},c)],i.prototype,"border",void 0),w([sf.base.Property("")],i.prototype,"text",void 0),w([sf.base.Property(null)],i.prototype,"rotation",void 0),w([sf.base.Property("Middle")],i.prototype,"horizontalAlignment",void 0),w([sf.base.Property("Middle")],i.prototype,"verticalAlignment",void 0),w([sf.base.Complex(t.stripLineLabelFont,d)],i.prototype,"textStyle",void 0),w([sf.base.Property("Behind")],i.prototype,"zIndex",void 0),w([sf.base.Property(1)],i.prototype,"opacity",void 0),i}(sf.base.ChildProperty),A=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return S(i,e),w([sf.base.Property("Center")],i.prototype,"alignment",void 0),w([sf.base.Property("Wrap")],i.prototype,"overflow",void 0),w([sf.base.Complex(t.axisLabelFont,d)],i.prototype,"textStyle",void 0),w([sf.base.Complex({color:null,width:1,type:"Rectangle"},R)],i.prototype,"border",void 0),w([sf.base.Collection([],C)],i.prototype,"categories",void 0),i}(sf.base.ChildProperty),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),w([sf.base.Property(null)],t.prototype,"minimum",void 0),w([sf.base.Property(null)],t.prototype,"maximum",void 0),t}(sf.base.ChildProperty),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),w([sf.base.Property(!1)],t.prototype,"enable",void 0),w([sf.base.Property(null)],t.prototype,"pointsLength",void 0),w([sf.base.Complex({},M)],t.prototype,"range",void 0),t}(sf.base.ChildProperty),_=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),B=function(e,t,o,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(a<3?s(r):a>3?s(t,o,r):s(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},k=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.axes=[],t.nearSizes=[],t.farSizes=[],t}_(t,e),t.prototype.computeSize=function(e,t){var i=0;e.visible&&e.internalVisibility&&(i+=e.findTickSize(e.crossInAxis)+t+e.findLabelSize(e.crossInAxis,5)+.5*e.lineStyle.width),e.opposedPosition?this.farSizes.push(i):this.nearSizes.push(i)},B([sf.base.Property("100%")],t.prototype,"height",void 0),B([sf.base.Complex({},c)],t.prototype,"border",void 0)}(sf.base.ChildProperty),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.axes=[],t.nearSizes=[],t.farSizes=[],t.padding=0,t}_(t,e),t.prototype.computeSize=function(e,t){var i=0;e.visible&&e.internalVisibility&&(i+=e.findTickSize(e.crossInAxis)+t+e.findLabelSize(e.crossInAxis,5)+.5*e.lineStyle.width),e.opposedPosition?this.farSizes.push(i):this.nearSizes.push(i)},B([sf.base.Property("100%")],t.prototype,"width",void 0),B([sf.base.Complex({},c)],t.prototype,"border",void 0)}(sf.base.ChildProperty),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),B([sf.base.Property(1)],t.prototype,"width",void 0),B([sf.base.Property("")],t.prototype,"dashArray",void 0),B([sf.base.Property(null)],t.prototype,"color",void 0),t}(sf.base.ChildProperty)),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),B([sf.base.Property(.7)],t.prototype,"width",void 0),B([sf.base.Property("")],t.prototype,"dashArray",void 0),B([sf.base.Property(null)],t.prototype,"color",void 0),t}(sf.base.ChildProperty),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),B([sf.base.Property(1)],t.prototype,"width",void 0),B([sf.base.Property("")],t.prototype,"dashArray",void 0),B([sf.base.Property(null)],t.prototype,"color",void 0),t}(sf.base.ChildProperty),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),B([sf.base.Property(1)],t.prototype,"width",void 0),B([sf.base.Property(5)],t.prototype,"height",void 0),B([sf.base.Property(null)],t.prototype,"color",void 0),t}(sf.base.ChildProperty),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),B([sf.base.Property(.7)],t.prototype,"width",void 0),B([sf.base.Property(5)],t.prototype,"height",void 0),B([sf.base.Property(null)],t.prototype,"color",void 0),t}(sf.base.ChildProperty),z=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return _(i,e),B([sf.base.Property(!1)],i.prototype,"enable",void 0),B([sf.base.Property(null)],i.prototype,"fill",void 0),B([sf.base.Complex(t.crosshairLabelFont,d)],i.prototype,"textStyle",void 0),i}(sf.base.ChildProperty),F=(function(e){function i(t,i,o,n){var s=e.call(this,t,i,o,n)||this;return s.visibleLabels=[],s.series=[],s.rect=new sf.svgbase.Rect(void 0,void 0,0,0),s.axisBottomLine=null,s.intervalDivs=[10,5,2,1],s.isStack100=!1,s.crossAt=null,s.updatedRect=null,s.multiLevelLabelHeight=0,s.isChart=!0,s.isIntervalInDecimal=!0,s.titleCollection=[],s.titleSize=new sf.svgbase.Size(0,0),s.internalVisibility=!0,s.angle=s.labelRotation,s}_(i,e),i.prototype.findTickSize=function(e){return"Inside"===this.tickPosition?0:!e||e.visibleRange&&!this.isInside(e.visibleRange)?this.majorTickLines.height:0},i.prototype.isInside=function(e){return function(e,t){return e<t.max&&e>t.min}(this.crossAt,e)||!this.opposedPosition&&this.crossAt>=e.max||this.opposedPosition&&this.crossAt<=e.min},i.prototype.findLabelSize=function(e,t){var i,o,n=0,s="Horizontal"===this.orientation;if(this.title&&(this.titleSize=sf.svgbase.measureText(this.title,this.titleStyle),n=this.titleSize.height+t,this.rect.width||this.rect.height)){var a=s?this.rect.width:this.rect.height;this.titleCollection=me(this.title,this.titleStyle,a),n*=this.titleCollection.length}if("Inside"===this.labelPosition)return n+t;var r=n+t+this.titlePadding+this.labelPadding+("Vertical"===this.orientation?this.maxLabelSize.width:this.maxLabelSize.height)+this.multiLevelLabelHeight;if(e&&this.placeNextToAxisLine){var l=e.visibleRange,h="Horizontal"===e.orientation?e.rect.width:e.rect.height;if(!l||!h)return 0;this.isInside(l)&&(r=(i=(o=this.findDifference(e))*((h-((i=o*(h/l.delta))<r?r-i:0))/l.delta))<r?r-i:0)}return r},i.prototype.updateCrossValue=function(){var e=this.crossAt;if(null===e||!this.isInside(this.crossInAxis.visibleRange))return this.updatedRect=this.rect,null;var t=this.crossInAxis.visibleRange;this.opposedPosition?this.crossAt<t.min&&(e=t.min):this.crossAt>t.max&&(e=t.max),this.updatedRect=sf.base.extend({},this.rect,null,!0),"Horizontal"===this.orientation?(e=this.crossInAxis.rect.height-Y(e,this.crossInAxis)*this.crossInAxis.rect.height,this.updatedRect.y=this.crossInAxis.rect.y+e):(e=Y(e,this.crossInAxis)*this.crossInAxis.rect.width,this.updatedRect.x=this.crossInAxis.rect.x+e)},i.prototype.findDifference=function(e){var t=0;return t=this.opposedPosition?e.isInversed?e.visibleRange.min:e.visibleRange.max:e.isInversed?e.visibleRange.max:e.visibleRange.min,Math.abs(this.crossAt-t)},i.prototype.calculateVisibleRangeOnZooming=function(e){if((n=this).zoomFactor<1&&n.zoomPosition>=0){var t=this.actualRange,i=void 0,o=void 0;o=this.isInversed?(i=this.actualRange.max-this.zoomPosition*this.actualRange.delta)-this.zoomFactor*this.actualRange.delta:(i=this.actualRange.min+this.zoomPosition*this.actualRange.delta)+this.zoomFactor*this.actualRange.delta,i<t.min&&(o+=t.min-i,i=t.min),o>t.max&&(i-=o-t.max,o=t.max),this.doubleRange=new x(i,o),this.visibleRange={min:this.doubleRange.start,max:this.doubleRange.end,delta:this.doubleRange.delta,interval:this.visibleRange.interval}}var n},i.prototype.calculateAxisRange=function(e,t){if(t.enableAutoIntervalOnBothAxis){if("Horizontal"===this.orientation&&"X"===t.zoomSettings.mode)for(var i=0;i<this.series.length;i++){for(var o=[],n=0,s=this.series[i].visiblePoints;n<s.length;n++){(c=s[n]).xValue>this.visibleRange.min&&c.xValue<this.visibleRange.max&&o.push(c.yValue)}for(var a=0,r=t.axisCollections;a<r.length;a++){"Vertical"!==(g=r[a]).orientation||sf.base.isNullOrUndefined(g.series[i])||(g.series[i].yMin=Math.min.apply(Math,o),g.series[i].yMax=Math.max.apply(Math,o),g.baseModule.calculateRangeAndInterval(e,g))}}if("Vertical"===this.orientation&&"Y"===t.zoomSettings.mode)for(i=0;i<this.series.length;i++){for(var l=[],h=0,d=this.series[i].visiblePoints;h<d.length;h++){var c;(c=d[h]).yValue>this.visibleRange.min&&c.yValue<this.visibleRange.max&&l.push(c.xValue)}for(var p=0,u=t.axisCollections;p<u.length;p++){var g;"Horizontal"!==(g=u[p]).orientation||sf.base.isNullOrUndefined(g.series[i])||(g.series[i].xMin=Math.min.apply(Math,l),g.series[i].xMax=Math.max.apply(Math,l),g.baseModule.calculateRangeAndInterval(e,g))}}}},i.prototype.triggerRangeRender=function(e,t,i,o){var n={cancel:!1,name:"axisRangeCalculated",axis:this,minimum:t,maximum:i,interval:o};e.trigger("axisRangeCalculated",n),n.cancel||(this.visibleRange={min:n.minimum,max:n.maximum,interval:n.interval,delta:n.maximum-n.minimum})},i.prototype.getRangePadding=function(e){var t=this.rangePadding;if("Auto"!==t)return t;switch(this.orientation){case"Horizontal":t=e.requireInvertedAxis?this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal":"None";break;case"Vertical":t=e.requireInvertedAxis?"None":this.isStack100||this.baseModule.chart.stockChart?"Round":"Normal"}return t},i.prototype.getMaxLabelWidth=function(e){var t,i,o=0,n=!1;this.angle=this.labelRotation,this.maxLabelSize=new sf.svgbase.Size(0,0);for(var s,a=this.labelIntersectAction,r=0,l=this.visibleLabels.length;r<l;r++){(i=V((s=this.visibleLabels[r]).originalText))?(s.size=sf.svgbase.measureText(s.originalText.replace(/<br>/g," "),this.labelStyle),s.breakLabelSize=sf.svgbase.measureText(this.enableTrim?s.text.join("<br>"):s.originalText,this.labelStyle)):s.size=sf.svgbase.measureText(s.text,this.labelStyle);var h=i?s.breakLabelSize.width:s.size.width;h>this.maxLabelSize.width&&(this.maxLabelSize.width=h,this.rotatedLabel=s.text);var d=i?s.breakLabelSize.height:s.size.height;if(d>this.maxLabelSize.height&&(this.maxLabelSize.height=d),i&&(s.text=this.enableTrim?s.text:s.originalText.split("<br>")),"None"!==a&&"Hide"!==a&&"Trim"!==a&&("None"!==a||this.angle%360==0)&&"Horizontal"===this.orientation&&this.rect.width>0&&!n){var c=i?s.breakLabelSize.width:s.size.width;switch(t=Y(s.value,this)*this.rect.width+this.rect.x,t-=c/2,"Shift"===this.edgeLabelPlacement&&(0===r&&t<this.rect.x&&(t=this.rect.x),r===this.visibleLabels.length-1&&t+c>this.rect.x+this.rect.width&&(t=this.rect.x+this.rect.width-c)),a){case"MultipleRows":r>0&&this.findMultiRows(r,t,s,i);break;case"Rotate45":case"Rotate90":r>0&&(this.isInversed?t+c>=o:t<=o)&&(this.angle="Rotate45"===a?45:90,n=!0);break;default:if(i){for(var p=void 0,u=[],g=void 0,f=0;f<s.text.length;f++)if((p=xe(s.text[f],this.rect.width/this.visibleLabels.length,this.labelStyle)).length>1)for(var b=0;b<p.length;b++)g=p[b],u.push(g);else u.push(p[0]);s.text=u}else s.text=xe(s.text,this.rect.width/this.visibleLabels.length,this.labelStyle);var y=s.size.height*s.text.length;y>this.maxLabelSize.height&&(this.maxLabelSize.height=y)}o=this.isInversed?t:t+c}}if(0!==this.angle&&"Horizontal"===this.orientation){this.rotatedLabel=sf.base.isNullOrUndefined(this.rotatedLabel)?"":this.rotatedLabel;var m=-360===this.angle||0===this.angle||-180===this.angle||180===this.angle||360===this.angle;"Outside"===this.labelPosition&&!m&&V(this.rotatedLabel)?this.maxLabelSize=new sf.svgbase.Size(this.maxLabelSize.height,this.maxLabelSize.width):this.maxLabelSize=function(e,t,i,o){var n,s,a,r,l,h=new sf.svgbase.SvgRenderer(o.element.id),d=[],c={id:"rotate_text",x:o.initialClipRect.x,y:o.initialClipRect.y,"font-size":e.size,"font-style":e.fontStyle,"font-family":e.fontFamily,"font-weight":e.fontWeight,transform:"rotate("+i+", 0, 0)","text-anchor":"middle"};V(t)?(d=t.split("<br>"),n=d[0]):n=t;var p=h.createText(c,n);o.delayRedraw||o.redraw||o.element.appendChild(o.svgObject);if("string"!=typeof d&&d.length>1)for(var u=1,g=d.length;u<g;u++)s=sf.svgbase.measureText(d[u],e).height,a=c.y+u*s,r=d[u],l=h.createTSpan({x:c.x,id:c.id,y:a},r),p.appendChild(l);o.svgObject.appendChild(p);var f=p.getBoundingClientRect();sf.base.remove(p),o.delayRedraw||o.redraw||sf.base.remove(o.svgObject);return new sf.svgbase.Size(f.right-f.left,f.bottom-f.top)}(this.labelStyle,this.rotatedLabel,this.angle,e)}e.multiLevelLabelModule&&this.multiLevelLabels.length>0&&e.multiLevelLabelModule.getMultilevelLabelsHeight(this)},i.prototype.findMultiRows=function(e,t,i,o){for(var n,s,a,r=[],l=e-1;l>=0;l--)n=this.visibleLabels[l],a=o?n.breakLabelSize.width:n.size.width,s=Y(n.value,this)*this.rect.width+this.rect.x,(this.isInversed?t+i.size.width>s-.5*a:t<s+.5*a)?(r.push(n.index),i.index=i.index>n.index?i.index:n.index+1):i.index=r.indexOf(n.index)>-1?i.index:n.index;var h=(o?i.breakLabelSize.height:i.size.height)*i.index+5*(i.index-1);h>this.maxLabelSize.height&&(this.maxLabelSize.height=h)},i.prototype.getModule=function(e){"Double"===this.valueType?this.baseModule=new P(e):this.baseModule=e[J(this.valueType)+"Module"]},B([sf.base.Complex(t.axisLabelFont,d)],i.prototype,"labelStyle",void 0),B([sf.base.Complex({},z)],i.prototype,"crosshairTooltip",void 0),B([sf.base.Property("")],i.prototype,"title",void 0),B([sf.base.Complex(t.axisTitleFont,d)],i.prototype,"titleStyle",void 0),B([sf.base.Property("")],i.prototype,"labelFormat",void 0),B([sf.base.Property("")],i.prototype,"skeleton",void 0),B([sf.base.Property("DateTime")],i.prototype,"skeletonType",void 0),B([sf.base.Property("Center")],i.prototype,"lineBreakAlignment",void 0),B([sf.base.Property(0)],i.prototype,"plotOffset",void 0),B([sf.base.Property(null)],i.prototype,"plotOffsetLeft",void 0),B([sf.base.Property(null)],i.prototype,"plotOffsetTop",void 0),B([sf.base.Property(null)],i.prototype,"plotOffsetRight",void 0),B([sf.base.Property(null)],i.prototype,"plotOffsetBottom",void 0),B([sf.base.Property(!1)],i.prototype,"isIndexed",void 0),B([sf.base.Property(10)],i.prototype,"logBase",void 0),B([sf.base.Property(0)],i.prototype,"columnIndex",void 0),B([sf.base.Property(0)],i.prototype,"rowIndex",void 0),B([sf.base.Property(1)],i.prototype,"span",void 0),B([sf.base.Property(null)],i.prototype,"desiredIntervals",void 0),B([sf.base.Property(3)],i.prototype,"maximumLabels",void 0),B([sf.base.Property(1)],i.prototype,"zoomFactor",void 0),B([sf.base.Property(0)],i.prototype,"zoomPosition",void 0),B([sf.base.Property(!0)],i.prototype,"enableScrollbarOnZooming",void 0),B([sf.base.Property(!1)],i.prototype,"opposedPosition",void 0),B([sf.base.Property(!0)],i.prototype,"enableAutoIntervalOnZooming",void 0),B([sf.base.Property("Auto")],i.prototype,"rangePadding",void 0),B([sf.base.Property("Double")],i.prototype,"valueType",void 0),B([sf.base.Property("None")],i.prototype,"edgeLabelPlacement",void 0),B([sf.base.Property("Auto")],i.prototype,"intervalType",void 0),B([sf.base.Property("BetweenTicks")],i.prototype,"labelPlacement",void 0),B([sf.base.Property("Outside")],i.prototype,"tickPosition",void 0),B([sf.base.Property("Outside")],i.prototype,"labelPosition",void 0),B([sf.base.Property("")],i.prototype,"name",void 0),B([sf.base.Property(!0)],i.prototype,"visible",void 0),B([sf.base.Property(0)],i.prototype,"minorTicksPerInterval",void 0),B([sf.base.Property(0)],i.prototype,"labelRotation",void 0),B([sf.base.Property(null)],i.prototype,"crossesAt",void 0),B([sf.base.Property(!0)],i.prototype,"placeNextToAxisLine",void 0),B([sf.base.Property(null)],i.prototype,"crossesInAxis",void 0),B([sf.base.Property(null)],i.prototype,"minimum",void 0),B([sf.base.Property(null)],i.prototype,"maximum",void 0),B([sf.base.Property(null)],i.prototype,"interval",void 0),B([sf.base.Property(34)],i.prototype,"maximumLabelWidth",void 0),B([sf.base.Property(!1)],i.prototype,"enableTrim",void 0),B([sf.base.Property(5)],i.prototype,"labelPadding",void 0),B([sf.base.Property(5)],i.prototype,"titlePadding",void 0),B([sf.base.Complex({},I)],i.prototype,"majorTickLines",void 0),B([sf.base.Complex({},D)],i.prototype,"minorTickLines",void 0),B([sf.base.Complex({},k)],i.prototype,"majorGridLines",void 0),B([sf.base.Complex({},O)],i.prototype,"minorGridLines",void 0),B([sf.base.Complex({},E)],i.prototype,"lineStyle",void 0),B([sf.base.Property("Trim")],i.prototype,"labelIntersectAction",void 0),B([sf.base.Property(!1)],i.prototype,"isInversed",void 0),B([sf.base.Property(100)],i.prototype,"coefficient",void 0),B([sf.base.Property(0)],i.prototype,"startAngle",void 0),B([sf.base.Property(!0)],i.prototype,"startFromZero",void 0),B([sf.base.Property(null)],i.prototype,"description",void 0),B([sf.base.Property(2)],i.prototype,"tabIndex",void 0),B([sf.base.Collection([],L)],i.prototype,"stripLines",void 0),B([sf.base.Collection([],A)],i.prototype,"multiLevelLabels",void 0),B([sf.base.Complex({color:null,width:0,type:"Rectangle"},R)],i.prototype,"border",void 0),B([sf.base.Complex({},T)],i.prototype,"scrollbarSettings",void 0)}(sf.base.ChildProperty),function(e,t,i,o,n,s,a){void 0===n&&(n=new sf.svgbase.Size(0,0)),void 0===s&&(s=new sf.svgbase.Size(0,0)),void 0===a&&(a=1),this.text=e,this.originalText=o,this.value=t,this.labelStyle=i,this.size=n,this.breakLabelSize=s,this.index=a}),N=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function V(e){return-1!==e.indexOf("<br>")}function j(e){if(!e)return null;var t="string"==typeof e?oe(e):e;t&&sf.base.remove(t)}function H(e,t){return Math.log(e)/Math.log(t)}function U(e,t,i,o,n,s,a,r){var l=document.getElementById(n),h=sf.svgbase.measureText(e,{fontFamily:"Segoe UI",size:"12px",fontStyle:"Normal",fontWeight:"Regular"}),d=h.width+5;(t=t+d>o?t-(d+15):t,i=r?i-h.height/2:i+15,l)?(l.innerHTML=e,l.style.top=i.toString()+"px",l.style.left=(t+15).toString()+"px"):(l=sf.base.createElement("div",{innerHTML:e,id:n,styles:"top:"+i.toString()+"px;left:"+(t+15).toString()+'px;background-color: rgb(255, 255, 255) !important; color:black !important; position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: "Segoe UI"'}),s.appendChild(l),parseInt(l.style.left.replace("px",""),10)<0&&(l.style.left="0px"));a&&setTimeout((function(){j(n)}),1500)}function W(e,t){return e<=t.max&&e>=t.min}function G(e,t){return e.x+=t.left,e.y+=t.top,e.width-=t.left+t.right,e.height-=t.top+t.bottom,e}function X(e,t,i){var o=e*Math.PI/180;return new Ce(Math.cos(o)*t+i.x,Math.sin(o)*t+i.y)}function Y(e,t){var i=t.visibleRange,o=(e-i.min)/i.delta;return t.isInversed?1-o:o}function Z(e,t){void 0===t&&(t=!1);var i=["NaN","NaN"];return e.indexOf("_Point_")>-1?i=e.split("_Series_")[1].split("_Point_"):e.indexOf("_shape_")>-1&&(!t||t&&-1===e.indexOf("_legend_"))?(i=e.split("_shape_"))[0]="0":e.indexOf("_text_")>-1&&(!t||t&&-1===e.indexOf("_legend_"))&&((i=e.split("_text_"))[0]="0"),new b(parseInt(i[0],10),parseInt(i[1],10))}function q(e,t,i,o,n){return void 0===o&&(o=0),void 0===n&&(n=0),e>=i.x-o&&e<=i.x+i.width+o&&t>=i.y-n&&t<=i.y+i.height+n}function J(e){return e.substr(0,1).toLowerCase()+e.substr(1)}function Q(e,t){for(var i,o,n,s=Number.MAX_VALUE,a=0;a<t.length;a++){var r=t[a];if(i=[],r.visible&&(e.name===r.xAxisName||"primaryXAxis"===e.name&&null===r.xAxisName||e.name===r.chart.primaryXAxis.name&&!r.xAxisName))if((i=r.points.map((function(e){return e.xValue}))).sort((function(e,t){return e-t})),1===i.length)n="DateTime"===e.valueType&&r.xMin===r.xMax?r.xMin-2592e6:r.xMin,0!==(o=i[0]-(sf.base.isNullOrUndefined(n)?e.visibleRange.min:n))&&(s=Math.min(s,o));else for(var l=0;l<i.length;l++){var h=i[l];l>0&&h&&0!==(o=h-i[l-1])&&(s=Math.min(s,o))}}return s===Number.MAX_VALUE&&(s=1),s}function $(e,t,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+t}function K(e,t,i,o,n){var s={cancel:!1,name:"axisLabelRender",axis:n,text:i,value:t,labelStyle:o};if(e.trigger("axisLabelRender",s),!s.cancel){var a=-1!==s.text.indexOf("<br>"),r=n.enableTrim?a?function(e,t,i){for(var o=[],n=t.split("<br>"),s=0;s<n.length;s++){t=n[s];var a=sf.svgbase.measureText(t,i).width;if(a>e){for(var r=t.length-1;r>=0;--r)if(t=t.substring(0,r)+"...",(a=sf.svgbase.measureText(t,i).width)<=e){o.push(t);break}}else o.push(t)}return o}(n.maximumLabelWidth,s.text,n.labelStyle):ue(n.maximumLabelWidth,s.text,n.labelStyle):s.text;n.visibleLabels.push(new F(r,s.value,s.labelStyle,s.text))}}function ee(e){return null!=e.minimum&&null!=e.maximum}function te(e,t,i,o,n){new sf.base.Animation({}).animate(e,{duration:i,delay:t,name:o,progress:function(e){e.element.style.visibility="visible"},end:function(e){n?sf.base.remove(e.element):e.element.style.visibility="visible"}})}function ie(e,t,i,o,n,s,a,r,l,h){var d=a||new sf.svgbase.SvgRenderer(""),c=function(e,t,i,o,n,s,a){var r,l,h,d="Path",c=s,p=c&&"Circle"===i?t.width-2:t.width,u=c&&"Circle"===i?t.height-2:t.height,g=c?a.targetWidth:0,f=e.x,b=e.y,y=e.y+-u/2,m=e.x+-p/2;switch(i){case"Bubble":case"Circle":d="Ellipse",sf.base.merge(o,{rx:p/2,ry:u/2,cx:f,cy:b});break;case"Cross":r="M "+m+" "+b+" L "+(f+p/2)+" "+b+" M "+f+" "+(b+u/2)+" L "+f+" "+(b+-u/2),sf.base.merge(o,{d:r,stroke:o.fill});break;case"Multiply":r="M "+(f-g)+" "+(b-g)+" L "+(f+g)+" "+(b+g)+" M "+(f-g)+" "+(b+g)+" L "+(f+g)+" "+(b-g),sf.base.merge(o,{d:r,stroke:o.fill});break;case"HorizontalLine":r="M "+m+" "+b+" L "+(f+p/2)+" "+b,sf.base.merge(o,{d:r});break;case"VerticalLine":r="M "+f+" "+(b+u/2)+" L "+f+" "+(b+-u/2),sf.base.merge(o,{d:r});break;case"Diamond":r="M "+m+" "+b+" L "+f+" "+(b+-u/2)+" L "+(f+p/2)+" "+b+" L "+f+" "+(b+u/2)+" L "+m+" "+b+" z",sf.base.merge(o,{d:r});break;case"ActualRect":r="M "+m+" "+(b+-u/8)+" L "+(f+g)+" "+(b+-u/8)+" L "+(f+g)+" "+(b+u/8)+" L "+m+" "+(b+u/8)+" L "+m+" "+(b+-u/8)+" z",sf.base.merge(o,{d:r});break;case"TargetRect":r="M "+(m+g)+" "+(b+-u/2)+" L "+(f+g/2)+" "+(b+-u/2)+" L "+(f+g/2)+" "+(b+u/2)+" L "+(m+g)+" "+(b+u/2)+" L "+(m+g)+" "+(b+-u/2)+" z",sf.base.merge(o,{d:r});break;case"Rectangle":case"Hilo":case"HiloOpenClose":case"Candle":case"Waterfall":case"BoxAndWhisker":case"StepArea":case"StackingStepArea":case"Square":case"Flag":r="M "+m+" "+(b+-u/2)+" L "+(f+p/2)+" "+(b+-u/2)+" L "+(f+p/2)+" "+(b+u/2)+" L "+m+" "+(b+u/2)+" L "+m+" "+(b+-u/2)+" z",sf.base.merge(o,{d:r});break;case"Pyramid":case"Triangle":r="M "+m+" "+(b+u/2)+" L "+f+" "+(b+-u/2)+" L "+(f+p/2)+" "+(b+u/2)+" L "+m+" "+(b+u/2)+" z",sf.base.merge(o,{d:r});break;case"Funnel":case"InvertedTriangle":r="M "+(f+p/2)+" "+(b-u/2)+" L "+f+" "+(b+u/2)+" L "+(f-p/2)+" "+(b-u/2)+" L "+(f+p/2)+" "+(b-u/2)+" z",sf.base.merge(o,{d:r});break;case"Pentagon":for(var v=0;v<=5;v++)l=p/2*Math.cos(Math.PI/180*(72*v)),h=u/2*Math.sin(Math.PI/180*(72*v)),r=0===v?"M "+(f+l)+" "+(b+h)+" ":r.concat("L "+(f+l)+" "+(b+h)+" ");r=r.concat("Z"),sf.base.merge(o,{d:r});break;case"Image":d="Image",sf.base.merge(o,{href:n,height:u,width:p,x:m,y:y})}return{renderOption:o=function(e,t,i,o){var n="",s=t.height,a=t.width,r=e.x,l=e.y;switch(i){case"MultiColoredLine":case"Line":case"StackingLine":case"StackingLine100":n="M "+(r+-a/2)+" "+l+" L "+(r+a/2)+" "+l,sf.base.merge(o,{d:n});break;case"StepLine":o.fill="transparent",n="M "+(r+-a/2-2.5)+" "+(l+s/2)+" L "+(r+-a/2+a/10)+" "+(l+s/2)+" L "+(r+-a/2+a/10)+" "+l+" L "+(r+-a/10)+" "+l+" L "+(r+-a/10)+" "+(l+s/2)+" L "+(r+a/5)+" "+(l+s/2)+" L "+(r+a/5)+" "+(l+-s/2)+" L "+(r+a/2)+" "+(l+-s/2)+"L "+(r+a/2)+" "+(l+s/2)+" L"+(r+a/2+2.5)+" "+(l+s/2),sf.base.merge(o,{d:n});break;case"UpArrow":o.fill=o.stroke,o.stroke="transparent",n="M "+(r+-a/2)+" "+(l+s/2)+" L "+r+" "+(l-s/2)+" L "+(r+a/2)+" "+(l+s/2)+"L "+(r+a/2-2)+" "+(l+s/2)+" L "+r+" "+(l-s/2+4)+"L"+(r-a/2+2)+" "+(l+s/2)+" Z",sf.base.merge(o,{d:n});break;case"DownArrow":n="M "+(r-a/2)+" "+(l-s/2)+" L "+r+" "+(l+s/2)+" L "+(r+a/2)+" "+(l-s/2)+"L "+(r+a/2-2)+" "+(l-s/2)+" L "+r+" "+(l+s/2-4)+"L"+(r-a/2+2)+" "+(l-s/2)+" Z",sf.base.merge(o,{d:n});break;case"RightArrow":n="M "+(r+-a/2)+" "+(l-s/2)+" L "+(r+a/2)+" "+l+" L "+(r+-a/2)+" "+(l+s/2)+" L "+(r+-a/2)+" "+(l+s/2-2)+" L "+(r+a/2-4)+" "+l+" L"+(r+-a/2)+" "+(l-s/2+2)+" Z",sf.base.merge(o,{d:n});break;case"LeftArrow":o.fill=o.stroke,o.stroke="transparent",n="M "+(r+a/2)+" "+(l-s/2)+" L "+(r+-a/2)+" "+l+" L "+(r+a/2)+" "+(l+s/2)+" L "+(r+a/2)+" "+(l+s/2-2)+" L "+(r+-a/2+4)+" "+l+" L"+(r+a/2)+" "+(l-s/2+2)+" Z",sf.base.merge(o,{d:n});break;case"Column":case"Pareto":case"StackingColumn":case"StackingColumn100":case"RangeColumn":case"Histogram":n="M "+(r-a/5*3)+" "+(l-s/5)+" L "+(r+-a/10*3)+" "+(l-s/5)+" L "+(r+-a/10*3)+" "+(l+s/2)+" L "+(r-a/5*3)+" "+(l+s/2)+" Z M "+(r+-a/10-a/20)+" "+(l-s/4-5)+" L "+(r+a/10+a/20)+" "+(l-s/4-5)+" L "+(r+a/10+a/20)+" "+(l+s/2)+" L "+(r+-a/10-a/20)+" "+(l+s/2)+" Z M "+(r+a/10*3)+" "+l+" L "+(r+a/5*3)+" "+l+" L "+(r+a/5*3)+" "+(l+s/2)+" L "+(r+a/10*3)+" "+(l+s/2)+" Z",sf.base.merge(o,{d:n});break;case"Bar":case"StackingBar":case"StackingBar100":n="M "+(r+-a/2+-2.5)+" "+(l-s/5*3)+" L "+(r+a/10*3)+" "+(l-s/5*3)+" L "+(r+a/10*3)+" "+(l-s/10*3)+" L "+(r-a/2-2.5)+" "+(l-s/10*3)+" Z M "+(r+-a/2+-2.5)+" "+(l-s/5+.5)+" L "+(r+a/2+2.5)+" "+(l-s/5+.5)+" L "+(r+a/2+2.5)+" "+(l+s/10+.5)+" L "+(r-a/2-2.5)+" "+(l+s/10+.5)+" Z M "+(r-a/2-2.5)+" "+(l+s/5+1)+" L "+(r+-a/4)+" "+(l+s/5+1)+" L "+(r+-a/4)+" "+(l+s/2+1)+" L "+(r-a/2-2.5)+" "+(l+s/2+1)+" Z",sf.base.merge(o,{d:n});break;case"Spline":o.fill="transparent",n="M "+(r-a/2)+" "+(l+s/5)+" Q "+r+" "+(l-s)+" "+r+" "+(l+s/5)+" M "+r+" "+(l+s/5)+" Q "+(r+a/2)+" "+(l+s/2)+" "+(r+a/2)+" "+(l-s/2),sf.base.merge(o,{d:n});break;case"Area":case"MultiColoredArea":case"RangeArea":case"StackingArea":case"StackingArea100":n="M "+(r-a/2-2.5)+" "+(l+s/2)+" L "+(r+-a/4+-1.25)+" "+(l-s/2)+" L "+r+" "+(l+s/4)+" L "+(r+a/4+1.25)+" "+(l+-s/2+s/4)+" L "+(r+s/2+2.5)+" "+(l+s/2)+" Z",sf.base.merge(o,{d:n});break;case"SplineArea":case"SplineRangeArea":n="M "+(r-a/2)+" "+(l+s/5)+" Q "+r+" "+(l-s)+" "+r+" "+(l+s/5)+" Z M "+r+" "+(l+s/5)+" Q "+(r+a/2)+" "+(l+s/2)+" "+(r+a/2)+" "+(l-s/2)+"  Z",sf.base.merge(o,{d:n});break;case"Pie":case"Doughnut":o.stroke="transparent";var h=Math.min(s,a)/2;n=function(e,t,i,o,n,s){var a=X(270,i,new Ce(e,t)),r=X(270,i,new Ce(e+n/10,t));return"M "+e+" "+t+" L "+(e+i)+" "+t+" A "+i+" "+i+" 0 1 1 "+a.x+" "+a.y+" Z M "+(e+n/10)+" "+(t-o/10)+" L"+(e+i)+" "+(t-o/10)+" A "+i+" "+i+" 0 0 0 "+r.x+" "+r.y+" Z"}(r,l,h,s,a),sf.base.merge(o,{d:n})}return{renderOption:o}}(e,new sf.svgbase.Size(p,u),i,o).renderOption,functionName:d}}(e,i,t,n,o,l,h);return d["draw"+c.functionName](c.renderOption,r?new Int32Array([r.x,r.y]):null)}function oe(e){return document.getElementById(e)}function ne(e,t,i,o,n,s,a,r,l,h){var d=e.getBoundingClientRect();t.accumulationDataLabelModule.calculateLabelSize(i,e,s,o,n,a,r,l,h,d,!0)}function se(e,t,i,o,n,s){var a=document.getElementById(t.element.id+"_Series_"+(void 0===o.index?o.category:o.index)+"_DataLabelCollections");a&&(0===i.index&&(t.dataLabelCollections=[]),t.dataLabelModule.calculateTemplateLabelSize(a,e,i,o,o.marker.dataLabel,n,o.clipRect,s,!0))}function ae(e,t,i,o,n,s,a,r,l,h,d,c,p,u,g){var f,b=function(e){var t=null;try{document.querySelectorAll(e).length&&(t=sf.base.compile(document.querySelector(e).innerHTML.trim()))}catch(i){t=sf.base.compile(e)}return t}(i);try{var y=window.Blazor?a?n:{point:n}:{chart:o,series:s,point:n},m=b?b(y,o,a?a+"_template":"template",a||e.id.replace(/[^a-zA-Z0-9]/g,"")):[];if(m.length)for(var v=(f=Array.prototype.slice.call(m)).length,x=0;x<v;x++)e.appendChild(f[x]);var P=void 0;"accumulationchart"===o.getModuleName()?(P=ne.bind(this,e,o,h,d,l,d[t],c,p,u,g),o.isReact&&o.renderReactTemplates(P)):"chart"===o.getModuleName()&&(P=n&&s?se.bind(this,e,o,n,s,r,g):P,o.isReact&&o.renderReactTemplates(P))}catch(t){return e}return e}function re(e,t,i){void 0===t&&(t=!1),i||document.body.appendChild(e);var o=e.getBoundingClientRect();return t?sf.base.remove(e):i||j(e.id),o}function le(e,t,i,o,n,s){if(void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===n&&(n="x"),void 0===s&&(s="y"),!(e&&e.hasChildNodes()&&t))return null;he(!1,t,e,i,o,n,s)}function he(e,t,i,o,n,s,a,r,l,h,d,c,p){if(void 0===n&&(n=!1),void 0===s&&(s="x"),void 0===a&&(a="y"),void 0===h&&(h=!1),void 0===d&&(d=!1),void 0===c&&(c=null),e)return null;var u=t.querySelector("#"+i.id),g=u||oe(i.id),f=i,b=p||300;if(o&&n&&g)if(r=r||("DIV"===g.tagName?new Ce(+g.style[s].split("px")[0],+g.style[a].split("px")[0]):new Ce(+g.getAttribute(s),+g.getAttribute(a))),l&&"undefined"!==l)!function(e,t,i,o,n){if(!i||!o&&!e)return null;var s=300;n&&(s=n);var a,r,l,h=o||e.getAttribute("d"),d=h.split(/(?=[LMCZAQ])/),c=t.split(/(?=[LMCZAQ])/),p=[],u=[];e.setAttribute("d",h),new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:s,progress:function(t){a="",d.map((function(e,i){if(p=e.split(" "),u=c[i]?c[i].split(" "):p,"Z"===p[0]?a+="Z ":a+=p[0]+" "+$(t.timeStamp,+p[1],+u[1]-+p[1],t.duration)+" "+$(t.timeStamp,+p[2],+u[2]-+p[2],t.duration)+" ","C"===p[0]||"Q"===p[0])for(r=3,l="Q"===p[0]?4:6;r<l;)a+=$(t.timeStamp,+p[r],+u[r]-+p[r],t.duration)+" "+$(t.timeStamp,+p[++r],+u[r]-+p[r],t.duration)+" ",++r;"A"===p[0]&&(a+="0 0 1 "+$(t.timeStamp,+p[6],+u[6]-+p[6],t.duration)+" "+$(t.timeStamp,+p[7],+u[7]-+p[7],t.duration)+" ")})),e.setAttribute("d",a)},end:function(){e.setAttribute("d",t)}})}(i,i.getAttribute("d"),o,l,b);else if(d&&c)!function(e,t,i,o,n){var s=function(t){e.setAttribute("x",t.x+""),e.setAttribute("y",t.y+""),e.setAttribute("width",t.width+""),e.setAttribute("height",t.height+"")};new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:i,delay:t,progress:function(e){s(new sf.svgbase.Rect($(e.timeStamp,n.x,o.x-n.x,e.duration),$(e.timeStamp,n.y,o.y-n.y,e.duration),$(e.timeStamp,n.width,o.width-n.width,e.duration),$(e.timeStamp,n.height,o.height-n.height,e.duration)))},end:function(){s(o)}})}(f,0,b,new sf.svgbase.Rect(+g.getAttribute("x"),+g.getAttribute("y"),+g.getAttribute("width"),+g.getAttribute("height")),c);else{var y="DIV"===f.tagName?new Ce(+f.style[s].split("px")[0],+f.style[a].split("px")[0]):new Ce(+f.getAttribute(s),+f.getAttribute(a));!function(e,t,i,o,n,s){void 0===n&&(n="x");void 0===s&&(s="y");var a="DIV"===e.tagName,r=function(t,i){a?(e.style[n]=t+"px",e.style[s]=i+"px"):(e.setAttribute(n,t+""),e.setAttribute(s,i+""))};r(i.x,i.y),new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:t,progress:function(e){r($(e.timeStamp,i.x,o.x-i.x,e.duration),$(e.timeStamp,i.y,o.y-i.y,e.duration))},end:function(){r(o.x,o.y)}})}(f,b,r,y,s,a)}else o&&n&&!g&&h&&te(f,0,600,"FadeIn");u?t.replaceChild(f,g):t.appendChild(f)}function de(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.height+e.y>t.y}function ce(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function pe(e){e="transparent"===e?"white":e,document.body.appendChild(sf.base.createElement("text",{id:"chartmeasuretext"}));var t=document.getElementById("chartmeasuretext");t.style.color=e,e=window.getComputedStyle(t).color,sf.base.remove(t);var i,o=/^(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/.exec(e);return"#"+ce((i=new Ae(parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10))).r)+ce(i.g)+ce(i.b)}function ue(e,t,i){var o=t,n=sf.svgbase.measureText(t,i).width;if(n>e)for(var s=t.length-1;s>=0;--s)if(o=t.substring(0,s)+"...",(n=sf.svgbase.measureText(o,i).width)<=e)return o;return o}function ge(e,t){return null!=e?-1!==e.indexOf("%")?t/100*parseInt(e,10):parseInt(e,10):null}function fe(e,t,i,o){if(!e)return null;var n=oe(t);return n&&i&&o.setElementAttributes(i,"clipPath"===n.tagName?n.childNodes[0]:n),n}function be(e,t,i,o,n,s,a,r,l,h,d,c,p,u){void 0===s&&(s=!1),void 0===l&&(l=!1);var g,f,b,y,m;g={id:t.id,x:t.x,y:t.y,fill:o||"black","font-size":i.size,"font-style":i.fontStyle,"font-family":i.fontFamily,"font-weight":i.fontWeight,"text-anchor":t.anchor,labelRotation:t.labelRotation,transform:t.transform,opacity:i.opacity,"dominant-baseline":t.baseLine};var v="string"==typeof t.text?t.text:s?t.text[t.text.length-1]:t.text[0],x=d?d.x:0,P=d?d.y:0,S=e.createText(g,v,x,P);if(S.style.fontFamily=i.fontFamily,S.style.fontStyle=i.fontStyle,S.style.fontSize=i.size,S.style.fontWeight=i.fontWeight,S.style.color=i.color,S.style.textAnchor=t.anchor,"string"!=typeof t.text&&t.text.length>1)for(var w=1,R=t.text.length;w<R;w++)b=sf.svgbase.measureText(t.text[w],i).height,y=t.y+(s?-w*b:w*b),m=s?t.text[t.text.length-(w+1)]:t.text[w],u?f=e.createText(g,m,null,null,y,!0):(f=e.createTSpan({x:t.x,id:t.id,y:y},m),S.appendChild(f));return p||he(e instanceof sf.svgbase.CanvasRenderer,n,S,a,r,"x","y",null,null,l,!1,null,h),S}function ye(e){var t=e.element.clientWidth||e.element.offsetWidth,i=e.element.clientHeight;e.stockChart&&(t=e.stockChart.availableSize.width,i=e.stockChart.availableSize.height);var o,n=450;if("rangeNavigator"===e.getModuleName()){var s=e,a=s.tooltip.enable?35:0,r=s.periodSelectorSettings.periods.length?s.periodSelectorSettings.height:0;o=s.margin.top+s.margin.bottom+a;var l=sf.svgbase.measureText("tempString",s.labelStyle).height;n=(e.series.length?sf.base.Browser.isDevice?80:120:(s.enableGrouping?55+l:40)+o)+r,s.disableRangeSelector&&(n=r)}e.availableSize=new sf.svgbase.Size(ge(e.width,t)||t||600,ge(e.height,i||n)||i||n)}function me(e,t,i){var o=[];switch(t.textOverflow){case"Wrap":o=xe(e,i,t);break;case"Trim":o.push(ue(i,e,t));break;default:o.push(e)}return o}function ve(e,t){return"Near"===t.textAlignment?e.x:"Center"===t.textAlignment?e.x+e.width/2:e.x+e.width}function xe(e,t,i){for(var o,n=e.split(" "),s="",a=[],r=0,l=n.length;r<l;r++)o=n[r],sf.svgbase.measureText(s.concat(o),i).width<t?s=s.concat((""===s?"":" ")+o):""!==s?(a.push(ue(t,s,i)),s=o):(a.push(ue(t,o,i)),o=""),s&&r===l-1&&a.push(ue(t,s,i));return a}function Pe(e){for(var t=0;t<e.annotations.length;t++)sf.base.resetBlazorTemplate((e.element.id+"_Annotation_"+t).replace(/[^a-zA-Z0-9]/g,""),"ContentTemplate");sf.base.resetBlazorTemplate(e.element.id+"_tooltipparent_template_blazorTemplate","Template"),sf.base.resetBlazorTemplate(e.element.id+"_DataLabel")}var Se,we=function(e){function t(t,i,o,n,s,a,r,l,h){var d=e.call(this,t,i,o.width,o.color,n,h)||this;return d.y=s.y,d.x=s.x,d.height=s.height,d.width=s.width,d.rx=a||0,d.ry=r||0,d.transform=l||"",d.stroke=0!==o.width&&""!==d.stroke?o.color:"transparent",d}return N(t,e),t}(sf.svgbase.PathOption),Re=function(e,t,i,o,n,s,a,r){this.height=e,this.width=t,this.href=i,this.x=o,this.y=n,this.id=s,this.visibility=a,this.preserveAspectRatio=r},Ce=(function(e){function t(t,i,o,n,s,a,r){var l=e.call(this,t,i,o.width,o.color,n)||this;return l.cy=a,l.cx=s,l.r=r,l}N(t,e)}(sf.svgbase.PathOption),function(e,t){this.x=e,this.y=t}),Le=function(e,t,i,o){this.left=e,this.right=t,this.top=i,this.bottom=o},Ae=function(e,t,i){this.r=e,this.g=t,this.b=i},Me=function(e,t,i){void 0===i&&(i=0),this.point=e,this.series=t,this.lierIndex=i},Te=function(e,t,i){void 0===i&&(i=0),this.point=e,this.series=t,this.index=i},_e=(Se=function(e,t){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Se(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),Be=function(e,t,o,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(a<3?s(r):a>3?s(t,o,r):s(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},ke=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _e(t,e),Be([sf.base.Property(null)],t.prototype,"content",void 0),Be([sf.base.Property("0")],t.prototype,"x",void 0),Be([sf.base.Property("0")],t.prototype,"y",void 0),Be([sf.base.Property("Pixel")],t.prototype,"coordinateUnits",void 0),Be([sf.base.Property("Chart")],t.prototype,"region",void 0),Be([sf.base.Property("Middle")],t.prototype,"verticalAlignment",void 0),Be([sf.base.Property("Center")],t.prototype,"horizontalAlignment",void 0),Be([sf.base.Property(null)],t.prototype,"description",void 0),t}(sf.base.ChildProperty),Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _e(t,e),Be([sf.base.Property(!1)],t.prototype,"visible",void 0),Be([sf.base.Property(!0)],t.prototype,"showZero",void 0),Be([sf.base.Property(null)],t.prototype,"name",void 0),Be([sf.base.Property("transparent")],t.prototype,"fill",void 0),Be([sf.base.Property("Inside")],t.prototype,"position",void 0),Be([sf.base.Property(5)],t.prototype,"rx",void 0),Be([sf.base.Property(5)],t.prototype,"ry",void 0),Be([sf.base.Property(0)],t.prototype,"angle",void 0),Be([sf.base.Property(!1)],t.prototype,"enableRotation",void 0),Be([sf.base.Complex({width:null,color:null},c)],t.prototype,"border",void 0),Be([sf.base.Complex({size:"11px",color:"",fontStyle:"Normal",fontWeight:"Normal",fontFamily:"Segoe UI"},d)],t.prototype,"font",void 0),Be([sf.base.Complex({},h)],t.prototype,"connectorStyle",void 0),Be([sf.base.Property(null)],t.prototype,"template",void 0),t}(sf.base.ChildProperty),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _e(t,e),Be([sf.base.Property("50%")],t.prototype,"x",void 0),Be([sf.base.Property("50%")],t.prototype,"y",void 0),t}(sf.base.ChildProperty),Ie=function(){this.visible=!0,this.symbolLocation=null,this.region=null,this.labelRegion=null,this.labelVisible=!0,this.regions=null,this.isExplode=!1,this.isClubbed=!1,this.isSliced=!1,this.argsData=null,this.isLabelUpdated=null,this.initialLabelRegion=null},De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.points=[],t.clubbedPoints=[],t.sumOfPoints=0,t.isRectSeries=!0,t.clipRect=new sf.svgbase.Rect(0,0,0,0),t.category="Series",t.rightSidePoints=[],t.leftSidePoints=[],t}return _e(t,e),t.prototype.refreshDataManager=function(e,t){var i=this,o=this.dataSource||e.dataSource;o instanceof sf.data.DataManager||!sf.base.isNullOrUndefined(this.query)?this.dataModule.getData(this.dataModule.generateQuery().requiresCount()).then((function(t){return i.dataManagerSuccess(t,e)})):this.dataManagerSuccess({result:o,count:o.length},e,t)},t.prototype.dataManagerSuccess=function(e,t,i){void 0===i&&(i=!0);var o={name:"seriesRender",series:this,data:e.result};t.allowServerDataBinding=!1,t.trigger("seriesRender",o),this.resultData=""!==e.result?e.result:[],t.isBlazor||i||this.getPoints(this.resultData,t),(++t.seriesCounts===t.visibleSeries.length&&i||window.Blazor&&!i&&1===t.seriesCounts)&&(this.getPoints(this.resultData,t),t.refreshChart())},t.prototype.getPoints=function(e,t){var i,o=Object.keys(e).length;if(this.sumOfPoints=0,0===o)return null;this.findSumOfPoints(e),this.points=[],this.clubbedPoints=[],this.sumOfClub=0;for(var n=this.palettes.length?this.palettes:function(e){var t;switch(e){case"Fabric":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"Bootstrap4":case"Bootstrap":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"HighContrastLight":case"Highcontrast":case"HighContrast":t=["#79ECE4","#E98272","#DFE6B6","#C6E773","#BA98FF","#FA83C3","#00C27A","#43ACEF","#D681EF","#D8BC6E"];break;case"MaterialDark":t=["#9ECB08","#56AEFF","#C57AFF","#61EAA9","#EBBB3E","#F45C5C","#8A77FF","#63C7FF","#FF84B0","#F7C928"];break;case"FabricDark":t=["#4472c4","#ed7d31","#ffc000","#70ad47","#5b9bd5","#c1c1c1","#6f6fe2","#e269ae","#9e480e","#997300"];break;case"BootstrapDark":t=["#a16ee5","#f7ce69","#55a5c2","#7ddf1e","#ff6ea6","#7953ac","#b99b4f","#407c92","#5ea716","#b91c52"];break;case"Tailwind":t=["#5A61F6","#65A30D","#334155","#14B8A6","#8B5CF6","#0369A1","#F97316","#9333EA","#F59E0B","#15803D"];break;case"TailwindDark":t=["#8B5CF6","#22D3EE","#F87171","#4ADE80","#E879F9","#FCD34D","#F97316","#2DD4BF","#F472B6","#10B981"];break;case"Bootstrap5":t=["#262E0B","#668E1F","#AF6E10","#862C0B","#1F2D50","#64680B","#311508","#4C4C81","#0C7DA0","#862C0B"];break;case"Bootstrap5Dark":t=["#5ECB9B","#A860F1","#EBA844","#557EF7","#E9599B","#BFC529","#3BC6CF","#7A68EC","#74B706","#EA6266"];break;case"FluentDark":t=["#8AB113","#2A72D5","#43B786","#584EC6","#E85F9C","#6E7A89","#EA6266","#EBA844","#26BC7A","#BC4870"];break;case"Fluent":t=["#614570","#4C6FB1","#CC6952","#3F579A","#4EA09B","#6E7A89","#D4515C","#E6AF5D","#639751","#9D4D69"];break;default:t=["#00bdae","#404041","#357cd2","#e56590","#f8b883","#70ad47","#dd8abd","#7f84e8","#7bb4eb","#ea7a57"]}return t}(t.theme),s=ge(this.groupTo,this.sumOfPoints),a=0;a<o;a++){(i=this.setPoints(e,a,n,t)).y;this.isClub(i,s,a)?(i.index=this.clubbedPoints.length,i.isExplode=!0,this.clubbedPoints.push(i),i.isSliced=!0):(sf.base.isNullOrUndefined(i.y)&&(i.visible=!1),this.pushPoints(i,n))}if(this.lastGroupTo=this.groupTo,this.sumOfClub>0){var r=this.generateClubPoint();this.pushPoints(r,n);var l=this.points.length-1;this.clubbedPoints.map((function(e){e.index+=l,e.color=r.color}))}this.clubbedPoints.length&&this.explode&&"Pie"===this.type&&(this.explodeAll||this.points[this.points.length-1].index===this.explodeIndex)&&(this.points.splice(this.points.length-1,1),this.points=this.points.concat(this.clubbedPoints))},t.prototype.generateClubPoint=function(){var e=new Ie;return e.isClubbed=!0,e.x="Others",e.y=this.sumOfClub,e.text=e.originalText=e.x+": "+this.sumOfClub,e.sliceRadius="80%",e},t.prototype.pushPoints=function(e,t){e.index=this.points.length,e.isExplode=this.explodeAll||e.index===this.explodeIndex,e.color=e.color||t[e.index%t.length],this.points.push(e)},t.prototype.isClub=function(e,t,i){if(!sf.base.isNullOrUndefined(t)){if("Value"===this.groupMode&&Math.abs(e.y)<=t)return this.sumOfClub+=Math.abs(e.y),!0;if("Point"===this.groupMode&&i>=t)return this.sumOfClub+=Math.abs(e.y),!0}return!1},t.prototype.findSumOfPoints=function(e){for(var t=Object.keys(e).length,i=0;i<t;i++)sf.base.isNullOrUndefined(e[i])||sf.base.isNullOrUndefined(e[i][this.yName])||isNaN(e[i][this.yName])||(this.sumOfPoints+=Math.abs(e[i][this.yName]))},t.prototype.setPoints=function(e,t,i,o){var n=new Ie;return n.x=sf.base.getValue(this.xName,e[t]),n.y=sf.base.getValue(this.yName,e[t]),n.percentage=+(n.y/this.sumOfPoints*100).toFixed(2),n.legendImageUrl=sf.base.getValue(this.legendImageUrl,e[t]),n.color=sf.base.getValue(this.pointColorMapping,e[t]),n.text=n.originalText=sf.base.getValue(this.dataLabel.name||"",e[t]),n.tooltip=sf.base.getValue(this.tooltipMappingName||"",e[t]),n.sliceRadius=sf.base.getValue(this.radius,e[t]),n.sliceRadius=sf.base.isNullOrUndefined(n.sliceRadius)?"80%":n.sliceRadius,n.separatorY=o.intl.formatNumber(n.y,{useGrouping:o.useGroupingSeparator}),this.setAccEmptyPoint(n,t,e,i),n},t.prototype.renderSeries=function(e,t){var i,o=t?oe(e.element.id+"_Series_"+this.index):e.renderer.createGroup({id:e.element.id+"_Series_"+this.index});this.renderPoints(e,o,t),e.accumulationDataLabelModule&&this.dataLabel.visible&&((i=e.renderer.createGroup({id:e.element.id+"_datalabel_Series_"+this.index})).style.visibility=this.animation.enable&&e.animateSeries&&"Pie"===this.type?"hidden":"visible",this.renderDataLabel(e,i,t)),"Pie"===this.type&&(this.findMaxBounds(this.labelBound,this.accumulationBound),e.pieSeriesModule.animateSeries(e,this.animation,this,o)),e.accumulationLegendModule&&(this.labelBound.x-=e.explodeDistance,this.labelBound.y-=e.explodeDistance,this.labelBound.height+=e.explodeDistance-this.labelBound.y,this.labelBound.width+=e.explodeDistance-this.labelBound.x)},t.prototype.renderPoints=function(e,t,i){for(var o,n=e.element.id+"_Series_"+this.index+"_Point_",s=0,a=this.points;s<a.length;s++){var r=a[s],l={cancel:!1,name:"pointRender",series:this,point:r,fill:r.color,border:this.isEmpty(r)?{width:this.emptyPointSettings.border.width,color:this.emptyPointSettings.border.color}:{width:this.border.width,color:this.border.color}};e.trigger("pointRender",l),r.color=l.fill,o=new sf.svgbase.PathOption(n+r.index,r.color,l.border.width||1,l.border.color||r.color,this.opacity,"",""),e[J(this.type)+"SeriesModule"].renderPoint(r,this,e,o,t,i)}he(!1,e.getSeriesElement(),t,i)},t.prototype.renderDataLabel=function(e,t,i){e.accumulationDataLabelModule.findAreaRect();var o=sf.base.createElement("div",{id:e.element.id+"_Series_0_DataLabelCollections"});this.leftSidePoints=[],this.rightSidePoints=[];for(var n=[],s=[],a=0,r=this.points;a<r.length;a++){var l=r[a];l.visible&&(this.dataLabel.showZero||!this.dataLabel.showZero&&(0!==l.y||0===l.y&&"Zero"===this.emptyPointSettings.mode))&&e.accumulationDataLabelModule.renderDataLabel(l,this.dataLabel,t,this.points,this.index,o,i),l.midAngle>=90&&l.midAngle<=270?this.leftSidePoints.push(l):l.midAngle>=0&&l.midAngle<=90?s.push(l):n.push(l)}if(n.sort((function(e,t){return e.midAngle-t.midAngle})),s.sort((function(e,t){return e.midAngle-t.midAngle})),this.leftSidePoints.sort((function(e,t){return e.midAngle-t.midAngle})),this.rightSidePoints=n.concat(s),e.accumulationDataLabelModule.drawDataLabels(this,this.dataLabel,t,o,i),null!==this.dataLabel.template&&o.childElementCount){var h=e.accumulationDataLabelModule.drawDataLabels.bind(e.accumulationDataLabelModule,this,this.dataLabel,t,o,i);e.isReact&&e.renderReactTemplates(h),he(!1,oe(e.element.id+"_Secondary_Element"),o,i)}he(!1,e.getSeriesElement(),t,i)},t.prototype.findMaxBounds=function(e,t){e.x=t.x<e.x?t.x:e.x,e.y=t.y<e.y?t.y:e.y,e.height=t.y+t.height>e.height?t.y+t.height:e.height,e.width=t.x+t.width>e.width?t.x+t.width:e.width},t.prototype.setAccEmptyPoint=function(e,t,i,o){if(!sf.base.isNullOrUndefined(e.y)&&!isNaN(e.y))return null;switch(e.color=this.emptyPointSettings.fill||e.color,this.emptyPointSettings.mode){case"Zero":e.y=0,e.visible=!0;break;case"Average":var n=i[t-1]&&i[t-1][this.yName]||0,s=i[t+1]&&i[t+1][this.yName]||0;e.y=(Math.abs(n)+Math.abs(s))/2,this.sumOfPoints+=e.y,e.visible=!0;break;default:e.visible=!1}},t.prototype.isEmpty=function(e){return e.color===this.emptyPointSettings.fill},Be([sf.base.Property("")],t.prototype,"dataSource",void 0),Be([sf.base.Property()],t.prototype,"query",void 0),Be([sf.base.Property("")],t.prototype,"xName",void 0),Be([sf.base.Property("")],t.prototype,"name",void 0),Be([sf.base.Property("")],t.prototype,"tooltipMappingName",void 0),Be([sf.base.Property("")],t.prototype,"yName",void 0),Be([sf.base.Property(!0)],t.prototype,"visible",void 0),Be([sf.base.Complex({color:null,width:0},c)],t.prototype,"border",void 0),Be([sf.base.Complex(null,g)],t.prototype,"animation",void 0),Be([sf.base.Property("SeriesType")],t.prototype,"legendShape",void 0),Be([sf.base.Property("")],t.prototype,"legendImageUrl",void 0),Be([sf.base.Property("")],t.prototype,"pointColorMapping",void 0),Be([sf.base.Property(null)],t.prototype,"selectionStyle",void 0),Be([sf.base.Property(null)],t.prototype,"groupTo",void 0),Be([sf.base.Property("Value")],t.prototype,"groupMode",void 0),Be([sf.base.Complex({},Oe)],t.prototype,"dataLabel",void 0),Be([sf.base.Property([])],t.prototype,"palettes",void 0),Be([sf.base.Property(0)],t.prototype,"startAngle",void 0),Be([sf.base.Property(null)],t.prototype,"endAngle",void 0),Be([sf.base.Property("80%")],t.prototype,"radius",void 0),Be([sf.base.Property("0")],t.prototype,"innerRadius",void 0),Be([sf.base.Property("Pie")],t.prototype,"type",void 0),Be([sf.base.Property(!0)],t.prototype,"enableTooltip",void 0),Be([sf.base.Property(!1)],t.prototype,"explode",void 0),Be([sf.base.Property("30%")],t.prototype,"explodeOffset",void 0),Be([sf.base.Property(!1)],t.prototype,"explodeAll",void 0),Be([sf.base.Property(null)],t.prototype,"explodeIndex",void 0),Be([sf.base.Complex({mode:"Drop"},y)],t.prototype,"emptyPointSettings",void 0),Be([sf.base.Property(0)],t.prototype,"gapRatio",void 0),Be([sf.base.Property("80%")],t.prototype,"width",void 0),Be([sf.base.Property("80%")],t.prototype,"height",void 0),Be([sf.base.Property("20%")],t.prototype,"neckWidth",void 0),Be([sf.base.Property("20%")],t.prototype,"neckHeight",void 0),Be([sf.base.Property("Linear")],t.prototype,"pyramidMode",void 0),Be([sf.base.Property(1)],t.prototype,"opacity",void 0),t}(sf.base.ChildProperty);function ze(e,t){for(var i=0,o=t;i<o.length;i++){var n=o[i];if(e===n.index)return n}return t[0]}function Fe(e,t){for(var i=0,o=t;i<o.length;i++){var n=o[i];if(n.index===e)return n}return null}var Ne,Ve,je,He,Ue,We,Ge,Xe,Ye,Ze,qe,Je,Qe,$e=(Ne=function(e,t){return(Ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Ne(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),Ke=function(e,t,o,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(a<3?s(r):a>3?s(t,o,r):s(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $e(t,e),Ke([sf.base.Property(0)],t.prototype,"x",void 0),Ke([sf.base.Property(0)],t.prototype,"y",void 0),t}(sf.base.ChildProperty),tt=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return $e(i,e),Ke([sf.base.Property(!0)],i.prototype,"visible",void 0),Ke([sf.base.Property(null)],i.prototype,"height",void 0),Ke([sf.base.Property(null)],i.prototype,"width",void 0),Ke([sf.base.Complex({x:0,y:0},et)],i.prototype,"location",void 0),Ke([sf.base.Property("Auto")],i.prototype,"position",void 0),Ke([sf.base.Property("Series")],i.prototype,"mode",void 0),Ke([sf.base.Property(8)],i.prototype,"padding",void 0),Ke([sf.base.Property("Center")],i.prototype,"alignment",void 0),Ke([sf.base.Complex(t.legendLabelFont,d)],i.prototype,"textStyle",void 0),Ke([sf.base.Property(10)],i.prototype,"shapeHeight",void 0),Ke([sf.base.Property(10)],i.prototype,"shapeWidth",void 0),Ke([sf.base.Complex({},c)],i.prototype,"border",void 0),Ke([sf.base.Complex({left:0,right:0,top:0,bottom:0},p)],i.prototype,"margin",void 0),Ke([sf.base.Complex({left:0,right:0,top:0,bottom:0},u)],i.prototype,"containerPadding",void 0),Ke([sf.base.Property(5)],i.prototype,"shapePadding",void 0),Ke([sf.base.Property("transparent")],i.prototype,"background",void 0),Ke([sf.base.Property(1)],i.prototype,"opacity",void 0),Ke([sf.base.Property(!0)],i.prototype,"toggleVisibility",void 0),Ke([sf.base.Property(null)],i.prototype,"description",void 0),Ke([sf.base.Property(3)],i.prototype,"tabIndex",void 0),Ke([sf.base.Property(null)],i.prototype,"title",void 0),Ke([sf.base.Complex(t.legendTitleFont,d)],i.prototype,"titleStyle",void 0),Ke([sf.base.Property("Top")],i.prototype,"titlePosition",void 0),Ke([sf.base.Property(100)],i.prototype,"maximumTitleWidth",void 0),Ke([sf.base.Property(!0)],i.prototype,"enablePages",void 0),Ke([sf.base.Property(!1)],i.prototype,"isInversed",void 0),i}(sf.base.ChildProperty),it=function(){function e(e){this.pageXCollections=[],this.legendTitleCollections=[],this.legendRegions=[],this.pagingRegions=[],this.chart=e,this.legend=e.legendSettings,this.legendID=e.element.id+"_chart_legend",this.isChartControl="chart"===e.getModuleName(),this.isBulletChartControl="bulletChart"===e.getModuleName(),this.isStockChartControl="stockChart"===e.getModuleName(),this.bulletChart=this.chart,this.fivePixel=5,this.rowCount=0,this.pageButtonSize=8,this.maxColumns=0,this.maxWidth=0,this.currentPage=1,this.backwardArrowOpacity=0,this.forwardArrowOpacity=1,this.arrowWidth=2*(this.fivePixel+this.pageButtonSize+this.fivePixel),this.arrowHeight=this.arrowWidth,this.isTop=!1,this.isTitle=!1,this.currentPageNumber=1}return e.prototype.calculateLegendBounds=function(e,t,i){var o=this.legend,n=this.isBulletChartControl?"40%":"20%";this.getPosition(o.position,t),this.legendBounds=new sf.svgbase.Rect(e.x,e.y,0,0),this.isVertical="Left"===this.position||"Right"===this.position,this.isVertical?(this.legendBounds.height=ge(o.height,t.height-(e.y-this.chart.margin.top))||e.height,this.legendBounds.width=ge(o.width||n,t.width)):(this.legendBounds.width=ge(o.width,t.width)||e.width,this.legendBounds.height=ge(o.height||n,t.height)),this.library.getLegendBounds(t,this.legendBounds,o),this.isBulletChartControl||(this.legendBounds.width+=this.legend.containerPadding.left+this.legend.containerPadding.right,this.legendBounds.height+=this.legend.containerPadding.top+this.legend.containerPadding.bottom),this.getLocation(this.position,o.alignment,this.legendBounds,e,t,i)},e.prototype.getPosition=function(e,t){var i=this.chart,o=this.chart;this.isChartControl||this.isBulletChartControl||this.isStockChartControl?this.position="Auto"!==e?e:"Bottom":("Auto"===e&&((i||o).visibleSeries&&"Funnel"===(i||o).visibleSeries[0].type||"Pyramid"===(i||o).visibleSeries[0].type)&&(e="Top"),this.position="Auto"!==e?e:t.width>t.height?"Right":"Bottom")},e.prototype.setBounds=function(e,t,i,o){var n=i.title&&"Top"===i.titlePosition?this.legendTitleSize.height+this.fivePixel:0;this.isVertical&&this.isPaging&&!i.enablePages&&!this.isBulletChartControl&&(n=i.title&&"Top"===i.titlePosition?this.legendTitleSize.height+this.fivePixel:0,n+=this.pageButtonSize+this.fivePixel),e=Math.min(e,o.width),t=Math.min(t,o.height),"Gradient"===i.mode?(o.width=i.width?o.width:this.isVertical?e:.75*o.width,o.height=i.height?o.height:this.isVertical?.75*o.height:t):(o.width=i.width?o.width:e,o.height=i.height?o.height:t),this.isBulletChartControl||this.isTop&&"None"!==i.titleStyle.textOverflow&&(this.calculateLegendTitle(i,o),o.height+="Wrap"===i.titleStyle.textOverflow&&this.legendTitleCollections.length>1?this.legendTitleSize.height-this.legendTitleSize.height/this.legendTitleCollections.length:0),this.rowCount=Math.max(1,Math.ceil((o.height-i.padding-n)/(this.maxItemHeight+i.padding)))},e.prototype.getLocation=function(e,t,i,o,n,s){var a=this.legend.border.width,r=this.isBulletChartControl,l=this.bulletChart,h="Inside"===l.labelPosition,d="Inside"===l.tickPosition,c="Vertical"===l.orientation,p=r&&""!==l.categoryField?s.width+this.chart.border.width+3*a:0,u=this.chart.margin.bottom,g=i.height+a+this.legend.margin.top+this.legend.margin.bottom,f=i.width+a+this.legend.margin.left+this.legend.margin.right;"Bottom"===e?(i.x=this.alignLegend(i.x,n.width,i.width,t),i.y=o.y+(o.height-g)+a+this.legend.margin.top,i.y+=!r||l.opposedPosition||h||d||c?c&&""!==l.categoryField?s.height+2*a:0:l.majorTickLines.height+u+this.legend.border.width+2*a,G(o,new Le(0,0,0,g))):"Top"===e?(i.x=this.alignLegend(i.x,n.width,i.width,t),i.y=o.y+a+this.legend.margin.top,i.y-=!r||!l.opposedPosition||h||d||c?0:l.majorTickLines.height+this.chart.margin.top,G(o,new Le(0,0,g-=r?2*-a:0,0))):"Right"===e?(i.x=o.x+(o.width-i.width)-this.legend.margin.right,i.y=o.y+this.alignLegend(0,n.height-(o.y+u),i.height,t),f+=r&&l.opposedPosition&&!h&&!d&&c?this.chart.margin.left+this.chart.margin.right+l.majorTickLines.height:0,G(o,new Le(0,f,0,0))):"Left"===e?(i.x=i.x+this.legend.margin.left,i.y=o.y+this.alignLegend(0,n.height-(o.y+u),i.height,t),f+=!r||l.opposedPosition||h||d||!c?"Vertical"!==l.orientation&&""!==l.categoryField?p:0:i.x-this.chart.margin.left+a+l.majorTickLines.height,G(o,new Le(f,0,0,0))):(i.x=this.legend.location.x,i.y=this.legend.location.y,G(o,new Le(0,0,0,0)))},e.prototype.alignLegend=function(e,t,i,o){switch(o){case"Far":e=t-i-e;break;case"Center":e=(t-i)/2}return e},e.prototype.renderLegend=function(e,t,i,o){var n,s=0,a=(new sf.svgbase.Rect(0,0,0,0),new sf.svgbase.Rect(0,0,0,0)),r=this.findFirstLegendPosition(this.legendCollections),l=t.padding,h=t.enablePages,d=t.titlePosition,c=this.isPaging&&!t.enablePages&&this.isVertical?this.pageButtonSize:0,p=e.renderer.createGroup({id:this.legendID+"_g"}),u=this.createLegendElements(e,i,p,t,this.legendID,o);this.legendRegions=[];for(var g=0,f=0;f<this.legendCollections.length;f++)if(""!==this.legendCollections[f].text){g=Math.max(this.legendCollections[f].textSize.height,g);break}if(this.maxItemHeight=Math.max(g,t.shapeHeight),h||!this.isPaging||this.isVertical?this.isPaging||this.isVertical||(s=this.isTitle&&"Left"===d?this.fivePixel+this.legendTitleSize.width:0):(s=this.isTitle&&"Left"===d?this.legendTitleSize.width:0,s+=this.pageButtonSize+2*this.fivePixel),n=this.isTitle&&(this.isTop||this.isVertical)?this.legendTitleSize.height:0,"Gradient"===e.legendSettings.mode&&this.legendCollections.length>1)this.getLinearLegend(i,e,t,u),this.totalPages=1;else if(r!==this.legendCollections.length){var b=void 0,y=0,m=this.legendCollections[r],v=new Ce(this.isBulletChartControl?i.x+s+l+t.shapeWidth/2:i.x+s+l+t.shapeWidth/2+t.containerPadding.left,this.isBulletChartControl?i.y+n+c+l+this.maxItemHeight/2:i.y+n+c+l+this.maxItemHeight/2+t.containerPadding.top),x=e.isRtlEnabled?"end":"start",P=new sf.svgbase.TextOption("",v.x,v.y,x),S=t.shapePadding+l+t.shapeWidth;if(this.totalPages=this.totalPages=this.isChartControl||this.isBulletChartControl||this.isStockChartControl?this.totalPages:0,this.pageXCollections=[],this.legendCollections[r].location=v,!t.enablePages&&this.isPaging){var w=v.x-this.fivePixel,R=v.y-this.fivePixel,C=this.isTitle&&!this.isVertical&&"Left"===d?this.legendTitleSize.width+this.fivePixel:0,L=this.isVertical?this.pageButtonSize+Math.abs(R-i.y):0,A=this.isTitle&&!this.isVertical&&"Right"===d?this.legendTitleSize.width+this.fivePixel:0;A+=this.isVertical?0:this.fivePixel+this.pageButtonSize+this.fivePixel,a=new sf.svgbase.Rect(w,R,i.width-A-C,i.height-L)}else a=i;for(var M=0,T=this.legendCollections;M<T.length;M++){var _=T[M];"accumulationchart"===this.chart.getModuleName()&&(_.fill=(this.chart||this.chart||this.chart).visibleSeries[0].points[_.pointIndex].color),"stockChart"===this.chart.getModuleName()&&(_.type=this.chart.visibleSeries[y].type),this.accessbilityText=this.isBulletChartControl?"Legend of bullet chart"+_.text:"Click to show or hide the "+_.text+" series",_.render&&""!==_.text&&((b=e.renderer.createGroup({id:this.legendID+this.generateId(_,"_g_",y)}))&&(b.setAttribute("tabindex",t.tabIndex.toString()),b.setAttribute("aria-label",t.description||this.accessbilityText)),this.library.getRenderPoint(_,v,S,m,a,y,r),this.renderSymbol(_,b,y),this.renderText(e,_,b,P,y),b&&b.setAttribute("style","outline: none; cursor: "+(!t.toggleVisibility&&("None"===e.selectionMode||"None"===e.highlightMode||"None"===e.selectionMode)||this.isBulletChartControl?"auto":"pointer")),u&&u.appendChild(b),m=_),y++}this.isPaging?this.renderPagingElements(e,i,P,p):this.totalPages=1}he(e.enableCanvas,e.svgObject,p,o)},e.prototype.getLinearLegend=function(e,t,i,o){var n="http://www.w3.org/2000/svg",s=this.legendCollections[0],a=this.legendCollections[1],r=this.chart.renderer.createDefs(),l=document.createElementNS(n,"linearGradient"),h=[],d=[];i.title&&(this.isVertical?(e.y+=this.legendTitleSize.height,e.height-=this.legendTitleSize.height):"Left"===i.titlePosition?(e.x+=this.legendTitleSize.width,e.width-=this.legendTitleSize.width):"Right"===i.titlePosition?e.width-=this.legendTitleSize.width:"Top"===i.titlePosition&&(e.y+=this.legendTitleSize.height,e.height-=this.legendTitleSize.height));for(var c=0,p=this.chart.rangeColorSettings;c<p.length;c++){var u=p[c];if(d.indexOf(u.start)<0&&d.push(u.start),u.colors.length>2){var g=u.end-u.start,f=u.colors.length-1;if(g>0){g/=f;for(var b=1;b<f;b++){var y=u.start+g*b;d.push(y)}}else for(b=1;b<f;b++)d.push(u.start)}d.indexOf(u.end)<0&&d.push(u.end);for(var m=0,v=u.colors;m<v.length;m++){var x=v[m];h.indexOf(x)<0&&h.push(x)}u.colors.length>0&&u.colors.length<2&&h.push(u.colors[0])}var P=this.isVertical?"0":"100",S=this.isVertical?"100":"0";l.setAttribute("id",this.generateId(s,"linearGradient",0)),l.setAttribute("x1","0%"),l.setAttribute("y1","0%"),l.setAttribute("x2",P+"%"),l.setAttribute("y2",S+"%");for(var w=d[d.length-1]-d[0],R=0;R<h.length;R++){var C=d[R]-d[0];C/=w;var L=document.createElementNS(n,"stop");L.setAttribute("offset",C.toString()),L.setAttribute("stop-color",h[R]),L.setAttribute("stop-opacity",1..toString()),l.appendChild(L)}var A,M,T,_,B=s.text.toString(),k=a.text.toString(),O=sf.svgbase.measureText(B,i.textStyle),E=sf.svgbase.measureText(k,i.textStyle),I=O.width>E.width?O.width:E.width,D=O.height>E.height?O.height:E.height,z=2*I+4*i.padding,F=e.width,N=e.height,V=e.x+I+2*i.padding,j=e.y+i.padding;if(this.isVertical){if(z=2*D+4*i.padding,F=e.width-2*i.padding,N=e.height-z,V=e.x+i.padding,j=e.y+D+2*i.padding,A=e.y+i.padding+D,M=j+N+D,_=T=e.x+.5*e.width-.5*I,F>30){var H=F-30;F=30,V+=H/2}}else if(F=e.width-z,N=e.height-2*i.padding,T=e.x+i.padding+(I-O.width),_=e.x+F+3*i.padding+I,M=A=e.y+.5*e.height+.25*D,N>30){var U=N-30;N=30,j+=U/2}var W=new sf.svgbase.TextOption("",T,A,"",B);W.id=this.legendID+this.generateId(s,"_text_",1);var G=s.visible?i.textStyle.color||t.themeStyle.legendLabel:"#D3D3D3",X=!this.isStockChartControl&&this.chart.enableCanvas;be(t.renderer,W,i.textStyle,G,o,!1,!1,!1,!1,null,this.currentPageNumber&&X?new sf.svgbase.Rect(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null),(W=new sf.svgbase.TextOption("",_,M,"",k)).id=this.legendID+this.generateId(s,"_text_",2),be(t.renderer,W,i.textStyle,G,o,!1,!1,!1,!1,null,this.currentPageNumber&&X?new sf.svgbase.Rect(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);var Y=t.renderer.drawRectangle({width:F,height:N,x:V,y:j,fill:"url(#"+this.generateId(s,"linearGradient",0)+")"});r.appendChild(l),o.appendChild(r),o.appendChild(Y)},e.prototype.findFirstLegendPosition=function(e){for(var t=0,i=0,o=e;i<o.length;i++){var n=o[i];if(n.render&&""!==n.text)break;t++}return t},e.prototype.calculateLegendTitle=function(e,t){if(e.title){this.isTop="Top"===e.titlePosition;var i="Trim"===e.titleStyle.textOverflow?2*e.padding:0;this.isTop||this.isVertical?this.legendTitleCollections=me(e.title,e.titleStyle,t.width-i):this.legendTitleCollections[0]=ue(e.maximumTitleWidth,e.title,e.titleStyle);var o=this.isTop?e.title:this.legendTitleCollections[0];this.legendTitleSize=sf.svgbase.measureText(o,e.titleStyle),this.legendTitleSize.height*=this.legendTitleCollections.length}else this.legendTitleSize=new sf.svgbase.Size(0,0)},e.prototype.renderLegendTitle=function(e,t,i,o){var n=t.padding,s=t.titleStyle.textAlignment;this.isTop="Top"===t.titlePosition;var a="Near"===s?"start":"Far"===s?"end":"middle",r=ve(i,t.titleStyle);a=this.isTop||this.isVertical?a:"",r="Near"===s?r+n:"Far"===s?r-n:r,r=this.isTop||this.isVertical?r:i.x+("Left"===t.titlePosition?5:i.width-this.legendTitleSize.width-5);var l=i.height/2+this.legendTitleSize.height/4,h=i.y+(this.isTop||this.isVertical?this.legendTitleSize.height/this.legendTitleCollections.length:l),d=new sf.svgbase.TextOption(this.legendID+"_title",r,h,a,this.legendTitleCollections);be(e.renderer,d,t.titleStyle,t.titleStyle.color,o)},e.prototype.createLegendElements=function(e,t,i,o,n,s){var a=o.padding,r=new we(n+"_element",o.background,o.border,o.opacity,t),l=e.renderer.createGroup({id:n+"_collections"}),h=!this.isStockChartControl&&e.enableCanvas,d=e.renderer.createClipPath({id:n+"_clipPath"});return i?i.appendChild(e.renderer.drawRectangle(r)):e.renderer.drawRectangle(r),o.title&&this.renderLegendTitle(e,o,t,i),h||i.appendChild(l),this.legendTranslateGroup=e.renderer.createGroup({id:n+"_translate_g"}),h||l.appendChild(this.legendTranslateGroup),r.y+=a+(this.isTop?this.legendTitleSize.height:0),r.id+="_clipPath_rect",r.width=this.isChartControl||"bulletChart"===e.getModuleName()||this.isStockChartControl||!this.isVertical?t.width:this.maxWidth-a+o.containerPadding.left+o.containerPadding.right,h?this.pagingClipRect=r:(this.clipRect=e.renderer.drawRectangle(r),d.appendChild(this.clipRect)),he(h,e.svgObject,d,s),h||l.setAttribute("style","clip-path:url(#"+d.id+")"),this.legendTranslateGroup},e.prototype.renderSymbol=function(e,t,i){var o,n,s=this.isBulletChartControl?this.chart:null,a=e.visible?e.fill:"#D3D3D3",r=("chart"===this.chart.getModuleName()||"stockChart"===this.chart.getModuleName())&&"SeriesType"===e.shape&&e.type.toLowerCase().indexOf("line")>-1&&-1===e.type.toLowerCase().indexOf("area"),l=!("chart"!==this.chart.getModuleName()&&"stockChart"!==this.chart.getModuleName()||"Scatter"!==e.type&&"Bubble"!==e.type),h=!this.isStockChartControl&&this.chart.enableCanvas,d="SeriesType"===e.shape?e.type:e.shape,c=r?"Series"===this.legend.mode?this.chart.visibleSeries[i].width:this.chart.visibleSeries[0].width:this.isBulletChartControl&&"Multiply"===e.shape?4:1;if(d="Scatter"===d?e.markerShape:d,l&&i<this.chart.visibleSeries.length){var p=this.chart.visibleSeries[i].border;o=p.color?p.color:a,c=p.width?p.width:1}var u=new sf.svgbase.PathOption(this.legendID+this.generateId(e,"_shape_",i),a,c,l?o:a,1,"",""),g=sf.svgbase.measureText(e.text,this.legend.textStyle),f=this.legend.isInversed?e.location.x+g.width+this.legend.shapePadding:e.location.x,b=e.location.y;h?(n=-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),ie({x:f,y:b},d,new sf.svgbase.Size(this.legend.shapeWidth,this.legend.shapeHeight),"",u,this.accessbilityText,this.chart.renderer,this.currentPageNumber?new sf.svgbase.Rect(0,n,0,0):null,this.isBulletChartControl,s),this.legendRegions.push({rect:new sf.svgbase.Rect(e.location.x,e.location.y,this.legend.shapeWidth,this.legend.shapeHeight+n),index:i})):t.appendChild(ie({x:f,y:b},d,new sf.svgbase.Size(this.legend.shapeWidth,this.legend.shapeHeight),e.url,u,this.accessbilityText,this.chart.renderer,null,this.isBulletChartControl,s)),("Line"===d&&e.markerVisibility&&"Image"!==e.markerShape||"Doughnut"===e.type&&"Doughnut"===d)&&(u.id=this.legendID+this.generateId(e,"_shape_marker_",i),d="Doughnut"===e.type?"Circle":e.markerShape,u.fill="Doughnut"===e.type?"#FFFFFF":u.fill,h?ie({x:f,y:b},d,new sf.svgbase.Size(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",u,this.accessbilityText,this.chart.renderer,this.currentPageNumber?new sf.svgbase.Rect(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null,this.isBulletChartControl,s):t.appendChild(ie({x:f,y:b},d,new sf.svgbase.Size(this.legend.shapeWidth/2,this.legend.shapeHeight/2),"",u,this.accessbilityText,null,null,this.isBulletChartControl,s)))},e.prototype.renderText=function(e,t,i,o,n){var s=e.legendSettings,a=t.visible?s.textStyle.color||e.themeStyle.legendLabel:"#D3D3D3",r=!this.isStockChartControl&&this.chart.enableCanvas;o.id=this.legendID+this.generateId(t,"_text_",n),o.text=t.text,o.x=s.isInversed?t.location.x-s.shapeWidth/2:t.location.x+s.shapeWidth/2+s.shapePadding,o.y=t.location.y+this.maxItemHeight/4;var l=be(e.renderer,o,s.textStyle,a,i,!1,!1,!1,!1,null,this.currentPageNumber&&r?new sf.svgbase.Rect(0,-this.translatePage(null,this.currentPageNumber-1,this.currentPageNumber),0,0):null);if(l&&l.setAttribute("aria-label",s.description||this.accessbilityText),r){var h=sf.svgbase.measureText(o.text,s.textStyle);this.legendRegions[n].rect.y=o.y<this.legendRegions[n].rect.y?o.y:this.legendRegions[n].rect.y,this.legendRegions[n].rect.width+=h.width,this.legendRegions[n].rect.height=h.height,this.legendRegions[n].rect.y-=.5*h.height}},e.prototype.renderPagingElements=function(e,t,i,o){var n,s=e.renderer.createGroup({id:this.legendID+"_navigation"}),a=!this.isStockChartControl&&e.enableCanvas,r=this.isBulletChartControl?0:this.legendTitleSize.height,l=this.chart.theme.indexOf("Dark")>-1?"#FFFFFF":"#545454",h=e.legendSettings,d=new sf.svgbase.PathOption(this.legendID+"_pageup","transparent",5,l,1,"",""),c=this.pageButtonSize,p=h.enablePages||!this.isPaging||this.isVertical||this.isBulletChartControl?this.rowCount-1:1,u=this.isTitle&&"Left"===h.titlePosition?this.legendTitleSize.width:0;this.pagingRegions=[],this.backwardArrowOpacity=1!==this.currentPage?1:0,this.forwardArrowOpacity=this.currentPage===this.totalPages?0:1,a||o.appendChild(s),this.isChartControl||this.isBulletChartControl||this.isStockChartControl||!this.isVertical?this.totalPages=Math.ceil(this.totalPages/Math.max(1,this.rowCount-1)):this.totalPages=Math.ceil(this.totalPages/this.maxColumns),s&&s.setAttribute("style","cursor: pointer"),this.clipPathHeight=p*(this.maxItemHeight+h.padding),a?(this.pagingClipRect.height=this.legendBounds.height-this.clipPathHeight-(this.pagingClipRect.y-this.legendBounds.y)-h.border.width,this.pagingClipRect.y=this.pagingClipRect.y+this.clipPathHeight,this.pagingClipRect.x+=h.border.width,this.pagingClipRect.width-=h.border.width+h.border.width/2,this.chart.renderer.clearRect(new sf.svgbase.Rect(this.pagingClipRect.x,this.pagingClipRect.y,this.pagingClipRect.width,this.pagingClipRect.height))):this.clipRect.setAttribute("height",this.clipPathHeight.toString());var g=t.x+c/2,f=t.y+this.clipPathHeight+(r+t.height-this.clipPathHeight)/2;!this.isPaging||h.enablePages||this.isVertical||this.isBulletChartControl||(g=t.x+this.fivePixel+this.pageButtonSize+u,f=h.title&&this.isTop?t.y+8+r+c/1+.5:t.y+8+c+.5);var b=sf.svgbase.measureText(this.totalPages+"/"+this.totalPages,h.textStyle);a?ie({x:g,y:f},"LeftArrow",new sf.svgbase.Size(c,c),"",d,0,this.chart.renderer,new sf.svgbase.Rect(t.width-(2*(c+8)+8+b.width),0,0,0)):!this.isVertical||h.enablePages||this.isBulletChartControl?(d.opacity=this.isBulletChartControl?d.opacity:h.enablePages?1:this.backwardArrowOpacity,s.appendChild(ie({x:g,y:f},"LeftArrow",new sf.svgbase.Size(c,c),"",d))):(g=t.x+t.width/2,f=t.y+c/2+8+r,d.opacity=this.backwardArrowOpacity,s.appendChild(ie({x:g,y:f},"UpArrow",new sf.svgbase.Size(c,c),"",d))),this.pagingRegions.push(new sf.svgbase.Rect(g+t.width-(2*(c+8)+8+b.width)-.5*c,f-.5*c,c,c)),i.x=g+c/2+8,i.y=f+b.height/4,i.id=this.legendID+"_pagenumber",i.text="1/"+this.totalPages;var y=this.chart.theme.indexOf("Dark")>-1?"#FFFFFF":h.textStyle.color;a&&this.totalNoOfPages&&(i.text=this.currentPageNumber+"/"+this.totalNoOfPages),(h.enablePages||this.isBulletChartControl)&&(n=be(e.renderer,i,h.textStyle,y,s,!1,!1,!1,!1,null,new sf.svgbase.Rect(t.width-(2*(c+8)+8+b.width),0,0,0))),g=i.x+8+c/2+b.width,!this.isPaging||h.enablePages||this.isVertical||(g=t.x+t.width-this.fivePixel-this.pageButtonSize-(h.title&&"Right"===h.titlePosition?this.legendTitleSize.width+this.fivePixel:0)),d.id=this.legendID+"_pagedown",d.opacity=h.enablePages?1:this.forwardArrowOpacity,a?ie({x:g,y:f},"RightArrow",new sf.svgbase.Size(c,c),"",d,0,this.chart.renderer,new sf.svgbase.Rect(t.width-(2*(c+8)+8+b.width),0,0,0)):!this.isVertical||h.enablePages||this.isBulletChartControl?s.appendChild(ie({x:g,y:f},"RightArrow",new sf.svgbase.Size(c,c),"",d)):(g=t.x+t.width/2,f=t.y+t.height-c/2-8,s.appendChild(ie({x:g,y:f},"DownArrow",new sf.svgbase.Size(c,c),"",d))),this.pagingRegions.push(new sf.svgbase.Rect(g+(t.width-(2*(c+8)+8+b.width)-.5*c),f-.5*c,c,c)),a||!h.enablePages&&!this.isBulletChartControl?(1===this.currentPageNumber&&this.calTotalPage&&(h.enablePages||this.isBulletChartControl)&&(this.totalNoOfPages=this.totalPages,this.calTotalPage=!1),h.enablePages||this.isBulletChartControl||this.translatePage(null,this.currentPage-1,this.currentPage,h)):s.setAttribute("transform","translate("+(t.width-(2*(c+8)+8+b.width))+", 0)"),(h.enablePages||this.isBulletChartControl)&&this.translatePage(n,this.currentPage-1,this.currentPage,h)},e.prototype.translatePage=function(e,t,i,o){var n=this.clipPathHeight*t,s="translate(0,-"+n+")";return this.isChartControl||this.isBulletChartControl||this.isStockChartControl||!this.isVertical||(s="translate(-"+(n=(n=this.pageXCollections[t*this.maxColumns]-this.legendBounds.x)<0?0:n)+",0)"),this.chart.enableCanvas||this.legendTranslateGroup.setAttribute("transform",s),this.chart.enableCanvas||!o.enablePages&&!this.isBulletChartControl||(e.textContent=i+"/"+this.totalPages),this.currentPage=i,n},e.prototype.changePage=function(e,t){var i=this.chart.legendSettings,o=document.getElementById(this.legendID+"_pageup"),n=document.getElementById(this.legendID+"_pagedown"),s=i.enablePages||this.isBulletChartControl?document.getElementById(this.legendID+"_pagenumber"):null,a=i.enablePages||this.isBulletChartControl?parseInt(s.textContent.split("/")[0],10):this.currentPage;t&&a>1?this.translatePage(s,a-2,a-1,i):!t&&a<this.totalPages&&this.translatePage(s,a,a+1,i),!this.isPaging||i.enablePages||this.isBulletChartControl||(this.currentPage===this.totalPages?this.hideArrow(n):this.showArrow(n),1===this.currentPage?this.hideArrow(o):this.showArrow(o))},e.prototype.hideArrow=function(e){e.setAttribute("opacity","0")},e.prototype.showArrow=function(e){e.setAttribute("opacity","1")},e.prototype.generateId=function(e,t,i){return this.isChartControl||this.isStockChartControl?t+i:t+e.pointIndex},e.prototype.move=function(e){var t=this,i=this.chart.mouseX,o=this.chart.mouseY;if(e.target.textContent.indexOf("...")>-1){var n=e.target.id.split(this.legendID+"_text_");if(2===n.length){var s=parseInt(n[1],10),a=this.chart.element;isNaN(s)||(this.chart.isTouch&&j(this.chart.element.id+"_EJ2_Legend_Tooltip"),this.isChartControl?U(this.chart.series[s].name,i,o,a.offsetWidth,a.id+"_EJ2_Legend_Tooltip",oe(this.chart.element.id+"_Secondary_Element")):U(this.chart.visibleSeries[0].points[s].x.toString(),i+10,o+10,a.offsetWidth,a.id+"_EJ2_Legend_Tooltip",oe(this.chart.element.id+"_Secondary_Element")))}}else j(this.chart.element.id+"_EJ2_Legend_Tooltip");this.chart.isTouch&&(clearTimeout(this.clearTooltip),this.clearTooltip=+setTimeout((function(){j(t.chart.element.id+"_EJ2_Legend_Tooltip")}),1e3))},e}(),ot=function(e,t,i,o,n,s,a,r,l,h){this.location={x:0,y:0},this.text=e,this.fill=t,this.shape=i,this.url=s,this.visible=o,this.type=n,this.markerVisibility=r,this.markerShape=a,this.pointIndex=l,this.seriesIndex=h},nt=function(){function e(e,t){this.initDataManager(e,t)}return e.prototype.initDataManager=function(e,t){this.dataManager=e instanceof sf.data.DataManager?e:new sf.data.DataManager(e),this.query=t instanceof sf.data.Query?t:new sf.data.Query},e.prototype.generateQuery=function(){return this.query.clone()},e.prototype.getData=function(e){var t=this;if(this.dataManager.ready){var i=new sf.data.Deferred;return this.dataManager.ready.then((function(){t.dataManager.executeQuery(e).then((function(e){i.resolve(e)}))})).catch((function(e){i.reject(e)})),i.promise}return this.dataManager.executeQuery(e)},e}(),st=function(){function e(e){this.accumulation=e}return Object.defineProperty(e.prototype,"center",{get:function(){return this.pieCenter||("Pie"===this.accumulation.visibleSeries[0].type?this.accumulation.pieSeriesModule.pieBaseCenter:null)},set:function(e){this.pieCenter=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return void 0!==this.pieRadius?this.pieRadius:this.accumulation.pieSeriesModule.pieBaseRadius},set:function(e){this.pieRadius=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelRadius",{get:function(){return void 0!==this.pieLabelRadius?this.pieLabelRadius:this.accumulation.pieSeriesModule.pieBaseLabelRadius},set:function(e){this.pieLabelRadius=e},enumerable:!0,configurable:!0}),e.prototype.isCircular=function(){return"Pie"===this.accumulation.type},e.prototype.isVariousRadius=function(){return this.accumulation.pieSeriesModule.isRadiusMapped},e.prototype.processExplode=function(e){if(e.target.id.indexOf("_Series_")>-1||e.target.id.indexOf("_datalabel_")>-1){var t=Z(e.target.id).point;if(isNaN(t)||e.target.id.indexOf("_datalabel_")>-1&&"Outside"===this.accumulation.visibleSeries[0].points[t].labelPosition)return null;this.explodePoints(t,this.accumulation),this.deExplodeAll(t,this.accumulation.enableAnimation?300:0)}},e.prototype.invokeExplode=function(){for(var e=this.accumulation.visibleSeries[0],t=this.accumulation.enableAnimation?300:0,i=0,o=e.points;i<o.length;i++){var n=o[i];n.isExplode&&this.pointExplode(n.index,n,t)}if(this.accumulation.accumulationSelectionModule&&"None"!==this.accumulation.selectionMode&&this.accumulation.accumulationSelectionModule.selectedDataIndexes.length)for(var s=0,a=this.accumulation.accumulationSelectionModule.selectedDataIndexes;s<a.length;s++){var r=a[s];this.explodePoints(r.point,this.accumulation,!0),this.deExplodeAll(r.point,t)}},e.prototype.deExplodeAll=function(e,t){for(var i=this.accumulation.element.id+"_Series_0_Point_",o=0,n=this.accumulation.visibleSeries[0].points;o<n.length;o++){var s=n[o];(e!==s.index&&!s.isSliced||s.isClubbed)&&(s.isExplode=!1,this.deExplodeSlice(s.index,i,t))}},e.prototype.explodePoints=function(e,t,i){void 0===i&&(i=!1);var o=t.visibleSeries[0],n=o.points,s=Fe(e,n),a=!0,r=this.accumulation.enableAnimation?300:0;if(sf.base.isNullOrUndefined(s))return null;var l=!i&&(s.isSliced||o.clubbedPoints.length&&n[n.length-1].index===o.clubbedPoints[o.clubbedPoints.length-1].index);"Pie"===o.type&&(l||s.isClubbed)&&(a=this.clubPointExplode(e,s,o,n,t,r,l)),a&&this.pointExplode(e,s,r,i)},e.prototype.getSum=function(e){var t=0;return e.map((function(e){t+=e.visible?e.y:0})),t},e.prototype.clubPointExplode=function(e,t,i,o,n,s,a){if(void 0===a&&(a=!1),t.isClubbed)return n.animateSeries=!1,o.splice(o.length-1,1),i.clubbedPoints.map((function(e){e.visible=!0,e.isExplode=!0})),n.visibleSeries[0].points=o.concat(i.clubbedPoints),this.deExplodeAll(e,s),i.sumOfPoints=this.getSum(n.visibleSeries[0].points),n.refreshChart(),!1;if(a||t.isSliced){n.animateSeries=!1,o.splice(o.length-i.clubbedPoints.length,i.clubbedPoints.length);var r=i.generateClubPoint();if(r.index=o.length,r.color=i.clubbedPoints[0].color,o.push(r),i.sumOfPoints=this.getSum(o),this.deExplodeAll(e,s),r.isExplode=!1,n.visibleSeries[0].points=o,n.refreshChart(),this.pointExplode(r.index,o[r.index],0,!0),r.isExplode=!1,this.deExplodeSlice(r.index,n.element.id+"_Series_0_Point_",s),t.isSliced)return!1}return!0},e.prototype.pointExplode=function(e,t,i,o){var n,s=this.accumulation.element.id+"_Series_0_Point_",a=this.accumulation;n=this.isCircular()?X(t.midAngle,a.explodeDistance,this.center):{x:t.labelRegion&&t.labelRegion.x<t.region.x?-a.explodeDistance:a.explodeDistance,y:0},this.isExplode(s+e)||o?(t.isExplode=!0,this.explodeSlice(e,n,s,this.center||{x:0,y:0},i)):(t.isExplode=!1,this.deExplodeSlice(e,s,i))},e.prototype.isExplode=function(e){var t=oe(e),i=t?t.getAttribute("transform"):null;return t&&("translate(0, 0)"===i||null===i||"translate(0)"===i)},e.prototype.deExplodeSlice=function(e,t,i){var o=oe(t+e);o&&(o.parentNode.lastChild.hasAttribute("transform")&&o.parentNode.lastChild.removeAttribute("transform"));var n=o?o.getAttribute("transform"):null;if(this.accumulation.enableAnimation&&o&&n&&"translate(0, 0)"!==n&&"translate(0)"!==n){var s=/translate\((-?\d+\.?\d*),?\s*(-?\d+[.]?\d*)?\)/.exec(n);this.performAnimation(e,t,0,0,+s[1],+s[2]||0,i,!0)}else this.performAnimation(e,t,0,0,0,0,i,!0)},e.prototype.setTranslate=function(e,t,i,o){this.setElementTransform(t+e,i),this.accumulation.visibleSeries[0].dataLabel.visible&&(t=this.accumulation.element.id+"_datalabel_Series_0_",this.setElementTransform(t+"shape_"+e,i),this.setElementTransform(t+"text_"+e,i+o),this.setElementTransform(t+"connector_"+e,i))},e.prototype.setElementTransform=function(e,t){var i=oe(e);i&&i.setAttribute("transform",t)},e.prototype.explodeSlice=function(e,t,i,o,n){this.performAnimation(e,i,0,0,t.x-o.x,t.y-o.y,n)},e.prototype.performAnimation=function(e,t,i,o,n,s,a,r){var l,h,d=this,c=this.accumulation,p=t.split("_"),u=parseInt(t.split("_")[p.length-3],10),g=c.visibleSeries[u].points[e];if(a<=0)return this.setTranslate(e,t,"translate("+n+", "+s+")",g.transform),null;new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:a,progress:function(a){l=$(a.timeStamp,i,n,a.duration),h=$(a.timeStamp,o,s,a.duration),d.setTranslate(e,t,"translate("+(r?n-l:l)+", "+(r?s-h:h)+")",g.transform)},end:function(){d.setTranslate(e,t,"translate("+(r?i:n)+", "+(r?i:s)+")",g.transform)}})},e}(),at=(Ve=function(e,t){return(Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Ve(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),rt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return at(t,e),t.prototype.initProperties=function(e,t){this.accumulation=e,this.size=Math.min(e.initialClipRect.width,e.initialClipRect.height),this.initAngles(t);var i=parseInt(t.radius,10);if(-1===t.radius.indexOf("%")&&"number"!=typeof i||isNaN(i)){var o=[];this.isRadiusMapped=!0;for(var n=0;n<Object.keys(t.points).length;n++)-1!==t.points[n].sliceRadius.indexOf("%")?o[n]=ge(t.points[n].sliceRadius,this.size/2):o[n]=parseInt(t.points[n].sliceRadius,10);var s=Math.min.apply(null,o),a=Math.max.apply(null,o);this.pieBaseRadius=this.seriesRadius=a,this.innerRadius=ge(t.innerRadius,this.seriesRadius),this.innerRadius=this.innerRadius>s?this.innerRadius/2:this.innerRadius}else this.isRadiusMapped=!1,this.pieBaseRadius=ge(t.radius,this.size/2),this.innerRadius=ge(t.innerRadius,this.pieBaseRadius),this.pieBaseLabelRadius="Inside"===t.dataLabel.position?(this.pieBaseRadius-this.innerRadius)/2+this.innerRadius:this.pieBaseRadius+ge(t.dataLabel.connectorStyle.length||"4%",this.size/2);this.radius=this.pieBaseRadius,this.labelRadius=this.pieBaseLabelRadius,e.explodeDistance=t.explode?ge(t.explodeOffset,this.pieBaseRadius):0,this.findCenter(e,t),this.center=this.pieBaseCenter,this.defaultLabelBound(t,t.dataLabel.visible,t.dataLabel.position),this.totalAngle-=.001},t.prototype.getLabelRadius=function(e,t){return"Inside"===e.dataLabel.position?(ge(t.sliceRadius,this.pieBaseRadius)-this.innerRadius)/2+this.innerRadius:ge(t.sliceRadius,this.seriesRadius)+ge(e.dataLabel.connectorStyle.length||"4%",this.size/2)},t.prototype.findCenter=function(e,t){this.accumulation=e,this.pieBaseCenter={x:ge(e.center.x,e.initialClipRect.width)+e.initialClipRect.x,y:ge(e.center.y,e.initialClipRect.height)+e.initialClipRect.y};var i=this.getSeriesBound(t),o=new Ce(i.x+i.width/2,i.y+i.height/2);this.pieBaseCenter.x+=this.pieBaseCenter.x-o.x,this.pieBaseCenter.y+=this.pieBaseCenter.y-o.y,this.accumulation.origin=this.pieBaseCenter},t.prototype.initAngles=function(e){var t=sf.base.isNullOrUndefined(e.endAngle)?e.startAngle:e.endAngle;this.totalAngle=(t-e.startAngle)%360,this.startAngle=e.startAngle-90,this.totalAngle=this.totalAngle<=0?360+this.totalAngle:this.totalAngle,this.startAngle=(this.startAngle<0?this.startAngle+360:this.startAngle)%360},t.prototype.defaultLabelBound=function(e,t,i){var o=this.getSeriesBound(e);e.accumulationBound=o,e.labelBound=new sf.svgbase.Rect(o.x,o.y,o.width+o.x,o.height+o.y),t&&"Outside"===i&&(e.labelBound=new sf.svgbase.Rect(1/0,1/0,-1/0,-1/0))},t.prototype.getSeriesBound=function(e){var t=new sf.svgbase.Rect(1/0,1/0,-1/0,-1/0);this.initAngles(e);var i=this.startAngle,o=this.totalAngle,n=(this.startAngle+o)%360;n=0===n?360:n,e.findMaxBounds(t,this.getRectFromAngle(i)),e.findMaxBounds(t,this.getRectFromAngle(n)),e.findMaxBounds(t,new sf.svgbase.Rect(this.pieBaseCenter.x,this.pieBaseCenter.y,0,0));var s=(90*Math.floor(i/90)+90)%360,a=90*Math.floor(n/90)%360;a=0===a?360:a,(o>=90||a===s)&&(e.findMaxBounds(t,this.getRectFromAngle(s)),e.findMaxBounds(t,this.getRectFromAngle(a))),(0===i||i+o>=360)&&e.findMaxBounds(t,this.getRectFromAngle(0));for(var r=s===a?0:Math.floor(o/90),l=1;l<r;l++)((s+=90)<a||n<i||360===o)&&e.findMaxBounds(t,this.getRectFromAngle(s));return t.width-=t.x,t.height-=t.y,t},t.prototype.getRectFromAngle=function(e){var t=X(e,this.pieBaseRadius,this.pieBaseCenter);return new sf.svgbase.Rect(t.x,t.y,0,0)},t.prototype.getPathArc=function(e,t,i,o,n){var s=i-t,a=(s=s<0?s+360:s)<180?0:1;return n||0!==n?this.getDoughnutPath(e,X(t,o,e),X(i,o,e),o,X(t,n,e),X(i,n,e),n,a):this.getPiePath(e,X(t,o,e),X(i,o,e),o,a)},t.prototype.getPiePath=function(e,t,i,o,n){return"M "+e.x+" "+e.y+" L "+t.x+" "+t.y+" A "+o+" "+o+" 0 "+n+" 1 "+i.x+" "+i.y+" Z"},t.prototype.getDoughnutPath=function(e,t,i,o,n,s,a,r){return"M "+t.x+" "+t.y+" A "+o+" "+o+" 0 "+r+" 1 "+i.x+" "+i.y+" L "+s.x+" "+s.y+" A "+a+" "+a+" 0 "+r+",0 "+n.x+" "+n.y+" Z"},t.prototype.doAnimation=function(e,t){var i,o=this,n=t.startAngle-90,s=this.accumulation.duration?this.accumulation.duration:t.animation.duration;this.pieBaseCenter.x+=1;var a=.75*Math.max(this.accumulation.availableSize.height,this.accumulation.availableSize.width);a+=.414*a;var r=function(e){var t;switch(e){case"Linear":t=$}return t}("Linear");new sf.base.Animation({}).animate(e,{duration:s,delay:t.animation.delay,progress:function(t){i=r(t.timeStamp,n,o.totalAngle,t.duration),e.setAttribute("d",o.getPathArc(o.pieBaseCenter,n,i,a,0))},end:function(){o.pieBaseCenter.x-=1,e.setAttribute("d",o.getPathArc(o.pieBaseCenter,0,359.99999,a,0)),o.accumulation.trigger("animationComplete",o.accumulation.isBlazor?{}:{series:t,accumulation:o.accumulation,chart:o.accumulation}),oe(o.accumulation.element.id+"_datalabel_Series_"+t.index).style.visibility=o.accumulation.isDestroyed?"hidden":"visible"}})},t}(st),lt=(je=function(e,t){return(je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}je(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lt(t,e),t.prototype.renderPoint=function(e,t,i,o,n,s){var a=t.sumOfPoints;e.startAngle=this.startAngle;var r=e.visible?e.y:0,l=a?Math.abs(r)/a*this.totalAngle:null,h=Math.PI/180*(90-(360-this.startAngle)-90);this.radius=this.isRadiusMapped?ge(e.sliceRadius,this.seriesRadius):this.radius,o.d=this.getPathOption(e,l,this.startAngle%360),e.midAngle=(this.startAngle-l/2)%360,e.endAngle=this.startAngle%360,e.symbolLocation=X(e.midAngle,(this.radius+this.innerRadius)/2,this.center),s?(n.appendChild(i.renderer.drawPath(o)),this.refresh(e,l,h,i,o)):(n.appendChild(i.renderer.drawPath(o)),e.degree=l,e.start=h)},t.prototype.findSeries=function(e){var t=0===this.innerRadius?this.radius+3:this.innerRadius-3,i=0===this.innerRadius?t+2:t-2;this.toggleInnerPoint(e,t,i)},t.prototype.toggleInnerPoint=function(e,t,i){var o,n=Z(e.target.id,!0),s=e.target.id.substring(0,e.target.id.indexOf("Series")-1),a=document.getElementById(this.accumulation.element.id+"PointHover_Border"),r=n.series,l=n.point,h=oe(s+"_Series_"+r+"_Point_"+l);if(!isNaN(n.series)&&h){if(!(sf.base.isNullOrUndefined(r)||isNaN(r)||sf.base.isNullOrUndefined(l)||isNaN(l))){var d=this.accumulation.visibleSeries[0].points[l],c=h.getAttribute("class")===s+"_ej2_deselected"?this.accumulation.tooltip.enable?.5:.3:this.accumulation.tooltip.enable?.5:1,p=this.getPathArc(this.accumulation.pieSeriesModule.center,d.startAngle%360,(d.startAngle+d.degree)%360,t,i);a&&s===this.accumulation.element.id&&(a.getAttribute("d")!==p||d.isExplode)&&(a.parentNode.removeChild(a),a=null);var u=oe(s+"_Series_"+r);if(!a&&(!d.isExplode||d.isExplode&&"click"!==e.type)){var g=new sf.svgbase.PathOption(s+"PointHover_Border",d.color,1,d.color,c,"",p);if((o=this.accumulation.renderer.drawPath(g)).removeAttribute("transform"),"None"!==this.accumulation.selectionMode&&e.target.hasAttribute("class")&&this.accumulation.accumulationSelectionModule.addSvgClass(o,e.target.getAttribute("class")),u.appendChild(o),d.isExplode&&o){var f=h.getAttribute("transform");o.setAttribute("transform",f)}}}}else a&&(this.removeBorder(a,1e3),a=null)},t.prototype.removeBorder=function(e,t){e&&setTimeout((function(){e.parentNode&&e.parentNode.removeChild(e)}),t)},t.prototype.refresh=function(e,t,i,o,n){var s=this,a=oe(n.id),r=o.duration?o.duration:300;new sf.base.Animation({}).animate(sf.base.createElement("div"),{duration:r,delay:0,progress:function(n){var r=$(n.timeStamp,e.degree,t-e.degree,n.duration),l=$(n.timeStamp,e.start,i-e.start,n.duration);l=(l/(Math.PI/180)+360)%360,a.setAttribute("d",s.getPathOption(e,r,l)),e.isExplode&&o.accBaseModule.explodePoints(e.index,o,!0),a.style.visibility="visible"},end:function(){a.style.visibility=e.visible?"visible":"hidden",a.setAttribute("d",n.d),e.degree=t,e.start=i}})},t.prototype.getPathOption=function(e,t,i){if(!t)return"";var o=this.getPathArc(this.center,i%360,(i+t)%360,this.isRadiusMapped?ge(e.sliceRadius,this.seriesRadius):this.radius,this.innerRadius);return this.startAngle+=t,o},t.prototype.animateSeries=function(e,t,i,o){var n=e.element.id+"SeriesGroup"+i.index;if(i.animation.enable&&e.animateSeries){var s=e.renderer.createClipPath({id:n+"_clipPath"}),a=new sf.svgbase.PathOption(n+"_slice","transparent",1,"transparent",1,"",""),r=e.renderer.drawPath(a);s.appendChild(r),e.svgObject.appendChild(s),o.setAttribute("style","clip-path:url(#"+s.id+"); -webkit-clip-path:url(#"+s.id+");"),this.doAnimation(r,i)}},t.prototype.getModuleName=function(){return"PieSeries"},t.prototype.destroy=function(){},t}(rt),dt=function(){function e(e){this.control=e}return e.prototype.print=function(e){this.printWindow=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),this.printWindow.moveTo(0,0),this.printWindow.resizeTo(screen.availWidth,screen.availHeight);var t={cancel:!1,htmlContent:this.getHTMLContent(e),name:"beforePrint"};this.control.trigger("beforePrint",t),t.cancel||sf.base.print(t.htmlContent,this.printWindow)},e.prototype.getHTMLContent=function(e){var t=sf.base.createElement("div");if(e)if(e instanceof Array)for(var i=0;i<e.length;i++){var o=e[i];t.appendChild(oe(o).cloneNode(!0))}else e instanceof Element?t.appendChild(e.cloneNode(!0)):t.appendChild(oe(e).cloneNode(!0));else t.appendChild(this.control.element.cloneNode(!0));return t},e.prototype.export=function(e,t,i,o,n,s,a,r,l){var h=this,d=this.getControlsValue(o,a);n=n||d.width,s=s||d.height;var c,p=this.control.svgObject,u=this.control.enableCanvas;u||(p=sf.base.createElement("canvas",{id:"ej2-canvas",attrs:{width:n.toString(),height:s.toString()}}));var g=!(sf.base.Browser.userAgent.toString().indexOf("HeadlessChrome")>-1);i=sf.base.isNullOrUndefined(i)?sf.pdfexport.PdfPageOrientation.Landscape:i;var f='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+d.svg.outerHTML+"</svg>",b=window.URL.createObjectURL(new Blob("SVG"===e?[f]:[(new XMLSerializer).serializeToString(d.svg)],{type:"image/svg+xml"}));if("SVG"===e)if("msie"===sf.base.Browser.info.name){var y=new Blob([(new XMLSerializer).serializeToString(d.svg)],{type:"application/octet-stream"});window.navigator.msSaveOrOpenBlob(y,t+"."+e.toLocaleLowerCase())}else this.triggerDownload(t,e,b,g);else if("msie"===sf.base.Browser.info.name){var m=p;u||(m=this.createCanvas()),c=m.toDataURL(),"PDF"===e?this.exportPdf(m,i,n,s,g,t,r,l):this.doexport(e,c,t)}else{var v=new Image,x=p.getContext("2d");v.onload=function(){x.drawImage(v,0,0),window.URL.revokeObjectURL(b),"PDF"===e?h.exportPdf(p,i,n,s,g,t,r,l):window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(p.toBlob(null),t+"."+e.toLocaleLowerCase()):h.triggerDownload(t,e,p.toDataURL("image/"+e.toLowerCase()),g)},v.src=b}u||j(document.getElementById(this.control.element.id+"_canvas"))},e.prototype.getDataUrl=function(e){var t=this.getControlsValue([e]),i=this.control.svgObject,o=this.control.enableCanvas;o||(i=sf.base.createElement("canvas",{id:"ej2-canvas",attrs:{width:t.width.toString(),height:t.height.toString()}}));var n=window.URL.createObjectURL(new Blob([(new XMLSerializer).serializeToString(t.svg)],{type:"image/svg+xml"}));if("msie"===sf.base.Browser.info.name){var s=i;o||(s=this.createCanvas());var a={name:"afterExport",cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger("afterExport",a),{element:s,dataUrl:s.toDataURL()}}var r=new Image,l=i.getContext("2d");return r.onload=function(){l.drawImage(r,0,0),window.URL.revokeObjectURL(n);var t={name:"afterExport",cancel:!1,dataUrl:i.toDataURL("image/png")};return e.trigger("afterExport",t),t.dataUrl},r.src=n,{element:i,blobUrl:n}},e.prototype.triggerDownload=function(e,t,i,o){sf.base.createElement("a",{attrs:{download:e+"."+t.toLocaleLowerCase(),href:i}}).dispatchEvent(new MouseEvent(o?"click":"move",{view:window,bubbles:!1,cancelable:!0}))},e.prototype.getControlsValue=function(e,t){var i=0,o=0,n=this.control.enableCanvas,s=new sf.svgbase.SvgRenderer("").createSvg({id:"Svg_Export_Element",width:200,height:200});return e.map((function(e){var a=e.svgObject.cloneNode(!0),r=e.renderer.createGroup({style:sf.base.isNullOrUndefined(t)||t?"transform: translateY("+o+"px)":"transform: translateX("+i+"px)"}),l=a.childNodes[0].getAttribute("fill");"Tailwind"!==e.theme&&"TailwindDark"!==e.theme||"rgba(255,255,255, 0.0)"!==l&&"transparent"!==l||a.childNodes[0].setAttribute("fill","rgba(255,255,255, 1)"),n||r.appendChild(a);var h=0,d=0;e.stockLegendModule&&e.legendSettings.visible&&("Bottom"===e.legendSettings.position||"Top"===e.legendSettings.position||"Auto"===e.legendSettings.position?h+=e.stockLegendModule.legendBounds.height:"Left"!==e.legendSettings.position&&"Right"!==e.legendSettings.position||(d+=e.stockLegendModule.legendBounds.width)),i=sf.base.isNullOrUndefined(t)||t?Math.max(e.availableSize.width+d,i):i+e.availableSize.width+d,o=sf.base.isNullOrUndefined(t)||t?o+e.availableSize.height+h:Math.max(e.availableSize.height+h,o),n||s.appendChild(r)})),n||(s.setAttribute("width",i+""),s.setAttribute("height",o+"")),{width:i,height:o,svg:s}},e.prototype.createCanvas=function(){var e=this.control;this.canvasRender(!0,e);var t=e.svgObject;return this.canvasRender(!1,e),t},e.prototype.canvasRender=function(e,t){t.enableCanvas=e,t.preRender(),t.render()},e.prototype.exportPdf=function(e,t,i,o,n,s,a,r){var l=new sf.pdfexport.PdfDocument,h=l.pageSettings.margins,d=l.pageSettings.width,c=l.pageSettings.height,p=e.toDataURL("image/jpeg").replace("image/jpeg","image/octet-stream");l.pageSettings.orientation=t;var u=d<i?i+h.left+h.right:d,g=c<o?o+h.top+h.bottom:c;if(void 0!==a){var f=new sf.pdfexport.PdfStandardFont(1,a.fontSize||15),b=new sf.pdfexport.PdfPageTemplateElement(u,40);b.graphics.drawString(a.content+"",f,null,new sf.pdfexport.PdfSolidBrush(new sf.pdfexport.PdfColor(0,0,0)),a.x,a.y,null),l.template.top=b}if(void 0!==r){f=new sf.pdfexport.PdfStandardFont(1,r.fontSize||15);var y=new sf.pdfexport.PdfPageTemplateElement(u,40);y.graphics.drawString(r.content+"",f,null,new sf.pdfexport.PdfSolidBrush(new sf.pdfexport.PdfColor(0,0,0)),r.x,r.y,null),l.template.bottom=y}l.pageSettings.size=new sf.pdfexport.SizeF(u,g),p=p.slice(p.indexOf(",")+1),l.pages.add().graphics.drawImage(new sf.pdfexport.PdfBitmap(p),0,0,i,o),n&&(l.save(s+".pdf"),l.destroy())},e.prototype.doexport=function(e,t,i){var o,n=e||"JPG";o=[t],this.exportImage(o,i,n,t)},e.prototype.exportImage=function(e,t,i,o){for(var n=[],s=e instanceof HTMLElement?0:e.length,a=0;a<s;a++){for(var r=e[a].replace(/^data:[a-z]*;,/,"").split(","),l=atob(r[1]),h=new ArrayBuffer(l.length),d=new Uint8Array(h),c=0;c<l.length;c++)d[c]=l.charCodeAt(c);n.push(h)}for(var p=0;p<n.length;p++){var u=new Blob([n[p]],{type:"application/octet-stream"});"msie"===sf.base.Browser.info.name&&window.navigator.msSaveOrOpenBlob(u,t+"."+i.toLocaleLowerCase())}},e}(),ct=(He=function(e,t){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}He(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),pt=function(e,t,o,n){var s,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(a<3?s(r):a>3?s(t,o,r):s(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},ut=function(e){function i(t,i){var o=e.call(this,t,i)||this;return o.animateselected=!1,o.explodeDistance=0,o.chartid=57724,o}return ct(i,e),i.prototype.animate=function(e){this.duration=e||700,this.animateselected=!0,this.animateSeries=!1;var t=0,i=[],o=[],n=[],s=this.visibleSeries[0],a=[];if(a=s.dataSource,s.sumOfPoints=0,s.points.length<Object.keys(s.dataSource).length)this.refresh();else if(s.points.length>Object.keys(s.dataSource).length){var r=this.visibleSeries[0];r.points=r.points.filter((function(e){return e.visible=!1,o.push(e.index),i.push(e.color),a.some((function(i){var o=i;return e.x===o.x&&(e.visible=!0,n.push(e.index),e.index=t,t++),e.x===o.x}))}));for(var l=o.filter((function(e){return n.indexOf(e)<0})),h=o.length-l.length,d=o.length-1;d>=h;d--)j("container_Series_0_Point_"+o[d]);for(d=0;d<r.points.length;d++)r.points[d].y=r.dataSource[d].y,r.points[d].color=i[d],r.sumOfPoints+=r.dataSource[d].y;this.redraw=this.enableAnimation,this.animateSeries=!1,this.calculateBounds(),this.renderElements()}else{for(d=0;d<s.points.length;d++)s.points[d].y=s.dataSource[d][s.yName],s.points[d].color=null!=s.dataSource[d][s.pointColorMapping]?s.dataSource[d][s.pointColorMapping]:s.points[d].color,s.sumOfPoints+=s.dataSource[d][s.yName];this.redraw=this.enableAnimation,this.animateSeries=!1,this.removeSvg(),this.refreshPoints(s.points),this.renderElements()}},Object.defineProperty(i.prototype,"type",{get:function(){return this.series&&this.series.length?this.series[0].type:"Pie"},enumerable:!0,configurable:!0}),i.prototype.preRender=function(){if(this.isBlazor=window.Blazor,this.allowServerDataBinding=!1,this.unWireEvents(),this.setCulture(),this.animateSeries=!0,""===this.element.id){var e=document.getElementsByClassName("e-accumulationchart").length;this.element.id="acc_chart_"+this.chartid+"_"+e}ye(this),this.wireEvents()},i.prototype.setTheme=function(){/*! Set theme for accumulation chart */this.themeStyle=function(e){var t,i="MaterialDark"===e?"#383838":"FabricDark"===e?"#242424":"#1b1b1b";switch(e){case"HighContrastLight":case"Highcontrast":case"HighContrast":t={axisLabel:"#ffffff",axisTitle:"#ffffff",axisLine:"#ffffff",majorGridLine:"#BFBFBF",minorGridLine:"#969696",majorTickLine:"#BFBFBF",minorTickLine:"#969696",chartTitle:"#ffffff",legendLabel:"#ffffff",background:"#000000",areaBorder:"#ffffff",errorBar:"#ffffff",crosshairLine:"#ffffff",crosshairFill:"#ffffff",crosshairLabel:"#000000",tooltipFill:"#ffffff",tooltipBoldLabel:"#000000",tooltipLightLabel:"#000000",tooltipHeaderLine:"#969696",markerShadow:"#BFBFBF",selectionRectFill:"rgba(255, 217, 57, 0.3)",selectionRectStroke:"#ffffff",selectionCircleStroke:"#FFD939"};break;case"MaterialDark":case"FabricDark":case"BootstrapDark":t={axisLabel:"#DADADA",axisTitle:"#ffffff",axisLine:" #6F6C6C",majorGridLine:"#414040",minorGridLine:"#514F4F",majorTickLine:"#414040",minorTickLine:" #4A4848",chartTitle:"#ffffff",legendLabel:"#DADADA",background:i,areaBorder:" #9A9A9A",errorBar:"#ffffff",crosshairLine:"#F4F4F4",crosshairFill:"#F4F4F4",crosshairLabel:"#282727",tooltipFill:"#F4F4F4",tooltipBoldLabel:"#282727",tooltipLightLabel:"#333232",tooltipHeaderLine:"#9A9A9A",markerShadow:null,selectionRectFill:"rgba(56,169,255, 0.1)",selectionRectStroke:"#38A9FF",selectionCircleStroke:"#282727"};break;case"Bootstrap4":t={axisLabel:"#212529",axisTitle:"#212529",axisLine:"#CED4DA",majorGridLine:"#CED4DA",minorGridLine:"#DEE2E6",majorTickLine:"#ADB5BD",minorTickLine:"#CED4DA",chartTitle:"#212529",legendLabel:"#212529",background:"#FFFFFF",areaBorder:"#DEE2E6",errorBar:"#000000",crosshairLine:"#6C757D",crosshairFill:"#495057",crosshairLabel:"#FFFFFF",tooltipFill:"rgba(0, 0, 0, 0.9)",tooltipBoldLabel:"rgba(255,255,255)",tooltipLightLabel:"rgba(255,255,255, 0.9)",tooltipHeaderLine:"rgba(255,255,255, 0.2)",markerShadow:null,selectionRectFill:"rgba(255,255,255, 0.1)",selectionRectStroke:"rgba(0, 123, 255)",selectionCircleStroke:"#495057"};break;case"Tailwind":t={axisLabel:"#6B728",axisTitle:"#374151",axisLine:" #D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",majorTickLine:"#D1D5DB",minorTickLine:" #D1D5DB",chartTitle:"#374151",legendLabel:"#374151",background:"rgba(255,255,255, 0.0)",areaBorder:" #E5E7EB",errorBar:"#374151",crosshairLine:"#1F2937",crosshairFill:"#111827",crosshairLabel:"#F9FAFB",tooltipFill:"#111827",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280"};break;case"TailwindDark":t={axisLabel:"#9CA3AF",axisTitle:"#9CA3AF",axisLine:" #4B5563",majorGridLine:"#374151",minorGridLine:"#374151",majorTickLine:"#4B5563",minorTickLine:" #4B5563",chartTitle:"#D1D5DB",legendLabel:"#D1D5DB",background:"#1f2937",areaBorder:" #374151",errorBar:"#ffffff",crosshairLine:"#9CA3AF",crosshairFill:"#F9FAFB",crosshairLabel:"#1F2937",tooltipFill:"#F9FAFB",tooltipBoldLabel:"#6B7280",tooltipLightLabel:"#1F2937",tooltipHeaderLine:"#9CA3AF",markerShadow:null,selectionRectFill:"rgba(34,211,238, 0.1)",selectionRectStroke:"#22D3EE",selectionCircleStroke:"#282727"};break;case"Bootstrap5":t={axisLabel:"#495057",axisTitle:"#343A40",axisLine:"#D1D5DB",majorGridLine:"#E5E7EB",minorGridLine:"#E5E7EB",majorTickLine:"#D1D5DB",minorTickLine:" #D1D5DB",chartTitle:"#343A40",legendLabel:"#343A40",background:"#FFFFFF",areaBorder:" #DEE2E6",errorBar:"#1F2937",crosshairLine:"#1F2937",crosshairFill:"#212529",crosshairLabel:"#F9FAFB",tooltipFill:"#212529",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280"};break;case"Bootstrap5Dark":t={axisLabel:"#CED4DA",axisTitle:"#E9ECEF",axisLine:"#495057",majorGridLine:"#343A40",minorGridLine:"#343A40",majorTickLine:"#495057",minorTickLine:" #495057",chartTitle:"#E9ECEF",legendLabel:"#E9ECEF",background:"#212529",areaBorder:" #444C54",errorBar:"#ADB5BD",crosshairLine:"#ADB5BD",crosshairFill:"#E9ECEF",crosshairLabel:"#212529",tooltipFill:"#E9ECEF",tooltipBoldLabel:"#D1D5DB",tooltipLightLabel:"#F9FAFB",tooltipHeaderLine:"#6B7280",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280"};break;case"Fluent":t={axisLabel:"#3B3A39",axisTitle:"#201F1E",axisLine:"#D2D0CE",majorGridLine:"#EDEBE9",minorGridLine:"#EDEBE9",majorTickLine:"#D2D0CE",minorTickLine:" #D2D0CE",chartTitle:"#201F1E",legendLabel:"#323130",background:"rgba(255, 255, 255, 0.0001)",areaBorder:"#EDEBE9",errorBar:"#A19F9D",crosshairLine:"#A19F9D",crosshairFill:"#FFFFFF",crosshairLabel:"#323130",tooltipFill:"#FFFFFF",tooltipBoldLabel:"#323130",tooltipLightLabel:"#323130",tooltipHeaderLine:"#D2D0CE",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280"};break;case"FluentDark":t={axisLabel:"#C8C6C4",axisTitle:"#F3F2F1",axisLine:"#3B3A39",majorGridLine:"#292827",minorGridLine:"#292827",majorTickLine:"#3B3A39",minorTickLine:"#3B3A39",chartTitle:"#F3F2F1",legendLabel:"#D2D0CE",background:"transparent",areaBorder:"#292827",errorBar:"#797775",crosshairLine:"#797775",crosshairFill:"#252423",crosshairLabel:"#F3F2F1",tooltipFill:"#252423",tooltipBoldLabel:"#F3F2F1",tooltipLightLabel:"#F3F2F1",tooltipHeaderLine:"#3B3A39",markerShadow:null,selectionRectFill:"rgba(79,70,229, 0.1)",selectionRectStroke:"#4F46E5",selectionCircleStroke:"#6B7280"};break;default:t={axisLabel:"#686868",axisTitle:"#424242",axisLine:"#b5b5b5",majorGridLine:"#dbdbdb",minorGridLine:"#eaeaea",majorTickLine:"#b5b5b5",minorTickLine:"#d6d6d6",chartTitle:"#424242",legendLabel:"#353535",background:"#FFFFFF",areaBorder:"Gray",errorBar:"#000000",crosshairLine:"#4f4f4f",crosshairFill:"#4f4f4f",crosshairLabel:"#e5e5e5",tooltipFill:"rgba(0, 8, 22, 0.75)",tooltipBoldLabel:"#ffffff",tooltipLightLabel:"#dbdbdb",tooltipHeaderLine:"#ffffff",markerShadow:null,selectionRectFill:"rgba(41, 171, 226, 0.1)",selectionRectStroke:"#29abe2",selectionCircleStroke:"#29abe2"}}return t}(this.theme)},i.prototype.render=function(){var e=this;-1===this.element.className.indexOf("e-accumulationchart")&&this.element.classList.add("e-accumulationchart");var t={chart:this.isBlazor?{}:this,accumulation:this.isBlazor?{}:this,theme:this.theme,name:"load",cancel:!1};this.trigger("load",t,(function(){e.theme=e.isBlazor?t.theme:e.theme,e.setTheme(),e.accBaseModule=new st(e),e.pieSeriesModule=new ht(e),e.calculateVisibleSeries(),e.processData(),e.renderComplete(),e.allowServerDataBinding=!0}))},i.prototype.unWireEvents=function(){/*! Find the Events type */var e=sf.base.Browser.isPointer,t=sf.base.Browser.touchStartEvent,i=sf.base.Browser.touchMoveEvent,o=sf.base.Browser.touchEndEvent,n=e?"pointerleave":"mouseleave";/*! UnBind the Event handler */sf.base.EventHandler.remove(this.element,i,this.accumulationMouseMove),sf.base.EventHandler.remove(this.element,o,this.accumulationMouseEnd),sf.base.EventHandler.remove(this.element,t,this.accumulationMouseStart),sf.base.EventHandler.remove(this.element,"click",this.accumulationOnMouseClick),sf.base.EventHandler.remove(this.element,"contextmenu",this.accumulationRightClick),sf.base.EventHandler.remove(this.element,n,this.accumulationMouseLeave),window.removeEventListener(sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResizeBound)},i.prototype.wireEvents=function(){if(this.element){/*! Find the Events type */var e=sf.base.Browser.isPointer,t=sf.base.Browser.touchStartEvent,i=sf.base.Browser.touchEndEvent,o=sf.base.Browser.touchMoveEvent,n=e?"pointerleave":"mouseleave";/*! Bind the Event handler */sf.base.EventHandler.add(this.element,o,this.accumulationMouseMove,this),sf.base.EventHandler.add(this.element,i,this.accumulationMouseEnd,this),sf.base.EventHandler.add(this.element,t,this.accumulationMouseStart,this),sf.base.EventHandler.add(this.element,"click",this.accumulationOnMouseClick,this),sf.base.EventHandler.add(this.element,"contextmenu",this.accumulationRightClick,this),sf.base.EventHandler.add(this.element,n,this.accumulationMouseLeave,this),this.accumulationResizeBound=this.accumulationResize.bind(this),window.addEventListener(sf.base.Browser.isTouch&&"orientation"in window&&"onorientationchange"in window?"orientationchange":"resize",this.accumulationResizeBound),new sf.base.Touch(this.element),
/*! Apply the style for chart */this.setStyle(this.element)}},i.prototype.setMouseXY=function(e){var t,i,o=oe(this.element.id+"_svg");if(o&&this.element){var n=o.getBoundingClientRect(),s=this.element.getBoundingClientRect();if(e.type.indexOf("touch")>-1){this.isTouch=!0;var a=e;i=a.changedTouches[0].clientY,t=a.changedTouches[0].clientX}else this.isTouch="touch"===e.pointerType||"2"===e.pointerType,t=e.clientX,i=e.clientY;this.mouseY=i-s.top-Math.max(n.top-s.top,0),this.mouseX=t-s.left-Math.max(n.left-s.left,0)}},i.prototype.accumulationMouseEnd=function(e){return this.setMouseXY(e),this.trigger("chartMouseUp",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.isTouch&&(this.titleTooltip(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationDataLabelModule&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY,this.isTouch),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.move(e)),this.notify(sf.base.Browser.touchEndEvent,e),!1},i.prototype.accumulationMouseStart=function(e){return this.setMouseXY(e),this.trigger("chartMouseDown",{target:e.target.id,x:this.mouseX,y:this.mouseY}),!1},i.prototype.accumulationResize=function(){var e=this;this.animateSeries=!1;var t={accumulation:this.isBlazor?{}:this,previousSize:new sf.svgbase.Size(this.availableSize.width,this.availableSize.height),name:"resized",currentSize:new sf.svgbase.Size(0,0),chart:this.isBlazor?{}:this},i={name:"beforeResize",cancelResizedEvent:!1};return this.resizeTo&&clearTimeout(this.resizeTo),this.trigger("beforeResize",i),i.cancelResizedEvent||(this.resizeTo=+setTimeout((function(){e.isDestroyed?clearTimeout(e.resizeTo):(ye(e),t.currentSize=e.availableSize,e.trigger("resized",t),e.refreshSeries(),e.refreshChart())}),500)),!1},i.prototype.print=function(e){var t=document.getElementById(this.element.id+"_Series_0").style.clipPath;document.getElementById(this.element.id+"_Series_0").style.clipPath="",new dt(this).print(e),document.getElementById(this.element.id+"_Series_0").style.clipPath=t},i.prototype.export=function(e,t){this.exportModule&&(this.exportModule.export(e,t),this.afterExport&&this.exportModule.getDataUrl(this))},i.prototype.setStyle=function(e){e.style.touchAction="element",e.style.msTouchAction="element",e.style.msContentZooming="none",e.style.msUserSelect="none",e.style.webkitUserSelect="none",e.style.position="relative",e.style.display="block"},i.prototype.setAnnotationValue=function(e,t){var i,o=this.annotations[e],n=oe(this.element.id+"_Annotation_Collections");t&&(o.content=t,n?(i=this.createElement("div"),j(this.element.id+"_Annotation_"+e),this.annotationModule.processAnnotation(o,e,i),n.appendChild(i.children[0])):this.annotationModule.renderAnnotations(oe(this.element.id+"_Secondary_Element")))},i.prototype.accumulationMouseMove=function(e){return!!oe(this.element.id+"_svg")&&(this.setMouseXY(e),this.trigger("chartMouseMove",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointMove&&this.triggerPointEvent("pointMove",e.target,e),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.move(e),this.accumulationDataLabelModule&&this.visibleSeries[0]&&this.visibleSeries[0].dataLabel.visible&&this.accumulationDataLabelModule.move(e,this.mouseX,this.mouseY),this.isTouch||this.titleTooltip(e,this.mouseX,this.mouseY),this.enableBorderOnMouseMove&&"Pie"===this.type&&this.pieSeriesModule&&q(this.mouseX,this.mouseY,this.initialClipRect)&&this.pieSeriesModule.findSeries(e),this.notify(sf.base.Browser.touchMoveEvent,e),!1)},i.prototype.titleTooltip=function(e,t,i,o){var n=e.target.id,s=n===this.element.id+"_title"||n===this.element.id+"_subTitle"||n===this.element.id+"_chart_legend_title";e.target.textContent.indexOf("...")>-1&&s?U(n===this.element.id+"_title"?this.title:n===this.element.id+"_subTitle"?this.subTitle:this.legendSettings.title,t,i,this.element.offsetWidth,this.element.id+"_EJ2_Title_Tooltip",oe(this.element.id+"_Secondary_Element"),o):j(this.element.id+"_EJ2_Title_Tooltip")},i.prototype.accumulationOnMouseClick=function(e){return this.setMouseXY(e),this.accumulationLegendModule&&this.legendSettings.visible&&this.accumulationLegendModule.click(e),"None"!==this.selectionMode&&this.accumulationSelectionModule&&this.accumulationSelectionModule.calculateSelectedElements(this,e),this.visibleSeries[0].explode&&this.accBaseModule.processExplode(e),this.enableBorderOnMouseMove&&this.pieSeriesModule&&"Pie"===this.type&&this.pieSeriesModule.findSeries(e),this.trigger("chartMouseClick",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.pointClick&&this.triggerPointEvent("pointClick",e.target,e),!1},i.prototype.triggerPointEvent=function(e,t,i){var o=i,n=Z(t.id,!0);n.series>=0&&n.point>=0&&this.trigger(e,{series:this.isBlazor?{}:this.series[n.series],point:this.series[n.series].points[n.point],seriesIndex:n.series,pointIndex:n.point,x:this.mouseX,y:this.mouseY,pageX:o.pageX,pageY:o.pageY})},i.prototype.accumulationRightClick=function(e){return 2!==e.buttons&&"touch"!==e.pointerType||(e.preventDefault(),e.stopPropagation(),!1)},i.prototype.accumulationMouseLeave=function(e){this.setMouseXY(e),this.trigger("chartMouseLeave",{target:e.target.id,x:this.mouseX,y:this.mouseY}),this.notify(sf.base.Browser.isPointer?"pointerleave":"mouseleave",e);var t=document.getElementById(this.element.id+"PointHover_Border");return t&&(this.pieSeriesModule.removeBorder(t,1e3),t=null),!1},i.prototype.setCulture=function(){this.intl=new sf.base.Internationalization},i.prototype.createPieSvg=function(){var e;this.removeSvg(),(e=this).canvasRender=new sf.svgbase.CanvasRenderer(e.element.id),e.renderer=e.enableCanvas?e.canvasRender:new sf.svgbase.SvgRenderer(e.element.id),ye(e),e.stockChart&&"chart"===e.getModuleName()?e.svgObject=e.stockChart.chartObject:e.stockChart&&"rangeNavigator"===e.getModuleName()?e.svgObject=e.stockChart.selectorObject:e.enableCanvas?e.svgObject=e.renderer.createCanvas({id:e.element.id+"_canvas",width:e.availableSize.width,height:e.availableSize.height}):e.svgObject=e.renderer.createSvg({id:e.element.id+"_svg",width:e.availableSize.width,height:e.availableSize.height})},i.prototype.removeSvg=function(){if(this.redraw)return null;if(Pe(this),j(this.element.id+"_Secondary_Element"),this.svgObject){for(;this.svgObject.childNodes.length>0;)this.svgObject.removeChild(this.svgObject.firstChild);!this.svgObject.hasChildNodes()&&this.svgObject.parentNode&&sf.base.remove(this.svgObject)}j("EJ2_legend_tooltip"),j("EJ2_datalabel_tooltip"),j(this.element.id+"PointHover_Border")},i.prototype.createSecondaryElement=function(){var e=fe(this.redraw,this.element.id+"_Secondary_Element")||this.createElement("div",{id:this.element.id+"_Secondary_Element",styles:"position: relative"});he(!1,this.element,e,this.redraw)},i.prototype.calculateVisibleSeries=function(){this.visibleSeries=[];for(var e=0,t=this.series.length;e<t;e++)if(this.series[e].index=e,this.series[e].type===this.type&&0===this.visibleSeries.length){this.visibleSeries.push(this.series[e]);break}},i.prototype.processData=function(e){void 0===e&&(e=!0),this.seriesCounts=0;for(var t=0,i=this.visibleSeries;t<i.length;t++){var o=i[t];o.dataModule=new nt(o.dataSource||this.dataSource,o.query),o.refreshDataManager(this,e)}},i.prototype.refreshChart=function(){this.doGrouppingProcess(),this.createPieSvg(),this.calculateBounds(),this.renderElements(),j("chartmeasuretext")},i.prototype.doGrouppingProcess=function(){var e=this.visibleSeries[0];sf.base.isNullOrUndefined(e.resultData)||sf.base.isNullOrUndefined(e.lastGroupTo)||e.lastGroupTo===e.groupTo||e.getPoints(e.resultData,this)},i.prototype.calculateBounds=function(){this.initialClipRect=new sf.svgbase.Rect(this.margin.left,this.margin.top,this.availableSize.width,this.availableSize.height),this.titleCollection=[],this.subTitleCollection=[];var e,t,i=0,o=0,n=0,s=0;if(this.titleCollection=me(this.title,this.titleStyle,this.initialClipRect.width),i=this.title?sf.svgbase.measureText(this.title,this.titleStyle).height*this.titleCollection.length:i,this.subTitle){for(var a=0,r=this.titleCollection;a<r.length;a++){var l=r[a];n=(s=sf.svgbase.measureText(l,this.titleStyle).width)>n?s:n}this.subTitleCollection=me(this.subTitle,this.subTitleStyle,n),o=sf.svgbase.measureText(this.subTitle,this.subTitleStyle).height*this.subTitleCollection.length}e=this.initialClipRect,t=new sf.svgbase.Rect(0,o+i,this.margin.right+this.margin.left,this.margin.bottom+this.margin.top),e.x+=t.x,e.y+=t.y,e.width-=t.x+t.width,e.height-=t.y+t.height,this.calculateLegendBounds()},i.prototype.calculateLegendBounds=function(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.getLegendOptions(this,this.visibleSeries),this.accumulationLegendModule.calculateLegendBounds(this.initialClipRect,this.availableSize,null)},i.prototype.renderElements=function(){this.renderBorder(),this.createSecondaryElement(),this.renderSeries(),this.renderTitle(),this.renderLegend(),he(!1,this.element,this.svgObject,this.redraw),this.processSelection(),this.processExplode(),this.renderAnnotation(),this.setSecondaryElementPosition(),sf.base.updateBlazorTemplate(this.element.id+"_DataLabel","Template",this.series[0].dataLabel),this.trigger("loaded",{accumulation:this.isBlazor?{}:this,chart:this.isBlazor?{}:this}),this.animateSeries=!1},i.prototype.setSecondaryElementPosition=function(){var e=oe(this.element.id+"_Secondary_Element");if(e){var t=this.element.getBoundingClientRect(),i=oe(this.element.id+"_svg").getBoundingClientRect();e.style.left=Math.max(i.left-t.left,0)+"px",e.style.top=Math.max(i.top-t.top,0)+"px"}},i.prototype.renderAnnotation=function(){this.annotationModule&&this.annotationModule.renderAnnotations(oe(this.element.id+"_Secondary_Element"))},i.prototype.processExplode=function(){return this.redraw?null:this.visibleSeries[0].explode?void this.accBaseModule.invokeExplode():null},i.prototype.renderSeries=function(){this.redraw||this.svgObject.appendChild(this.renderer.createGroup({id:this.element.id+"_SeriesCollection"}));for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];i.visible&&this[J(i.type)+"SeriesModule"]&&(this[J(i.type)+"SeriesModule"].initProperties(this,i),i.renderSeries(this,this.redraw))}},i.prototype.renderBorder=function(){var e=this.border.width;he(!1,this.svgObject,this.renderer.drawRectangle(new we(this.element.id+"_border",this.background||this.themeStyle.background,this.border,1,new sf.svgbase.Rect(e/2,e/2,this.availableSize.width-e,this.availableSize.height-e))),this.redraw);var t=this.backgroundImage;if(t){var i=new Re(this.availableSize.height-e,this.availableSize.width-e,t,0,0,this.element.id+"_background","visible","none");he(!1,this.svgObject,this.renderer.drawImage(i),this.redraw)}},i.prototype.renderLegend=function(){if(!this.accumulationLegendModule||!this.legendSettings.visible)return null;this.accumulationLegendModule.legendCollections.length&&("Pie"===this.visibleSeries[0].type&&this.accumulationLegendModule.getSmartLegendLocation(this.visibleSeries[0].labelBound,this.accumulationLegendModule.legendBounds,this.margin),this.accumulationLegendModule.renderLegend(this,this.legendSettings,this.accumulationLegendModule.legendBounds,this.redraw))},i.prototype.processSelection=function(){if(!this.accumulationSelectionModule||"None"===this.selectionMode)return null;var e=sf.base.extend([],this.accumulationSelectionModule.selectedDataIndexes,null,!0);this.accumulationSelectionModule.invokeSelection(this),e.length>0&&(this.accumulationSelectionModule.selectedDataIndexes=e,this.accumulationSelectionModule.redrawSelection(this))},i.prototype.renderTitle=function(){var e=this.margin;if(!this.title)return null;var t=this.titleStyle.textAlignment,i="Near"===t?"start":"Far"===t?"end":"middle",o=sf.svgbase.measureText(this.title,this.titleStyle),n=new sf.svgbase.Rect(e.left,0,this.availableSize.width-e.left-e.right,0),s=new sf.svgbase.TextOption(this.element.id+"_title",ve(n,this.titleStyle),this.margin.top+3*o.height/4,i,this.titleCollection,"","auto"),a=be(this.renderer,s,this.titleStyle,this.titleStyle.color||this.themeStyle.chartTitle,this.svgObject,!1,this.redraw);a&&a.setAttribute("aria-label",this.title),this.subTitle&&this.renderSubTitle(s)},i.prototype.renderSubTitle=function(e){for(var t=0,i=0,o=this.titleStyle.textAlignment,n=sf.svgbase.measureText(this.subTitle,this.subTitleStyle),s=0,a=this.titleCollection;s<a.length;s++){var r=a[s];t=(i=sf.svgbase.measureText(r,this.titleStyle).width)>t?i:t}var l=new sf.svgbase.Rect("Center"===o?e.x-t/2:"Far"===o?e.x-t:e.x,0,t,0),h=new sf.svgbase.TextOption(this.element.id+"_subTitle",ve(l,this.subTitleStyle),e.y*e.text.length+3*n.height/4+10,function(e){return"Near"===e?"start":"Far"===e?"end":"middle"}(this.subTitleStyle.textAlignment),this.subTitleCollection,"","auto");be(this.renderer,h,this.subTitleStyle,this.subTitleStyle.color||this.themeStyle.chartTitle,this.svgObject,!1,this.redraw)},i.prototype.getSeriesElement=function(){return this.svgObject.getElementsByTagName("g")[0]},i.prototype.refreshSeries=function(){for(var e=0,t=this.visibleSeries;e<t.length;e++){var i=t[e];this.refreshPoints(i.points)}},i.prototype.refreshPoints=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t];o.labelPosition=null,o.labelRegion=null,o.labelVisible=!0}},i.prototype.getModuleName=function(){return"accumulationchart"},i.prototype.destroy=function(){this.element&&(this.unWireEvents(),e.prototype.destroy.call(this),this.element.classList.remove("e-accumulationchart"),this.removeSvg(),this.svgObject=null)},i.prototype.requiredModules=function(){var e=[];return e.push({member:this.type+"Series",args:[this]}),this.legendSettings.visible&&e.push({member:"AccumulationLegend",args:[this]}),this.findDatalabelVisibility()&&e.push({member:"AccumulationDataLabel",args:[this]}),this.tooltip.enable&&e.push({member:"AccumulationTooltip",args:[this]}),"None"!==this.selectionMode&&e.push({member:"AccumulationSelection",args:[this]}),(this.enableExport||this.allowExport)&&e.push({member:"Export",args:[this]}),this.annotations.some((function(e){return null!==e.content}))&&e.push({member:"Annotation",args:[this]}),e},i.prototype.findDatalabelVisibility=function(){for(var e=0,t=this.series;e<t.length;e++){if(t[e].dataLabel.visible)return!0}return!1},i.prototype.changeVisibleSeries=function(e,t){for(var i=0,o=e;i<o.length;i++){var n=o[i];if(t===n.index)return n}return null},i.prototype.getPersistData=function(){return""},i.prototype.onPropertyChanged=function(t,i){for(var o={refreshElements:!1,refreshBounds:!1},n=0,s=Object.keys(t);n<s.length;n++){switch(s[n]){case"theme":this.animateSeries=!0;break;case"title":case"subTitle":case"height":case"width":case"margin":o.refreshBounds=!0;break;case"titleStyle":t.titleStyle&&(t.titleStyle.size||t.titleStyle.textOverflow)?o.refreshBounds=!0:o.refreshElements=!0;break;case"subTitleStyle":t.subTitleStyle&&(t.subTitleStyle.size||t.subTitleStyle.textOverflow)?o.refreshBounds=!0:o.refreshElements=!0;break;case"legendSettings":o.refreshBounds=!0,o.refreshElements=!0;break;case"dataSource":this.processData(!1),o.refreshBounds=!0;break;case"series":if(!this.animateselected){for(var a=this.series.length,r=!1,l=void 0,h=void 0,d=0;d<a;d++)l=t.series[d],this.isBlazor&&(l.startAngle||l.endAngle||l.explodeOffset||l.neckHeight||l.neckWidth||l.radius||l.innerRadius||l.groupMode||l.emptyPointSettings)&&(h=!0),t.series[d]&&(t.series[d].dataSource||t.series[d].yName||t.series[d].xName||t.series[d].dataLabel||h)&&(sf.base.extend(this.changeVisibleSeries(this.visibleSeries,d),l,null,!0),r=!0),t.series[d]&&!sf.base.isNullOrUndefined(t.series[d].explodeIndex)&&t.series[d].explodeIndex>=0&&t.series[d].explodeIndex!==i.series[d].explodeIndex?(this.accBaseModule.explodePoints(t.series[d].explodeIndex,this),this.accBaseModule.deExplodeAll(t.series[d].explodeIndex,this.enableAnimation?300:0)):t.series[d].explodeIndex<0&&this.accBaseModule.deExplodeAll(t.series[d].explodeIndex,this.enableAnimation?300:0);r&&(this.processData(!1),o.refreshBounds=!0)}this.animateselected=!1,this.redraw=!1;break;case"locale":case"currencyCode":e.prototype.refresh.call(this);break;case"background":case"border":case"annotations":case"enableSmartLabels":o.refreshElements=!0;break;case"isMultiSelect":case"selectedDataIndexes":case"selectionMode":this.accumulationSelectionModule&&(sf.base.isNullOrUndefined(this.accumulationSelectionModule.selectedDataIndexes)?this.accumulationSelectionModule.invokeSelection(this):this.accumulationSelectionModule.redrawSelection(this))}}!o.refreshBounds&&o.refreshElements?(this.createPieSvg(),this.renderElements()):o.refreshBounds&&(this.refreshSeries(),this.createPieSvg(),this.calculateBounds(),this.renderElements())},pt([sf.base.Property(null)],i.prototype,"width",void 0),pt([sf.base.Property(null)],i.prototype,"height",void 0),pt([sf.base.Property(null)],i.prototype,"title",void 0),pt([sf.base.Property(null)],i.prototype,"backgroundImage",void 0),pt([sf.base.Complex({},Ee)],i.prototype,"center",void 0),pt([sf.base.Property("")],i.prototype,"dataSource",void 0),pt([sf.base.Complex(t.chartTitleFont,d)],i.prototype,"titleStyle",void 0),pt([sf.base.Property(null)],i.prototype,"subTitle",void 0),pt([sf.base.Complex(t.chartSubTitleFont,d)],i.prototype,"subTitleStyle",void 0),pt([sf.base.Complex({},tt)],i.prototype,"legendSettings",void 0),pt([sf.base.Complex({},m)],i.prototype,"tooltip",void 0),pt([sf.base.Property("None")],i.prototype,"selectionMode",void 0),pt([sf.base.Property("None")],i.prototype,"highLightMode",void 0),pt([sf.base.Property("None")],i.prototype,"selectionPattern",void 0),pt([sf.base.Property("None")],i.prototype,"highlightPattern",void 0),pt([sf.base.Property(!0)],i.prototype,"enableBorderOnMouseMove",void 0),pt([sf.base.Property(!1)],i.prototype,"isMultiSelect",void 0),pt([sf.base.Property(!0)],i.prototype,"enableAnimation",void 0),pt([sf.base.Collection([],f)],i.prototype,"selectedDataIndexes",void 0),pt([sf.base.Complex({},p)],i.prototype,"margin",void 0),pt([sf.base.Property(!0)],i.prototype,"enableSmartLabels",void 0),pt([sf.base.Complex({color:"#DDDDDD",width:0},c)],i.prototype,"border",void 0),pt([sf.base.Property(null)],i.prototype,"background",void 0),pt([sf.base.Collection([{}],De)],i.prototype,"series",void 0),pt([sf.base.Collection([{}],ke)],i.prototype,"annotations",void 0),pt([sf.base.Property("Material")],i.prototype,"theme",void 0),pt([sf.base.Property(!1)],i.prototype,"useGroupingSeparator",void 0),pt([sf.base.Property(!0)],i.prototype,"enableExport",void 0),pt([sf.base.Property(!1)],i.prototype,"allowExport",void 0),pt([sf.base.Event()],i.prototype,"loaded",void 0),pt([sf.base.Event()],i.prototype,"load",void 0),pt([sf.base.Event()],i.prototype,"seriesRender",void 0),pt([sf.base.Event()],i.prototype,"legendRender",void 0),pt([sf.base.Event()],i.prototype,"textRender",void 0),pt([sf.base.Event()],i.prototype,"tooltipRender",void 0),pt([sf.base.Event()],i.prototype,"pointRender",void 0),pt([sf.base.Event()],i.prototype,"annotationRender",void 0),pt([sf.base.Event()],i.prototype,"beforePrint",void 0),pt([sf.base.Event()],i.prototype,"chartMouseMove",void 0),pt([sf.base.Event()],i.prototype,"chartMouseClick",void 0),pt([sf.base.Event()],i.prototype,"pointClick",void 0),pt([sf.base.Event()],i.prototype,"pointMove",void 0),pt([sf.base.Event()],i.prototype,"animationComplete",void 0),pt([sf.base.Event()],i.prototype,"chartMouseDown",void 0),pt([sf.base.Event()],i.prototype,"chartMouseLeave",void 0),pt([sf.base.Event()],i.prototype,"chartMouseUp",void 0),pt([sf.base.Event()],i.prototype,"beforeResize",void 0),pt([sf.base.Event()],i.prototype,"resized",void 0),pt([sf.base.Event()],i.prototype,"afterExport",void 0),pt([sf.base.Property("USD")],i.prototype,"currencyCode",void 0),i=pt([sf.base.NotifyPropertyChanges],i)}(sf.base.Component),gt=(Ue=function(e,t){return(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Ue(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gt(t,e),t.prototype.initProperties=function(e,t){var i=e.initialClipRect;t.triangleSize=new sf.svgbase.Size(ge(t.width,i.width),ge(t.height,i.height)),t.neckSize=new sf.svgbase.Size(ge(t.neckWidth,i.width),ge(t.neckHeight,i.height)),this.defaultLabelBound(t,t.dataLabel.visible,t.dataLabel.position,e),"30%"===t.explodeOffset&&(t.explodeOffset="25px"),e.explodeDistance=ge(t.explodeOffset,i.width);var o=t.points;this.initializeSizeRatio(o,t)},t.prototype.initializeSizeRatio=function(e,t,i){void 0===i&&(i=!1);for(var o=t.sumOfPoints,n=Math.min(Math.max(t.gapRatio,0),1),s=1/(o*(1+n/(1-n))),a=n/(e.length-1),r=0,l=e.length-1;l>=0;l--){var h=i?e.length-1-l:l;if(e[h].visible){var d=s*e[h].y;e[h].yRatio=r,e[h].heightRatio=d,r+=d+a}}},t.prototype.setLabelLocation=function(e,t,i){var o=i.length-1,n="Funnel"===e.type?i.length-2:i.length-1,s=(i[0].x+i[n].x)/2,a=(i[1].x+i[n-1].x)/2;t.region=new sf.svgbase.Rect(s,i[0].y,a-s,i[n].y-i[0].y),t.symbolLocation={x:t.region.x+t.region.width/2,y:t.region.y+t.region.height/2},t.labelOffset={x:t.symbolLocation.x-(i[0].x+i[o].x)/2,y:t.symbolLocation.y-(i[0].y+i[o].y)/2}},t.prototype.findPath=function(e){for(var t="M",i=0;i<e.length;i++)t+=e[i].x+" "+e[i].y,i!==e.length-1&&(t+=" L");return t},t.prototype.defaultLabelBound=function(e,t,i,o){var n=(o.initialClipRect.width-e.triangleSize.width)/2,s=(o.initialClipRect.height-e.triangleSize.height)/2,a=new sf.svgbase.Rect(n,s,e.triangleSize.width,e.triangleSize.height);e.labelBound=new sf.svgbase.Rect(a.x,a.y,a.width+a.x,a.height+a.y),e.accumulationBound=a,t&&"Outside"===i&&(e.labelBound=new sf.svgbase.Rect(1/0,1/0,-1/0,-1/0))},t}(st),bt=(We=function(e,t){return(We=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}We(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bt(t,e),t.prototype.getSegmentData=function(e,t,i){var o,n,s,a,r,l,h,d,c=t.triangleSize,p=(i.initialClipRect.width-t.triangleSize.width)/2+i.initialClipRect.x,u=i.initialClipRect.y+(i.initialClipRect.height-c.height)/2,g=e.yRatio*c.height,f=g+e.heightRatio*c.height,b=t.neckSize;o=b.width+(c.width-b.width)*((c.height-b.height-g)/(c.height-b.height)),a=(n=c.width/2-o/2)+o,o=f>c.height-b.height||c.height===b.height?b.width:b.width+(c.width-b.width)*((c.height-b.height-f)/(c.height-b.height)),r=(s=c.width/2-o/2)+o,g>=c.height-b.height?(n=s=l=c.width/2-b.width/2,a=r=h=c.width/2+b.width/2):f>c.height-b.height&&(h=r=(l=s=c.width/2-o/2)+o,d=c.height-b.height);var y={x:p+0+r,y:f+=u},m={x:p+0+s,y:f};(d+=u)&&(y={x:p+0+h,y:d},m={x:p+0+l,y:d});var v=[{x:p+0+n,y:g+=u},{x:p+0+a,y:g},y,{x:p+0+r,y:f},{x:p+0+s,y:f},m];return this.setLabelLocation(t,e,v),this.findPath(v)},t.prototype.renderPoint=function(e,t,i,o,n,s){if(!e.visible)return j(o.id),null;var a=this.getSegmentData(e,t,i);e.midAngle=0,o.d=a,he(!1,n,i.renderer.drawPath(o),s),e.isExplode&&i.accBaseModule.explodePoints(e.index,i,!0)},t.prototype.getModuleName=function(){return"FunnelSeries"},t.prototype.destroy=function(){},t}(ft),mt=(Ge=function(e,t){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Ge(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mt(t,e),t.prototype.getSegmentData=function(e,t,i){var o=t.triangleSize,n=i.initialClipRect.y+(i.initialClipRect.height-o.height)/2,s=(i.initialClipRect.width-t.triangleSize.width)/2+i.initialClipRect.x,a=e.yRatio,r=e.yRatio+e.heightRatio,l=.5*(1-e.yRatio),h=.5*(1-r);a+=n/o.height,r+=n/o.height;var d=[{x:s+0+l*o.width,y:a*o.height},{x:s+0+(1-l)*o.width,y:a*o.height},{x:s+0+(1-h)*o.width,y:r*o.height},{x:s+0+h*o.width,y:r*o.height}];return this.setLabelLocation(t,e,d),this.findPath(d)},t.prototype.initializeSizeRatio=function(t,i){"Linear"===i.pyramidMode?e.prototype.initializeSizeRatio.call(this,t,i,!0):this.calculateSurfaceSegments(i)},t.prototype.calculateSurfaceSegments=function(e){for(var t=e.points.length,i=e.sumOfPoints,o=[],n=[],s=Math.min(0,Math.max(e.gapRatio,1))/(t-1),a=this.getSurfaceHeight(0,i),r=0,l=0;l<t;l++)e.points[l].visible&&(o[l]=r,n[l]=this.getSurfaceHeight(r,Math.abs(e.points[l].y)),r+=n[l]+s*a);var h=1/(r-s*a);for(l=0;l<t;l++)e.points[l].visible&&(e.points[l].yRatio=h*o[l],e.points[l].heightRatio=h*n[l])},t.prototype.getSurfaceHeight=function(e,t){return this.solveQuadraticEquation(1,2*e,-t)},t.prototype.solveQuadraticEquation=function(e,t,i){var o,n,s=t*t-4*e*i;if(s>=0){var a=Math.sqrt(s);return o=(-t-a)/(2*e),n=(-t+a)/(2*e),Math.max(o,n)}return 0},t.prototype.renderPoint=function(e,t,i,o,n,s){if(!e.visible)return sf.svgbase.removeElement(o.id),null;o.d=this.getSegmentData(e,t,i),e.midAngle=0,he(!1,n,i.renderer.drawPath(o),s),e.isExplode&&i.accBaseModule.explodePoints(e.index,i,!0)},t.prototype.getModuleName=function(){return"PyramidSeries"},t.prototype.destroy=function(){},t}(ft),xt=(Xe=function(e,t){return(Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Xe(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),Pt=function(e){function t(t){var i=e.call(this,t)||this;return i.library=i,i.titleRect=new sf.svgbase.Rect(0,t.margin.top,0,0),i}return xt(t,e),t.prototype.getLegendOptions=function(e,t){this.legendCollections=[];for(var i=0;i<1;i++){var o=t[i].type;"Pie"!==o&&"Doughnut"!==o||(o="0"!==t[i].innerRadius&&"0%"!==t[i].innerRadius?"Doughnut":"Pie");for(var n=0,s=t[i].points;n<s.length;n++){var a=s[n];sf.base.isNullOrUndefined(a.x)||sf.base.isNullOrUndefined(a.y)||this.legendCollections.push(new ot(a.x.toString(),a.color,t[i].legendShape,a.visible,o,a.legendImageUrl,null,null,a.index,t[i].index))}}},t.prototype.getLegendBounds=function(e,t,i){this.calculateLegendTitle(i,t),this.isTitle=!!i.title;var o=0,n=0,s=i.padding,a=i.titlePosition,r=0,l=this.arrowWidth,h=i.enablePages?0:this.arrowHeight;this.isVertical?o=i.width?0:e.width/100*5:n=i.height?0:e.height/100*5,t.width+=o,t.height+=n;var d,c,p=i.shapePadding,u=0,g=i.shapeWidth,f=0,b=0,y=[],m=0,v=0;this.maxItemHeight=Math.max(sf.svgbase.measureText("MeasureText",i.textStyle).height,i.shapeHeight);for(var x=!1,P=0,S=this.legendCollections;P<S.length;P++){var w=S[P];c={fill:w.fill,text:w.text,shape:w.shape,name:"legendRender",cancel:!1},this.chart.trigger("legendRender",c),w.render=!c.cancel,w.text=c.text.indexOf("&")>-1?this.convertHtmlEntities(c.text):c.text,w.fill=c.fill,w.shape=c.shape,w.textSize=sf.svgbase.measureText(w.text,i.textStyle),w.render&&""!==w.text&&(x=!0,v=g+p+w.textSize.width+s,this.isVertical?(m=++b*(this.maxItemHeight+s)+s+this.legendTitleSize.height+h,b*(this.maxItemHeight+s)+s+h>t.height&&(m=Math.max(m,b*(this.maxItemHeight+s)+s+h),f+=u,y.push(u),this.totalPages=Math.max(b,this.totalPages||1),u=0,b=1),u=Math.max(v,u)):(i.enablePages||(r=this.isTitle&&"Top"!==a?this.legendTitleSize.width+this.fivePixel:0,r+=l),f+=v,t.width<s+f+r&&(u=Math.max(u,f+s+r-v),0===b&&v!==f&&(b=1),f=v,m=++b*(this.maxItemHeight+s)+s+this.legendTitleSize.height)))}d="Top"===a?this.legendTitleSize.height:0,this.isVertical?(f+=u,this.isPaging=t.width<f+s,m=Math.max(m,(this.totalPages||1)*(this.maxItemHeight+s)+s+h),this.isPaging=this.isPaging&&this.totalPages>1,y[y.length-1]!==u&&y.push(u)):(this.isPaging=t.height<m,m=!i.enablePages&&this.isPaging?this.maxItemHeight+s+s+d:m,this.totalPages=this.totalRowCount=b,m=Math.max(m,this.maxItemHeight+s+s+d),this.isPaging||(f+=this.isTitle&&"Top"!==a?this.fivePixel+this.legendTitleSize.width+this.fivePixel:0)),this.maxColumns=0;var R=this.isVertical?this.getMaxColumn(y,t.width,s,f+s):Math.max(f+s,u);x?this.setBounds(R,m,i,t):this.setBounds(0,0,i,t)},t.prototype.convertHtmlEntities=function(e){var t=e.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">").replace("&quot;",'"').replace("&nbsp;"," ").replace("&cent;","").replace("&pound;","").replace("&yen;","").replace("&euro;","").replace("&copy;","").replace("&reg;","");return t=t.replace("&#38;","&").replace("&#60;","<").replace("&#62;",">").replace("&#34;",'"').replace("&#160;"," ").replace("&#162;","").replace("&#163;","").replace("&#165;","").replace("&#8364;","").replace("&#169;","").replace("&#174;","")},t.prototype.getMaxColumn=function(e,t,i,o){var n=i;this.maxColumnWidth=Math.max.apply(null,e);for(var s=0,a=e;s<a.length;s++){a[s];if(n+=this.maxColumnWidth,this.maxColumns++,n+i>t){n-=this.maxColumnWidth,this.maxColumns--;break}}return this.isPaging=n<o&&this.totalPages>1,n===i&&(n=t),this.maxColumns=Math.max(1,this.maxColumns),this.maxWidth=n,n},t.prototype.getAvailWidth=function(e,t){return this.isVertical&&(t=this.maxWidth),t-(2*this.legend.padding+this.legend.shapeWidth+this.legend.shapePadding)},t.prototype.getRenderPoint=function(e,t,i,o,n,s,a){var r=this.legend.padding;if(this.isVertical)s===a||o.location.y+1.5*this.maxItemHeight+2*r>n.y+n.height?(e.location.x=o.location.x+(s===a?0:this.maxColumnWidth),e.location.y=t.y,this.pageXCollections.push(e.location.x-this.legend.shapeWidth/2-r),this.totalPages++):(e.location.x=o.location.x,e.location.y=o.location.y+this.maxItemHeight+r);else{var l=o.location.x+i+o.textSize.width;l+(e.textSize.width+i)>n.x+n.width+this.legend.shapeWidth/2?(e.location.y=s===a?o.location.y:o.location.y+this.maxItemHeight+r,e.location.x=t.x):(e.location.y=o.location.y,e.location.x=s===a?o.location.x:l),this.totalPages=this.totalRowCount}var h=this.getAvailWidth(e.location.x,this.legendBounds.width);e.text=ue(+h.toFixed(4),e.text,this.legend.textStyle)},t.prototype.getSmartLegendLocation=function(e,t,i){var o;switch(this.position){case"Left":o=(e.x-t.width-i.left)/2,t.x=e.x-t.width<i.left?t.x:e.x-t.width-o;break;case"Right":o=(this.chart.availableSize.width-i.right-(e.x+e.width+t.width))/2,t.x=e.x+e.width+t.width>this.chart.availableSize.width-i.right?t.x:e.x+e.width+o;break;case"Top":this.getTitleRect(this.chart),o=(e.y-t.height-(this.titleRect.y+this.titleRect.height))/2,t.y=e.y-t.height<i.top?t.y:e.y-t.height-o;break;case"Bottom":o=(this.chart.availableSize.height-i.bottom-(e.y+e.height+t.height))/2,t.y=e.y+e.height+t.height>this.chart.availableSize.height-i.bottom?t.y:e.y+e.height+o}},t.prototype.getTitleRect=function(e){if(!e.title)return null;var t=sf.svgbase.measureText(e.title,e.titleStyle);this.titleRect=new sf.svgbase.Rect(e.availableSize.width/2-t.width/2,e.margin.top,t.width,t.height)},t.prototype.legendByIndex=function(e,t){for(var i=0,o=t;i<o.length;i++){var n=o[i];if(n.pointIndex===e)return n}return null},t.prototype.click=function(e){var t=e.target.id,i=this.chart,o=[this.legendID+"_text_",this.legendID+"_shape_",this.legendID+"_shape_marker_"];if(this.chart.accumulationSelectionModule)sf.base.extend([],this.chart.accumulationSelectionModule.selectedDataIndexes,null,!0);this.chart.animateSeries=!1;for(var n=0,s=o;n<s.length;n++){var a=s[n];if(t.indexOf(a)>-1){var r=parseInt(t.split(a)[1],10);if(this.chart.legendSettings.toggleVisibility&&!isNaN(r)){var l=this.chart.visibleSeries[0],h=Fe(r,l.points),d=this.legendByIndex(r,this.legendCollections);h.visible=!h.visible,d.visible=h.visible,l.sumOfPoints+=h.visible?h.y:-h.y,i.redraw=i.enableAnimation,this.sliceVisibility(r,h.visible),i.removeSvg(),Pe(i),this.chart.refreshPoints(l.points),this.chart.renderElements()}else this.chart.accumulationSelectionModule&&!isNaN(r)&&this.chart.accumulationSelectionModule.legendSelection(this.chart,0,r)}}t.indexOf(this.legendID+"_pageup")>-1?this.changePage(e,!0):t.indexOf(this.legendID+"_pagedown")>-1&&this.changePage(e,!1),i.redraw=!1},t.prototype.sliceVisibility=function(e,t){var i=this.chart.element.id+"_Series_0_Point_";this.chart.visibleSeries[0].dataLabel.visible&&(i=this.chart.element.id+"_datalabel_Series_0_",this.sliceAnimate(oe(i+"g_"+e),t))},t.prototype.sliceAnimate=function(e,t){if(!e)return null;new sf.base.Animation({}).animate(e,{duration:300,delay:0,name:t?"FadeIn":"FadeOut",end:function(e){e.element.style.visibility=t?"visible":"hidden"}})},t.prototype.getModuleName=function(){return"AccumulationLegend"},t.prototype.destroy=function(){},t}(it),St=(Ye=function(e,t){return(Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Ye(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),wt=function(e){function t(t){var i=e.call(this,t)||this;if(i.rightSideRenderingPoints=[],i.leftSideRenderingPoints=[],i.id=t.element.id+"_datalabel_Series_",t.title){var o=sf.svgbase.measureText(t.title,t.titleStyle);i.titleRect=new sf.svgbase.Rect(t.availableSize.width/2-o.width/2,t.margin.top,o.width,o.height)}return i}return St(t,e),t.prototype.getDataLabelPosition=function(e,t,i,o){var n=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e):this.accumulation.pieSeriesModule.labelRadius:this.getLabelDistance(e,t);this.getLabelRegion(e,t.position,i,n,this.marginValue),e.labelAngle=e.midAngle,e.labelPosition=t.position,this.accumulation.enableSmartLabels&&this.getSmartLabel(e,t,i,o)},t.prototype.getLabelRegion=function(e,t,i,o,n,s){void 0===s&&(s=0);var a=s||e.midAngle,r=X(a,o,this.isCircular()?this.center:this.getLabelLocation(e,t));r.y="Inside"===t?r.y-i.height/2:r.y,r.x="Inside"===t?r.x-i.width/2:r.x,e.labelRegion=new sf.svgbase.Rect(r.x,r.y,i.width+2*n,i.height+2*n),"Outside"===t&&(e.labelRegion.y-=e.labelRegion.height/2,a>=90&&a<=270?e.labelRegion.x-=e.labelRegion.width+10:e.labelRegion.x+=10)},t.prototype.getSmartLabel=function(e,t,i,o){var n=this.isCircular(),s=n?this.radius:this.getLabelDistance(e,t);s+=ge(n?t.connectorStyle.length||"4%":"0px",s);var a,r,l=this.findPreviousPoint(o,e.index,e.labelPosition);if("Inside"===t.position?(e.labelRegion.height-=4,e.labelRegion.width-=4,(l&&l.labelRegion&&(de(e.labelRegion,l.labelRegion)||this.isOverlapping(e,o))||!n&&(a=e.region,r=e.labelRegion,!(a.x<=r.x&&a.x+a.width>=r.x+r.width&&a.y<=r.y&&a.height+a.y>=r.y+r.height)))&&(e.labelPosition="Outside",n||(s=this.getLabelDistance(e,t)),this.getLabelRegion(e,e.labelPosition,i,s,this.marginValue),(l=this.findPreviousPoint(o,e.index,e.labelPosition))&&(de(e.labelRegion,l.labelRegion)||this.isConnectorLineOverlapping(e,l))&&this.setOuterSmartLabel(l,e,t.border.width,s,i,this.marginValue))):l&&l.labelRegion&&(de(e.labelRegion,l.labelRegion)||this.isOverlapping(e,o)||this.isConnectorLineOverlapping(e,l))&&this.setOuterSmartLabel(l,e,t.border.width,s,i,this.marginValue),this.isOverlapping(e,o)&&("Pyramid"===this.accumulation.type||"Funnel"===this.accumulation.type)){var h=e.midAngle||0,d=n?this.radius:this.getLabelDistance(e,t),c=X(h,-d,this.isCircular()?this.center:this.getLabelLocation(e,"OutsideLeft"));e.labelRegion=new sf.svgbase.Rect(c.x,c.y,i.width+2*this.marginValue,i.height+2*this.marginValue),e.labelRegion.y-=e.labelRegion.height/2,e.labelRegion.x=e.labelRegion.x-10-e.labelRegion.width,l&&l.labelRegion&&(de(e.labelRegion,l.labelRegion)||this.isOverlapping(e,o)||this.isConnectorLineOverlapping(e,l))&&this.setOuterSmartLabel(l,e,t.border.width,d,i,this.marginValue)}},t.prototype.move=function(e,t,i,o){var n=this;if(e.target.textContent.indexOf("...")>-1){var s=e.target.id.split(this.id);if(2===s.length){var a=parseInt(s[1].split("_text_")[0],10),r=parseInt(s[1].split("_text_")[1],10);if(!isNaN(a)&&!isNaN(r)){o&&j(this.accumulation.element.id+"_EJ2_Datalabel_Tooltip");var l=ze(a,this.accumulation.visibleSeries).points[r];U(l.text||l.y.toString(),t,i,this.areaRect.width,this.accumulation.element.id+"_EJ2_Datalabel_Tooltip",oe(this.accumulation.element.id+"_Secondary_Element"))}}}else j(this.accumulation.element.id+"_EJ2_Datalabel_Tooltip");o&&(clearTimeout(this.clearTooltip),this.clearTooltip=+setTimeout((function(){j(n.accumulation.element.id+"_EJ2_Datalabel_Tooltip")}),1e3))},t.prototype.findPreviousPoint=function(e,t,i){for(var o=e[0],n=t-1;n>=0;n--)if((o=e[n]).visible&&o.labelVisible&&o.labelRegion&&o.labelPosition===i)return o;return null},t.prototype.isOverlapping=function(e,t){for(var i=e.index-1;i>=0;i--)if(t[i].visible&&t[i].labelVisible&&t[i].labelRegion&&e.labelRegion&&e.labelVisible&&de(e.labelRegion,t[i].labelRegion))return!0;return!1},t.prototype.textTrimming=function(e,t,i,o){if(de(e.labelRegion,t)){var n=e.labelRegion.width;"Right"===o?n=t.x-e.labelRegion.x:"Left"===o?(n=e.labelRegion.x-(t.x+t.width))<0&&(n+=e.labelRegion.width,e.labelRegion.x=t.x+t.width):"InsideRight"===o?n=t.x+t.width-e.labelRegion.x:"InsideLeft"===o?(n=e.labelRegion.x+e.labelRegion.width-t.x)<e.labelRegion.width&&(e.labelRegion.x=t.x):this.setPointVisibileFalse(e),e.labelVisible&&e.labelRegion&&(n<e.labelRegion.width&&(e.label=ue(n-2*this.marginValue,e.label,i),e.labelRegion.width=n),3===e.label.length&&e.label.indexOf("...")>-1&&this.setPointVisibileFalse(e))}},t.prototype.setPointVisibileFalse=function(e){e.labelVisible=!1,e.labelRegion=null},t.prototype.setPointVisibleTrue=function(e){e.labelVisible=!0},t.prototype.setOuterSmartLabel=function(e,t,i,o,n,s){if(this.isCircular()){var a=this.getOverlappedAngle(e.labelRegion,t.labelRegion,t.midAngle,2*i);for(this.getLabelRegion(t,"Outside",n,o,s,a),a>t.endAngle&&(a=t.midAngle),t.labelAngle=a;t.labelVisible&&(de(e.labelRegion,t.labelRegion)||a<=e.labelAngle||this.isConnectorLineOverlapping(t,e))&&!(a>t.endAngle);)t.labelAngle=a,this.getLabelRegion(t,"Outside",n,o,s,a),a+=.1}else this.setSmartLabelForSegments(t,e)},t.prototype.setSmartLabelForSegments=function(e,t){var i=e.labelRegion,o="Funnel"===this.accumulation.type?t.labelRegion.y-(i.y+i.height):e.labelRegion.y-(t.labelRegion.y+t.labelRegion.height);o<0&&(e.labelRegion.y+="Funnel"===this.accumulation.type?o:-o)},t.prototype.isConnectorLineOverlapping=function(e,t){var i;!this.isCircular()&&e.labelRegion.x<e.region.x&&(i="outsideLeft");var o=this.getLabelLocation(e,i),n=new Ce(0,0);this.getEdgeOfLabel(e.labelRegion,e.labelAngle,n,0,e);var s=this.getLabelLocation(t),a=new Ce(0,0);return this.getEdgeOfLabel(t.labelRegion,t.labelAngle,a,0,e),this.isLineRectangleIntersect(o,n,e.labelRegion)||this.isLineRectangleIntersect(o,n,t.labelRegion)||this.isLineRectangleIntersect(s,a,e.labelRegion)},t.prototype.isLineRectangleIntersect=function(e,t,i){var o=[new Ce(Math.round(i.x),Math.round(i.y)),new Ce(Math.round(i.x+i.width),Math.round(i.y)),new Ce(Math.round(i.x+i.width),Math.round(i.y+i.height)),new Ce(Math.round(i.x),Math.round(i.y+i.height))];e.x=Math.round(e.x),e.y=Math.round(e.y),t.x=Math.round(t.x),t.y=Math.round(t.y);for(var n=0;n<o.length;n++)if(this.isLinesIntersect(e,t,o[n],o[(n+1)%o.length]))return!0;return!1},t.prototype.isLinesIntersect=function(e,t,i,o){var n=t.y-e.y,s=e.x-t.x,a=n*e.x+s*e.y,r=o.y-i.y,l=i.x-o.x,h=r*i.x+l*i.y,d=n*l-r*s;if(0!==d){var c=(l*a-s*h)/d,p=(n*h-r*a)/d,u=Math.min(e.x,t.x)<=c&&c<=Math.max(e.x,t.x);return u=(u=(u=u&&Math.min(e.y,t.y)<=p&&p<=Math.max(e.y,t.y))&&Math.min(i.x,o.x)<=c&&c<=Math.max(i.x,o.x))&&Math.min(i.y,o.y)<=p&&p<=Math.max(i.y,o.y)}return!1},t.prototype.getOverlappedAngle=function(e,t,i,o){var n=e.x;return i>=90&&i<=270?(t.y=e.y-(o+t.height/2),n=e.x+e.width):t.y=e.y+e.height+o,function(e,t){var i=Math.atan2(t.y-e.y,t.x-e.x);return(i=i<0?6.283+i:i)*(180/Math.PI)}(this.center,new Ce(n,t.y))},t.prototype.getConnectorPath=function(e,t,i,o){void 0===o&&(o=0);var n=i.connectorStyle,s=this.isCircular()?this.isVariousRadius()?this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],t):this.labelRadius:this.getLabelDistance(t,i),a=this.getConnectorStartPoint(t,n),r=this.accumulation.enableSmartLabels?t.midAngle:o||t.midAngle,l=new Ce(0,0),h=this.getEdgeOfLabel(e,r,l,n.width,t);if("Curve"===n.type){if(this.isCircular()){var d=s-(this.isVariousRadius()?ge(t.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius);return t.isLabelUpdated?l=this.getPerpendicularDistance(a,t):(l=X(r,s-d/2,this.center),"Outside"===t.labelPosition&&"Inside"===i.position&&(l=X(r,s-1.25*d,this.center))),"M "+a.x+" "+a.y+" Q "+l.x+" "+l.y+" "+h.x+" "+h.y}return this.getPolyLinePath(a,h)}return"M "+a.x+" "+a.y+" L "+l.x+" "+l.y+" L "+h.x+" "+h.y},t.prototype.getPolyLinePath=function(e,t){var i=[e,t];if(e.y===t.y)return"M "+e.x+" "+e.y+" L "+t.x+" "+t.y;for(var o="M",n=0;n<=16;n++){var s=n/16,a=this.getBezierPoint(s,i,0,2);o+=a.x+","+a.y,16!==n&&(o+=" L")}return o},t.prototype.getBezierPoint=function(e,t,i,o){if(1===o)return t[i];var n=this.getBezierPoint(e,t,i,o-1),s=this.getBezierPoint(e,t,i+1,o-1),a=(n.x,n.x),r=(n.y,n.y),l=(1-e)*a+e*(s.x,s.x),h=(1-e)*r+e*(s.y,s.y);return n.x,{x:l,y:h}},t.prototype.getEdgeOfLabel=function(e,t,i,o,n){void 0===o&&(o=1);var s=new Ce(e.x,e.y);return t>=90&&t<=270?(s.x+=e.width+o/2,s.y+=e.height/2,i.x=s.x+10,i.y=s.y):n&&n.region&&n.region.x>n.labelRegion.x?(s.x+=2*o+e.width,s.y+=e.height/2,i.x=s.x+10,i.y=s.y):(s.x-=o/2,s.y+=e.height/2,i.x=s.x-10,i.y=s.y),s},t.prototype.getLabelDistance=function(e,t){if(e.labelPosition&&t.position!==e.labelPosition||t.connectorStyle.length){var i=ge(t.connectorStyle.length||"70px",this.accumulation.initialClipRect.width);if(i<this.accumulation.initialClipRect.width)return i}var o,n=e.labelPosition||t.position,s=this.accumulation.visibleSeries[0],a=(this.accumulation.initialClipRect.width-s.triangleSize.width)/2;switch(n){case"Inside":return 0;case"Outside":return o=e.symbolLocation.x+e.labelOffset.x,this.accumulation.initialClipRect.width-o-a}},t.prototype.getLabelLocation=function(e,t){if(void 0===t&&(t="Outside"),"Pie"!==this.accumulation.type){t="OutsideLeft"===t?"OutsideLeft":e.labelPosition||t;var i={x:e.symbolLocation.x,y:e.symbolLocation.y-e.labelOffset.y};switch(t){case"Inside":i.y=e.region.y+e.region.height/2;break;case"Outside":i.x+=e.labelOffset.x;break;case"OutsideLeft":i.x-=e.labelOffset.x}return i}return X(e.midAngle,this.isVariousRadius()?ge(e.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius,this.center)},t.prototype.getConnectorStartPoint=function(e,t){var i;return!this.isCircular()&&e.region.x>e.labelRegion.x&&(i="OutsideLeft"),this.isCircular()?X(e.midAngle,(this.isVariousRadius()?ge(e.sliceRadius,this.accumulation.pieSeriesModule.seriesRadius):this.radius)-t.width,this.center):this.getLabelLocation(e,i)},t.prototype.findAreaRect=function(){this.areaRect=new sf.svgbase.Rect(0,0,this.accumulation.availableSize.width,this.accumulation.availableSize.height);var e=this.accumulation.margin;G(this.areaRect,new Le(e.left,e.right,e.top,e.bottom))},t.prototype.renderDataLabel=function(e,t,i,o,n,s,a){var r=this.accumulation.element.id+"_datalabel_Series_"+n+"_",l=this.accumulation.renderer.createGroup({id:r+"g_"+e.index});e.label=e.originalText||e.y.toString();var h={width:t.border.width,color:t.border.color},d=sf.base.extend({},sf.base.getValue("properties",t.font),null,!0),c={cancel:!1,name:"textRender",series:this.accumulation.visibleSeries[0],point:e,text:e.label,border:h,color:t.fill,template:t.template,font:d};this.accumulation.trigger("textRender",c),e.argsData=c;var p=null!==c.template;e.labelVisible=!c.cancel,e.text=e.label=c.text,Number(e.label)&&(e.label=this.accumulation.intl.formatNumber(+e.label,{useGrouping:this.accumulation.useGroupingSeparator})),this.marginValue=c.border.width?5+c.border.width:1;var u,g=sf.base.createElement("div",{id:this.accumulation.element.id+"_Series_0_DataLabel_"+e.index,styles:"position: absolute;background-color:"+c.color+";"+(u=t.font,"font-size:"+u.size+"; font-style:"+u.fontStyle+"; font-weight:"+u.fontWeight+"; font-family:"+u.fontFamily+";opacity:"+u.opacity+"; color:"+u.color+";;border:")+c.border.width+"px solid "+c.border.color+";"});this.calculateLabelSize(p,g,e,o,c,l,r,t,a)},t.prototype.calculateLabelSize=function(e,t,i,o,n,s,a,r,l,h,d){var c=e?d?{width:h.width,height:h.height}:this.getTemplateSize(t,i,n,l,e,o,s,a,r):sf.svgbase.measureText(i.label,r.font);c.height+=4,c.width+=4,i.textSize=c,i.templateElement=t,this.getDataLabelPosition(i,r,c,o),i.labelRegion&&this.correctLabelRegion(i.labelRegion,i.textSize)},t.prototype.drawDataLabels=function(e,t,i,o,n){var s,a,r=e.leftSidePoints.concat(e.rightSidePoints);r.sort((function(e,t){return e.index-t.index})),"Pie"===e.type&&this.accumulation.enableSmartLabels&&this.extendedLabelsCalculation();for(var l=0,h=r;l<h.length;l++){var d=h[l];if(!sf.base.isNullOrUndefined(d.argsData)&&!sf.base.isNullOrUndefined(d.y)){this.finalizeDatalabels(d,r,t);var c=this.accumulation.element.id+"_datalabel_Series_0_",p=this.accumulation.renderer.createGroup({id:c+"g_"+d.index}),u=void 0,g=void 0;if(d.visible&&d.labelVisible){if(s=a=t.angle,d.argsData.template)this.setTemplateStyle(d.templateElement,d,o,t.font.color,d.color,n);else{u=new Ce(d.labelRegion.x+this.marginValue,d.labelRegion.y+3*d.textSize.height/4+this.marginValue);var f=(g=oe(c+"shape_"+d.index))?new Ce(+g.getAttribute("x"),+g.getAttribute("y")):null;he(!1,p,this.accumulation.renderer.drawRectangle(new we(c+"shape_"+d.index,d.argsData.color,d.argsData.border,1,d.labelRegion,t.rx,t.ry)),n,!0,"x","y",f,null,!1,!1,null,this.accumulation.duration);var b=d.textSize.width,y=d.textSize.height,m=void 0;m=0!==s&&t.enableRotation?"rotate("+(a="Outside"===d.labelPosition?0:d.midAngle>=90&&d.midAngle<=270?d.midAngle+180:d.midAngle)+","+(u.x+b/2)+","+(u.y-y/4)+")":"rotate("+(a=s?s>360?s-360:s<-360?s+360:s:0)+","+(u.x+b/2)+","+u.y+")",d.transform=m,be(this.accumulation.renderer,new sf.svgbase.TextOption(c+"text_"+d.index,u.x,u.y,"start",d.label,m,"auto",a),d.argsData.font,d.argsData.font.color||this.getSaturatedColor(d,d.argsData.color),p,!1,n,!0,!1,this.accumulation.duration),g=null}if(this.accumulation.accumulationLegendModule&&this.accumulation.legendSettings.visible&&("Outside"===t.position||this.accumulation.enableSmartLabels)&&this.accumulation.visibleSeries[0].findMaxBounds(this.accumulation.visibleSeries[0].labelBound,d.labelRegion),"Outside"===d.labelPosition){var v=oe(c+"connector_"+d.index),x=v?v.getAttribute("d"):"";he(!1,p,this.accumulation.renderer.drawPath(new sf.svgbase.PathOption(c+"connector_"+d.index,"transparent",t.connectorStyle.width,t.connectorStyle.color||d.color,1,t.connectorStyle.dashArray,this.getConnectorPath(sf.base.extend({},d.labelRegion,null,!0),d,t,d.labelAngle))),n,!0,null,null,null,x,!1,!1,null,this.accumulation.duration)}he(!1,i,p,n)}}}},t.prototype.finalizeDatalabels=function(e,t,i){if((this.isOverlapping(e,t)||this.titleRect&&e.labelRegion&&de(e.labelRegion,this.titleRect))&&this.isCircular()&&"Outside"===e.labelPosition&&this.setPointVisibileFalse(e),this.accumulation.accumulationLegendModule&&this.accumulation.legendSettings.visible&&e.labelVisible&&e.labelRegion){var o=this.accumulation.accumulationLegendModule.legendBounds,n=this.accumulation.legendSettings.border.width/2;this.textTrimming(e,new sf.svgbase.Rect(o.x-n,o.y-n,o.width+2*n,o.height+2*n),i.font,this.accumulation.accumulationLegendModule.position)}if(e.labelVisible&&e.labelRegion){var s=this.isCircular()?e.labelRegion.x>=this.center.x?"InsideRight":"InsideLeft":e.labelRegion.x>=e.region.x?"InsideRight":"InsideLeft";this.textTrimming(e,this.areaRect,i.font,s)}e.labelVisible&&e.labelRegion&&(e.labelRegion.y+e.labelRegion.height>this.areaRect.y+this.areaRect.height||e.labelRegion.y<this.areaRect.y||e.labelRegion.x<this.areaRect.x||e.labelRegion.x+e.labelRegion.width>this.areaRect.x+this.areaRect.width)&&this.setPointVisibileFalse(e)},t.prototype.getTemplateSize=function(e,t,i,o,n,s,a,r,l){var h=re(e=ae(e,t.index,i.template,this.accumulation,t,this.accumulation.visibleSeries[0],this.accumulation.element.id+"_DataLabel",0,i,n,s,a,r,l,o),o);return{width:h.width,height:h.height}},t.prototype.setTemplateStyle=function(e,t,i,o,n,s){if(e.style.left=t.labelRegion.x+"px",e.style.top=t.labelRegion.y+"px",e.style.color=o||this.getSaturatedColor(t,n),this.accumulation.isBlazor){var a=this.isCircular()?t.labelRegion.x>=this.center.x?"InsideRight":"InsideLeft":t.labelRegion.x>=t.region.x?"InsideRight":"InsideLeft";e.style.transform="InsideRight"===a?"translate(0%, -50%)":"translate(-100%, -50%)"}e.childElementCount&&(he(!1,i,e,s,!0,"left","top"),this.doTemplateAnimation(this.accumulation,e))},t.prototype.getSaturatedColor=function(e,t){var i;i="transparent"===(i=this.marginValue>=1?"transparent"===t?this.getLabelBackground(e):t:this.getLabelBackground(e))?window.getComputedStyle(document.body,null).backgroundColor:i;var o,n,s=(o=pe(i),(n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o))?new Ae(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)):new Ae(255,255,255));return Math.round((299*s.r+587*s.g+114*s.b)/1e3)>=128?"black":"white"},t.prototype.doTemplateAnimation=function(e,t){var i=e.visibleSeries[0],o=i.animation.delay+i.animation.duration;i.animation.enable&&e.animateSeries&&(t.style.visibility="hidden",te(t,o,200,"ZoomIn"))},t.prototype.getLabelBackground=function(e){return"Outside"===e.labelPosition?this.accumulation.background||this.accumulation.themeStyle.background:e.color},t.prototype.correctLabelRegion=function(e,t,i){void 0===i&&(i=4),e.height-=i,e.width-=i,e.x+=i/2,e.y+=i/2,t.height-=i,t.width-=i},t.prototype.getModuleName=function(){return"AccumulationDataLabel"},t.prototype.destroy=function(){},t.prototype.extendedLabelsCalculation=function(){var e=this,t=this.accumulation.series[0];t.rightSidePoints.forEach((function(t,i,o){t.initialLabelRegion=t.labelRegion,t.isLabelUpdated=0,e.skipPoints(t,o,i)})),t.leftSidePoints.forEach((function(t,i,o){t.initialLabelRegion=t.labelRegion,t.isLabelUpdated=0,e.skipPoints(t,o,i)})),this.arrangeLeftSidePoints(t),this.isIncreaseAngle=!1,this.arrangeRightSidePoints(t)},t.prototype.arrangeRightSidePoints=function(e){var t,i,o,n,s=e.rightSidePoints.filter((function(e){return e.labelVisible&&"Outside"===e.labelPosition}));this.rightSideRenderingPoints=s;var a,r=s[s.length-1];r&&r.labelAngle>90&&r.labelAngle<270&&(this.isIncreaseAngle=!0,this.changeLabelAngle(r,89));for(var l=s.length-1;l>=0;l--)if(n=s[l],a=s[l+1],this.isOverlapWithNext(n,s,l)&&n.labelVisible||!(n.labelAngle<=90||n.labelAngle>=270))if(o=r.labelAngle+10,i=!0,t?this.isIncreaseAngle=!1:o>90&&o<270&&a.isLabelUpdated&&(this.isIncreaseAngle=!0),this.isIncreaseAngle)for(h=l+1;h>0;h--)this.decreaseAngle(s[h],s[h-1],e,!0);else for(var h=l+1;h<s.length;h++)this.increaseAngle(s[h-1],s[h],e,!0);else i&&a&&!a.isLabelUpdated&&(t=!0)},t.prototype.arrangeLeftSidePoints=function(e){var t,i,o,n,s=this,a=e.leftSidePoints.filter((function(e){return e.labelVisible&&"Outside"===e.labelPosition}));this.leftSideRenderingPoints=a;for(var r=0;r<a.length;r++)if(i=a[r],t=a[r-1],this.isOverlapWithPrevious(i,a,r)&&i.labelVisible||!(i.labelAngle<270))if(o=!0,n&&(this.isIncreaseAngle=!1),this.isIncreaseAngle)for(l=r;l<a.length;l++)this.increaseAngle(a[l-1],a[l],e,!1);else for(var l=r;l>0;l--)this.decreaseAngle(a[l],a[l-1],e,!1),a.filter((function(e,t){e.isLabelUpdated&&a[t].labelAngle-10<100&&(s.isIncreaseAngle=!0)}));else o&&t&&t.isLabelUpdated&&(n=!0)},t.prototype.decreaseAngle=function(e,t,i,o){if(sf.base.isNullOrUndefined(e)||sf.base.isNullOrUndefined(t))return null;var n=1;if(o)for(;de(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&!(t.labelRegion.height+t.labelRegion.y<e.labelRegion.y);){if((s=t.midAngle-n)<0&&(s=360+s),s<=270&&s>=90){s=270,this.isIncreaseAngle=!0;break}this.changeLabelAngle(t,s),n++}else for(e.labelAngle>270&&(this.changeLabelAngle(e,270),t.labelAngle=270);de(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&e.labelRegion.y+e.labelRegion.height>t.labelRegion.y;){var s;if(!((s=t.midAngle-n)<=270&&s>=90)){s=90,this.isIncreaseAngle=!0;break}if(this.changeLabelAngle(t,s),de(e.labelRegion,t.labelRegion)&&!i.leftSidePoints.indexOf(t)&&s-1<90&&s-1>270){this.changeLabelAngle(e,e.labelAngle+1),this.arrangeLeftSidePoints(i);break}n++}},t.prototype.increaseAngle=function(e,t,i,o){if(sf.base.isNullOrUndefined(e)||sf.base.isNullOrUndefined(t))return null;var n=1;if(o)for(;de(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&!(e.labelRegion.y+e.labelRegion.height<t.labelRegion.y);){if((s=t.midAngle+n)<270&&s>90){s=90,this.isIncreaseAngle=!0;break}if(this.changeLabelAngle(t,s),de(e.labelRegion,t.labelRegion)&&s+1>90&&s+1<270&&this.rightSideRenderingPoints.indexOf(t)===this.rightSideRenderingPoints.length-1){this.changeLabelAngle(e,e.labelAngle-1),t.labelRegion=t.initialLabelRegion,this.arrangeRightSidePoints(i);break}n++}else for(;de(e.labelRegion,t.labelRegion)||!this.isVariousRadius()&&e.labelRegion.y<t.labelRegion.y+t.labelRegion.height;){var s;if(!((s=t.midAngle+n)<270&&s>90)){s=270,this.isIncreaseAngle=!1;break}this.changeLabelAngle(t,s),n++}},t.prototype.changeLabelAngle=function(e,t){var i,o=this.accumulation.series[0].dataLabel;this.isVariousRadius()&&(i=this.accumulation.pieSeriesModule.getLabelRadius(this.accumulation.visibleSeries[0],e));var n="Outside"===e.labelPosition&&this.accumulation.enableSmartLabels&&"Inside"===o.position?this.radius+ge(o.connectorStyle.length||"4%",this.accumulation.pieSeriesModule.size/2):this.isVariousRadius()?i:this.accumulation.pieSeriesModule.labelRadius+10,s=this.isVariousRadius()?i:n;this.getLabelRegion(e,"Outside",e.textSize,s,this.marginValue,t),e.isLabelUpdated=1,e.labelAngle=t},t.prototype.isOverlapWithPrevious=function(e,t,i){for(var o=0;o<i;o++)if(o!==t.indexOf(e)&&t[o].visible&&t[o].labelVisible&&t[o].labelRegion&&e.labelRegion&&e.labelVisible&&de(e.labelRegion,t[o].labelRegion))return!0;return!1},t.prototype.isOverlapWithNext=function(e,t,i){for(var o=i;o<t.length;o++)if(o!==t.indexOf(e)&&t[o].visible&&t[o].labelVisible&&t[o].labelRegion&&e.labelRegion&&e.labelVisible&&de(e.labelRegion,t[o].labelRegion))return!0;return!1},t.prototype.skipPoints=function(e,t,i){if(i>0&&(e.midAngle<285&&e.midAngle>255||e.midAngle<105&&e.midAngle>75)){var o=t[i-1],n=e.endAngle%360-e.startAngle%360;(r=o.endAngle%360-o.startAngle%360)<=n&&n<5&&o.labelVisible&&this.setPointVisibleTrue(e)}else if(i>1&&(e.midAngle<300&&e.midAngle>240||e.midAngle<120&&e.midAngle>60)){var s=t[i-1],a=t[i-2],r=(n=e.endAngle%360-e.startAngle%360,s.endAngle%360-s.startAngle%360),l=a.endAngle%360-a.startAngle%360;n<3&&r<3&&l<3&&s.labelVisible&&e.labelVisible&&this.setPointVisibleTrue(e)}},t.prototype.getPerpendicularDistance=function(e,t){var i=10+10*Math.sin(t.midAngle*Math.PI/360);return t.midAngle>270&&t.midAngle<360?new Ce(e.x+i*Math.cos((360-t.midAngle)*Math.PI/180),e.y-i*Math.sin((360-t.midAngle)*Math.PI/180)):t.midAngle>0&&t.midAngle<90?new Ce(e.x+i*Math.cos(t.midAngle*Math.PI/180),e.y+i*Math.sin(t.midAngle*Math.PI/180)):t.midAngle>0&&t.midAngle<90?new Ce(e.x-i*Math.cos((t.midAngle-90)*Math.PI/180),e.y+i*Math.sin((t.midAngle-90)*Math.PI/180)):new Ce(e.x-i*Math.cos((t.midAngle-180)*Math.PI/180),e.y-i*Math.sin((t.midAngle-180)*Math.PI/180))},t}(st),Rt=function(){function e(e){this.currentPoints=[],this.previousPoints=[],this.insideRegion=!1,this.chart=e,this.lierIndex=0}return e.prototype.getData=function(){for(var e,t,i,o,n=this.chart,s=null,a=null,r=n.visibleSeries.length-1;r>=0;r--){if(e="Scatter"===(a=n.visibleSeries[r]).type||"Scatter"===a.drawType||a.marker.visible?(a.marker.height+5)/2:0,t="Scatter"===a.type||"Scatter"===a.drawType||a.marker.visible?(a.marker.width+5)/2:0,i=n.mouseX,o=n.mouseY,a.dragSettings.enable&&a.isRectSeries)if("Bar"===a.type&&n.isTransposed||!n.isTransposed&&"Bar"!==a.type){var l=a.marker.height/2;o=a.yAxis.isInversed?o-l:o+l}else{var h=a.marker.width/2;i=a.yAxis.isInversed?i+h:i-h}if(a.visible&&q(i,o,a.clipRect,e,t)&&(s=this.getRectPoint(a,a.clipRect,i,o)),s)return new Me(s,a)}return new Me(s,a)},e.prototype.isSelected=function(e){return(e.selectionMode.indexOf("Drag")>-1||e.selectionMode.indexOf("Lasso")>-1)&&e.selectionModule&&null!==e.selectionModule.rectPoints},e.prototype.getRectPoint=function(e,t,i,o){var n,s,a,r,l,h,d=0;if(this.chart.isScrolling)return null;for(var c=0,p=e.points;c<p.length;c++){var u=p[c];if(u.regionData||u.regions&&u.regions.length){if(u.regionData&&"PolarRadar"===this.chart.chartAreaType&&e.drawType.indexOf("Column")>-1&&(n=i-(e.clipRect.width/2+e.clipRect.x),s=o-(e.clipRect.height/2+e.clipRect.y),d=2*Math.PI*(u.regionData.currentXPosition<0?1+u.regionData.currentXPosition:u.regionData.currentXPosition),a=(a=(Math.atan2(s,n)+.5*Math.PI-d)%(2*Math.PI))<0?2*Math.PI+a:a,a+=2*Math.PI*e.chart.primaryXAxis.startAngle,r=u.regionData.startAngle,r=(r-=d)<0?2*Math.PI+r:r,l=u.regionData.endAngle,l=(l-=d)<0?2*Math.PI+l:l,h=Math.sqrt(Math.pow(Math.abs(n),2)+Math.pow(Math.abs(s),2)),a>=r&&a<=l&&(h>=u.regionData.innerRadius&&h<=u.regionData.radius||h<=u.regionData.innerRadius&&h>=u.regionData.radius)&&h<=e.chart.radius))return u;if((e.dragSettings.enable&&e.isRectSeries||e.isRectSeries&&e.marker.visible)&&this.isPointInThresholdRegion(i,o,u,t,e))return this.insideRegion=!0,u;if(!this.insideRegion&&this.checkRegionContainsPoint(u.regions,t,i,o))return u;if(this.insideRegion&&this.checkRegionContainsPoint(u.regions,t,i,o))return u}}return null},e.prototype.checkRegionContainsPoint=function(e,t,i,o){var n=this;return e.some((function(e,s){return n.lierIndex=s,q(i,o,new sf.svgbase.Rect(("Cartesian"===n.chart.chartAreaType?t.x:0)+e.x,("Cartesian"===n.chart.chartAreaType?t.y:0)+e.y,e.width,e.height))}))},e.prototype.isPointInThresholdRegion=function(e,t,i,o,n){var s,a=this,r="Bar"===n.type,l=n.yAxis.isInversed,h=n.chart.isTransposed,d=0,c=0,p=s=20;return l&&h?r?(d=i.regions[0].height-10,s=i.regions[0].width):(c=-10,p=i.regions[0].height):l||i.yValue<0?r?(c=-10,p=i.regions[0].height):(d=i.regions[0].height-10,s=i.regions[0].width):h?r?(d=-10,s=i.regions[0].width):(c=i.regions[0].width-10,p=i.regions[0].height):r?(c=i.regions[0].width-10,p=i.regions[0].height):(d=-10,s=i.regions[0].width),i.regions.some((function(i){return q(e,t,new sf.svgbase.Rect(("Cartesian"===a.chart.chartAreaType?o.x:0)+i.x+c,("Cartesian"===a.chart.chartAreaType?o.y:0)+i.y+d,s,p))}))},e.prototype.getClosest=function(e,t,i){var o,n,s=i||e.xData;if(t>=e.xMin-.5&&t<=e.xMax+.5)for(var a=0;a<s.length;a++)n=s[a],(null==o||Math.abs(n-t)<Math.abs(o-t))&&(o=n);return-1!==e.xData.indexOf(o)?o:null},e.prototype.getClosestX=function(e,t,i){var o,n=t.clipRect;o=e.requireInvertedAxis?function(e,t,i){return(i.isInversed?e/t:1-e/t)*i.visibleRange.delta+i.visibleRange.min}(e.mouseY-n.y,n.height,t.xAxis):function(e,t,i){return(i.isInversed?1-e/t:e/t)*i.visibleRange.delta+i.visibleRange.min}(e.mouseX-n.x,n.width,t.xAxis);for(var s=this.getClosest(t,o,i),a=0,r=t.points;a<r.length;a++){var l=r[a];if(s===l.xValue&&l.visible)return new Me(l,t)}return null},e.prototype.mergeXvalues=function(e){for(var t=[],i=0;i<e.length;i++)t=t.concat(e[i].xData);return t.filter((function(e,i){return i===t.indexOf(e)}))},e}(),Ct=(Ze=function(e,t){return(Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Ze(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),Lt=function(e){function t(t){var i=e.call(this,t)||this;return i.element=i.chart.element,i.textStyle=t.tooltip.textStyle,i.control=t,i.template=t.tooltip.template,i}return Ct(t,e),t.prototype.getElement=function(e){return document.getElementById(e)},t.prototype.getTooltipElement=function(e){this.inverted=this.chart.requireInvertedAxis,this.header=null===this.control.tooltip.header?this.control.tooltip.shared?"<b>${point.x}</b>":"<b>${series.name}</b>":this.control.tooltip.header,this.formattedText=[];var t=document.getElementById(this.chart.element.id+"_tooltip"),i=this.chart.element.id.indexOf("stockChart")>-1;return!e&&!t||i?this.createElement():null},t.prototype.createElement=function(){var e=document.createElement("div");return e.id=this.element.id+"_tooltip",e.className="ejSVGTooltip",e.style.pointerEvents="none",e.style.position="absolute",e.style.zIndex="1",e},t.prototype.pushData=function(e,t,i,o){return!!e.series.enableTooltip&&(this.currentPoints.push(e),this.stopAnimation(),i&&!document.getElementById(i.id)&&(this.chart.stockChart?document.getElementById(this.chart.stockChart.element.id+"_Secondary_Element").appendChild(i):document.getElementById(this.element.id+"_Secondary_Element").appendChild(i)),!0)},t.prototype.removeHighlight=function(){for(var e,t=0,i=this.previousPoints.length;t<i;t++)(e=this.previousPoints[t]).series.isRectSeries?e.series.visible&&this.highlightPoint(e.series,e.point.index,!1):e.series.marker.visible||"Scatter"===e.series.type||"Bubble"===e.series.type||(this.previousPoints.shift(),i-=1)},t.prototype.highlightPoint=function(e,t,i){var o=this.getElement(this.element.id+"_Series_"+e.index+"_Point_"+t),n=this.control.accumulationSelectionModule,s=!!(n&&n.selectedDataIndexes.length>0);o&&(!s||s&&o.getAttribute("class")&&-1===o.getAttribute("class").indexOf("_ej2_chart_selection_series_")?o.setAttribute("opacity",(i?e.opacity/2:e.opacity).toString()):o.setAttribute("opacity",e.opacity.toString()))},t.prototype.highlightPoints=function(){for(var e=0,t=this.currentPoints;e<t.length;e++){var i=t[e];i.series.isRectSeries&&"Series"===i.series.category&&this.highlightPoint(i.series,i.point.index,!0)}},t.prototype.createTooltip=function(e,t,i,o,n,s,a,r,l,h,d){void 0===l&&(l=null),void 0===h&&(h=null);var c=this.currentPoints[0].series,p=e.tooltipModule||e.accumulationTooltipModule;if(p&&null!==i){var u=c.isRectSeries&&"Waterfall"!==c.type&&n&&n.y<0,g=this.chart.requireInvertedAxis&&c.isRectSeries,f=null;if(this.text.length<=1){var b=void 0,y=void 0,m=d||this.template;if(m&&"chart"===e.getModuleName()&&"#"!==m[0]&&"string"==typeof m){var v=document.createElement("div");v.id="testing_template",v.className="ejSVGTooltip",v.style.pointerEvents="none",v.style.position="absolute",v.style.zIndex="1",document.getElementById(this.chart.element.id+"_Secondary_Element").appendChild(v);var x=m.replaceAll("${x}",n.x).replaceAll("${y}",n.y);v.innerHTML=x,b=new sf.svgbase.Size(v.firstElementChild.offsetWidth,v.firstElementChild.offsetHeight),y=new sf.svgbase.Size(0,0),v.remove()}else b=sf.svgbase.measureText(this.text[0],e.tooltip.textStyle),y=""!==this.header&&"<b></b>"!==this.header?sf.svgbase.measureText(this.header,this.textStyle):new sf.svgbase.Size(0,0);b.width=Math.max(b.width,y.width)+(s.length>0?47:0);var P=32+(y.height>0?20:0);b.height=b.height+y.height+P,f=this.getCurrentPosition(u,g),u="Left"===(f=this.getPositionBySize(b,new sf.svgbase.Rect(0,0,r.width,r.height),i,f))||"Bottom"===f,g="Left"===f||"Right"===f}t?this.svgTooltip=new sf.svgbase.Tooltip({opacity:e.tooltip.opacity,header:this.headerText,content:this.text,fill:e.tooltip.fill,border:e.tooltip.border,enableAnimation:e.tooltip.enableAnimation,location:i,shared:e.tooltip.shared,shapes:s,clipBounds:"PolarRadar"===this.chart.chartAreaType?new Ce(0,0):o,areaBounds:r,palette:this.findPalette(),template:d||this.template,data:h,theme:e.theme,offset:a,textStyle:e.tooltip.textStyle,isNegative:u,inverted:g,arrowPadding:this.text.length>1||this.chart.stockChart?0:12,availableSize:e.availableSize,duration:this.chart.tooltip.duration,isCanvas:this.chart.enableCanvas,isTextWrap:e.tooltip.enableTextWrap&&"chart"===e.getModuleName(),blazorTemplate:{name:"Template",parent:this.chart.tooltip},controlInstance:this.chart,tooltipPlacement:f,tooltipRender:function(){p.removeHighlight(),p.highlightPoints(),p.updatePreviousPoint(l)},animationComplete:function(e){e.tooltip.fadeOuted&&p.fadeOut(p.previousPoints)}},"#"+this.element.id+"_tooltip"):this.svgTooltip&&(this.svgTooltip.location=i,this.svgTooltip.content=this.text,this.svgTooltip.header=this.headerText,this.svgTooltip.offset=a,this.svgTooltip.palette=this.findPalette(),this.svgTooltip.shapes=s,this.svgTooltip.data=h,this.svgTooltip.template=this.template,this.svgTooltip.textStyle=e.tooltip.textStyle,this.svgTooltip.isNegative=u,this.svgTooltip.inverted=g,this.svgTooltip.clipBounds="PolarRadar"===this.chart.chartAreaType?new Ce(0,0):o,this.svgTooltip.arrowPadding=this.text.length>1||this.chart.stockChart?0:12,this.svgTooltip.tooltipPlacement=f,this.svgTooltip.dataBind()),this.chart.isReact&&this.chart.renderReactTemplates()}},t.prototype.getPositionBySize=function(e,t,i,o){var n=this.isTooltipFitPosition("Top",new sf.svgbase.Rect(0,0,t.width,t.height),i,e),s=this.isTooltipFitPosition("Bottom",new sf.svgbase.Rect(0,0,t.width,t.height),i,e),a=this.isTooltipFitPosition("Right",new sf.svgbase.Rect(0,0,t.width,t.height),i,e),r=this.isTooltipFitPosition("Left",new sf.svgbase.Rect(0,0,t.width,t.height),i,e);if(!(n||s||a||r)){var l=[i.x-t.x,t.x+t.width-i.x,i.y-t.y,t.y+t.height-i.y],h=l.indexOf(Math.max.apply(this,l));return o=0===h?"Left":1===h?"Right":2===h?"Top":"Bottom"}return"Top"===o?n?"Top":s?"Bottom":a?"Right":"Left":"Bottom"===o?s?"Bottom":n?"Top":a?"Right":"Left":"Right"===o?a?"Right":r?"Left":n?"Top":"Bottom":r?"Left":a?"Right":n?"Top":"Bottom"},t.prototype.isTooltipFitPosition=function(e,t,i,o){var n=new Ce(0,0),s=new Ce(0,0);switch(e){case"Top":n.x=i.x-o.width/2,n.y=i.y-o.height,s.x=i.x+o.width/2,s.y=i.y;break;case"Bottom":n.x=i.x-o.width/2,n.y=i.y,s.x=i.x+o.width/2,s.y=i.y+o.height;break;case"Right":n.x=i.x,n.y=i.y-o.height/2,s.x=i.x+o.width,s.y=i.y+o.height/2;break;case"Left":n.x=i.x-o.width,n.y=i.y-o.height/2,s.x=i.x,s.y=i.y+o.height/2}return q(n.x,n.y,t)&&q(s.x,s.y,t)},t.prototype.getCurrentPosition=function(e,t){return t?e?"Left":"Right":e?"Bottom":"Top"},t.prototype.findPalette=function(){for(var e=[],t=0,i=this.currentPoints;t<i.length;t++){var o=i[t];e.push(this.findColor(o,o.series))}return e},t.prototype.findColor=function(e,t){return!t.isRectSeries||"Candle"!==t.type&&"Hilo"!==t.type&&"HiloOpenClose"!==t.type?(e.point.color&&"#ffffff"!==e.point.color?e.point.color:e.point.interior)||t.marker.fill||t.interior:e.point.color},t.prototype.updatePreviousPoint=function(e){e&&(this.currentPoints=this.currentPoints.concat(e)),this.previousPoints=sf.base.extend([],this.currentPoints,null,!0)},t.prototype.fadeOut=function(e){var t=this.chart.enableCanvas?this.getElement(this.element.id+"_tooltip_group"):this.getElement(this.element.id+"_tooltip_svg");t&&parseInt(t.getAttribute("opacity"),10)>0||(this.valueX=null,this.valueY=null,this.currentPoints=[],this.removeHighlight(),this.removeHighlightedMarker(e),this.svgTooltip=null,this.control.trigger("animationComplete",{}))},t.prototype.removeHighlightedMarker=function(e){if(this.chart.markerRender){for(var t=0,i=e;t<i.length;t++){var o=i[t];j(this.element.id+"_Series_"+o.series.index+"_Point_"+o.point.index+"_Trackball")}this.chart.markerRender.removeHighlightedMarker()}this.previousPoints=[]},t.prototype.removeText=function(){this.textElements=[];var e=this.getElement(this.element.id+"_tooltip_group");if(e&&e.childNodes.length>0)for(;e.lastChild&&1!==e.childNodes.length;)e.removeChild(e.lastChild)},t.prototype.stopAnimation=function(){var e;e=this.toolTipInterval,window.clearInterval(e)},t.prototype.removeTooltip=function(e){var t=this,i=this.getElement(this.element.id+"_tooltip"),o=i?this.getElement(i.id+"parent_template"):null,n=o&&"<div></div>"!==o.innerHTML;this.stopAnimation(),this.chart.isReact&&n&&this.chart.clearTemplate([o.id],[0]),i&&this.previousPoints.length>0&&(this.toolTipInterval=+setTimeout((function(){t.svgTooltip&&t.svgTooltip.fadeOut()}),e))},t}(Rt),At=(qe=function(e,t){return(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}qe(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),Mt=function(e){function t(t){var i=e.call(this,t)||this;return i.accumulation=t,i.addEventListener(),i.template=i.accumulation.tooltip.template,i}return At(t,e),t.prototype.addEventListener=function(){this.accumulation.isDestroyed||(this.accumulation.on(sf.base.Browser.isPointer?"pointerleave":"mouseleave",this.mouseLeaveHandler,this),this.accumulation.on(sf.base.Browser.touchMoveEvent,this.mouseMoveHandler,this),this.accumulation.on(sf.base.Browser.touchEndEvent,this.mouseUpHandler,this))},t.prototype.mouseLeaveHandler=function(e){this.removeTooltip(this.accumulation.tooltip.fadeOutDuration)},t.prototype.mouseUpHandler=function(e){var t=this.accumulation;t.tooltip.enable&&t.isTouch&&q(t.mouseX,t.mouseY,t.initialClipRect)&&(this.tooltip(e),this.removeTooltip(2e3))},t.prototype.mouseMoveHandler=function(e){var t=this.accumulation;t.tooltip.enable&&q(t.mouseX,t.mouseY,t.initialClipRect)&&this.tooltip(e)},t.prototype.tooltip=function(e){var t=this.getElement(this.element.id+"_tooltip_svg"),i=t&&parseInt(t.getAttribute("opacity"),10)>0,o=this.getTooltipElement(i);this.renderSeriesTooltip(e,this.accumulation,!i,o)},t.prototype.renderSeriesTooltip=function(e,t,i,o){var n=this.getPieData(e,t,t.mouseX,t.mouseY);t.initialClipRect;if(this.currentPoints=[],!n.point||this.previousPoints[0]&&this.previousPoints[0].point===n.point)!n.point&&this.isRemove&&(this.removeTooltip(this.accumulation.tooltip.fadeOutDuration),this.isRemove=!1);else{if(this.previousPoints[0]&&n.point.index===this.previousPoints[0].point.index&&n.series.index===this.previousPoints[0].series.index)return null;this.pushData(n,i,o,!1)&&this.triggerTooltipRender(n,i,this.getTooltipText(n,t.tooltip),this.findHeader(n))}},t.prototype.triggerTooltipRender=function(e,t,i,o,n){var s=this;void 0===n&&(n=!0);var a={cancel:!1,name:"tooltipRender",text:i,point:e.point,textStyle:this.textStyle,series:this.accumulation.isBlazor?{}:e.series,headerText:o,data:{pointX:e.point.x,pointY:e.point.y,seriesIndex:e.series.index,pointIndex:e.point.index,pointText:e.point.text,seriesName:e.series.name}},r=function(i){i.cancel?(s.removeHighlight(),sf.base.remove(s.getElement(s.element.id+"_tooltip"))):(s.formattedText=s.formattedText.concat(i.text),s.text=s.formattedText,s.headerText=i.headerText,s.createTooltip(s.chart,t,e.point.symbolLocation,e.series.clipRect,e.point,["Circle"],0,s.chart.initialClipRect,null,e.point,s.template?i.template:"")),s.isRemove=!0};r.bind(this,e),this.chart.trigger("tooltipRender",a,r)},t.prototype.getPieData=function(e,t,i,o){var n=Z(e.target.id,!0);if(!isNaN(n.series)){var s=n.series,a=n.point;if(!(sf.base.isNullOrUndefined(s)||isNaN(s)||sf.base.isNullOrUndefined(a)||isNaN(a))){var r=this.getSeriesFromIndex(s,t.visibleSeries);if(r.enableTooltip)return new Te(r.points[a],r)}}return new Te(null,null)},t.prototype.getSeriesFromIndex=function(e,t){return t[0]},t.prototype.getTooltipText=function(e,t){var i=e.series,o=this.accumulation.useGroupingSeparator?"${point.x} : <b>${point.separatorY}</b>":"${point.x} : <b>${point.y}</b>";return o=t.format?t.format:o,this.parseTemplate(e.point,i,o)},t.prototype.findHeader=function(e){return""===this.header?"":(this.header=this.parseTemplate(e.point,e.series,this.header),""!==this.header.replace(/<b>/g,"").replace(/<\/b>/g,"").trim()?this.header:"")},t.prototype.parseTemplate=function(e,t,i){for(var o,n,s=0,a=Object.keys(e);s<a.length;s++){var r=a[s];o=new RegExp("${point."+r+"}","gm"),i=i.replace(o.source,e[r])}for(var l=0,h=Object.keys(Object.getPrototypeOf(t));l<h.length;l++){r=h[l];o=new RegExp("${series."+r+"}","gm"),n=t[r],i=i.replace(o.source,n)}return i},t.prototype.getModuleName=function(){return"AccumulationTooltip"},t.prototype.destroy=function(e){},t}(Lt),Tt=function(){function e(e){this.control=e}return e.prototype.seriesStyles=function(){var e,t,i=document.getElementById(this.styleId),o="{}",n=this.control.selectionPattern,s=this.control.highlightPattern;if(sf.base.isNullOrUndefined(i)||"None"!==n||"None"!==s){(i=document.createElement("style")).setAttribute("id",this.styleId);for(var a=0,r=this.control.visibleSeries;a<r.length;a++){var l=r[a],h=this.control.visibleSeries[l.index]||this.control.visibleSeries[l.index];if(!(sf.base.isNullOrUndefined(n)&&sf.base.isNullOrUndefined(s)||"None"===n&&"None"===s)){var d=this.styleId.indexOf("highlight")>0?s:n;if("Pie"===h.type||"Funnel"===h.type||"Pyramid"===h.type)for(var c=0;c<h.points.length;c++)t=h.opacity,o="{ fill:"+this.pattern(this.control,h.points[c].color,l.index,d,t)+"}";else h.type&&(t=h.opacity,o="{ fill:"+this.pattern(this.control,h.interior,l.index,d,t)+"}")}e=l.selectionStyle||this.styleId+"_series_"+l.index+",."+this.styleId+"_series_"+l.index+"> *",o=o.indexOf("None")>-1?"{}":o,i.innerHTML+=l.selectionStyle?"":"."+e+o}i.innerHTML+="."+this.unselected+" { opacity:0.3;} ",document.body.appendChild(i)}},e.prototype.pattern=function(e,t,i,o,n){var s=e.svgObject,a=[],r={id:e.element.id+"_"+o+"_Selection_"+i,patternUnits:"userSpaceOnUse"};switch(o){case"Dots":r.height=r.width=6,r.width=6,a[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:"#ffffff",opacity:n,name:"rect"},a[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:t,name:"circle"};break;case"Pacman":r.height="18.384",r.width="17.917",a[0]={name:"rect",x:0,y:0,width:17.917,height:18.384,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"path",d:"M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z","stroke-width":1,stroke:t,fill:t};break;case"Chessboard":r.height=r.width=10,a[0]={x:0,y:0,width:10,height:10,fill:"#ffffff",opacity:n,name:"rect"},a[1]={x:0,y:0,width:5,height:5,fill:t,opacity:n,name:"rect"},a[2]={x:5,y:5,width:5,height:5,fill:t,opacity:n,name:"rect"};break;case"Crosshatch":r.height=r.width="8",a[0]={x:0,y:0,width:8,height:8,transform:"translate(0,0)",fill:"#ffffff",opacity:n,name:"rect"},a[1]={d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":1,stroke:t,name:"path"};break;case"DiagonalForward":r.height=r.width=6,a[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:n,name:"rect"},a[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:t,name:"path"};break;case"DiagonalBackward":r.height=r.width=6,a[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:n,name:"rect"},a[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:t,name:"path"};break;case"Grid":r.height=r.width=6,a[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"path",d:"M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z","stroke-width":1,stroke:t};break;case"Turquoise":r.height=r.width=17,a[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"path",d:"M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[2]={name:"path",d:"M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[3]={name:"path",d:"M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[4]={name:"path",d:"M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[5]={name:"path",d:"M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[6]={name:"path",d:"M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t},a[7]={name:"path",d:"M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:t,fill:t};break;case"Star":r.height=r.width=21,a[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"path",d:"M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z","stroke-width":1,stroke:t,fill:t};break;case"Triangle":r.height=r.width=10,a[0]={name:"rect",x:0,y:0,width:10,height:10,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"path",d:"M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z","stroke-width":1,stroke:t,fill:t};break;case"Circle":r.height=r.width=9,a[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:t};break;case"Tile":r.height=r.width=18,a[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"path",d:"M0,9L0 0 9 0 z","stroke-width":1,stroke:t,fill:t},a[2]={name:"path",d:"M9,9L9 0 18 0 z","stroke-width":1,stroke:t,fill:t},a[3]={name:"path",d:"M0,18L0 9 9 9 z","stroke-width":1,stroke:t,fill:t},a[4]={name:"path",d:"M9,18L9 9 18 9 z","stroke-width":1,stroke:t,fill:t};break;case"HorizontalDash":r.height=r.width=12,a[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"path",d:"M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalDash":r.height=r.width=12,a[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"path",d:"M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Rectangle":r.height=r.width=12,a[0]={name:"rect",width:12,height:12,fill:"#ffffff",opacity:n},a[1]={name:"rect",x:1,y:2,width:4,height:9,fill:t,opacity:n},a[2]={name:"rect",x:7,y:2,width:4,height:9,fill:t,opacity:n};break;case"Box":r.height=r.width=10,a[0]={name:"rect",width:13,height:13,fill:"#ffffff",opacity:n},a[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:t,opacity:n};break;case"HorizontalStripe":r.height=12,r.width=10,a[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"path",d:"M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z","stroke-width":1,stroke:t,fill:t};break;case"VerticalStripe":r.height=10,r.width=12,a[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"path",d:"M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z","stroke-width":1,stroke:t,fill:t};break;case"Bubble":r.height=r.width=20,a[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:"#ffffff",opacity:n},a[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},a[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:t},a[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"}}var l=e.svgRenderer||e.renderer,h=l.createPattern(r,"pattern");return this.loadPattern(e,a,h,l),s.appendChild(h),"url(#"+e.element.id+"_"+o+"_Selection_"+i+")"},e.prototype.loadPattern=function(e,t,i,o){var n;for(n=0;n<t.length;n++){var s=o.createPattern(t[n],t[n].name);i.appendChild(s)}},e.prototype.concatIndexes=function(e,t){return e.concat(t)},e.prototype.checkVisibility=function(e){if(!e)return!1;for(var t=!1,i=[],o=0,n=e;o<n.length;o++){var s=n[o];-1===i.indexOf(s.series)&&i.push(s.series)}for(var a=0,r=i;a<r.length;a++){s=r[a];if(this.control.series[s].visible){t=!0;break}}return t},e.prototype.addSvgClass=function(e,t){var i=e.getAttribute("class")||"";-1===(i+=""!==i?" ":"").indexOf(t)&&e.setAttribute("class",i+t)},e.prototype.removeSvgClass=function(e,t){var i=e.getAttribute("class")||"";i.indexOf(t)>-1&&e.setAttribute("class",i.replace(t,""))},e.prototype.getChildren=function(e){for(var t=[],i=0;i<e.childNodes.length;i++)"defs"!==e.childNodes[i].tagName&&t.push(e.childNodes[i]);return t},e}(),_t=(Je=function(e,t){return(Je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Je(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),Bt=function(e){function t(t){var i=e.call(this,t)||this;return i.renderer=t.renderer,i}return _t(t,e),t.prototype.initPrivateVariables=function(e){this.styleId=e.element.id+"_ej2_chart_selection",this.unselected=e.element.id+"_ej2_deselected",this.selectedDataIndexes=[],this.rectPoints=null},t.prototype.invokeSelection=function(e){this.initPrivateVariables(e),this.series=sf.base.extend({},e.visibleSeries,null,!0),this.seriesStyles(),this.selectDataIndex(this.concatIndexes(e.selectedDataIndexes,this.selectedDataIndexes),e)},t.prototype.generateStyle=function(e){return e.selectionStyle||this.styleId+"_series_"+e.index},t.prototype.findElements=function(e,t,i){return[this.getElementByIndex(i)]},t.prototype.getElementByIndex=function(e){var t=this.control.element.id+"_Series_"+e.series+"_Point_"+e.point;return document.getElementById(t)},t.prototype.calculateSelectedElements=function(e,t){-1!==t.target.id.indexOf(e.element.id+"_")&&(t.target.id.indexOf("_Series_")>-1||t.target.id.indexOf("_datalabel_")>-1)&&this.performSelection(Z(t.target.id),e,t.target)},t.prototype.performSelection=function(e,t,i){switch(i=i.id.indexOf("datalabel")>-1?t.getSeriesElement().childNodes[e.series].childNodes[e.point]:i,t.selectionMode){case"Point":isNaN(e.point)||(this.selection(t,e,[i]),this.blurEffect(t.element.id,t.visibleSeries))}},t.prototype.selection=function(e,t,i){e.isMultiSelect||this.removeMultiSelectEelments(e,this.selectedDataIndexes,t,e.series);var o=i[0]&&(i[0].getAttribute("class")||"");if(i[0]&&o.indexOf(this.getSelectionClass(i[0].id))>-1){if(this.removeStyles(i,t),this.addOrRemoveIndex(this.selectedDataIndexes,t),e.enableBorderOnMouseMove){var n=document.getElementById(i[0].id.split("_")[0]+"PointHover_Border");sf.base.isNullOrUndefined(n)||this.removeSvgClass(n,n.getAttribute("class"))}}else{if(this.applyStyles(i,t),e.enableBorderOnMouseMove){n=document.getElementById(i[0].id.split("_")[0]+"PointHover_Border");sf.base.isNullOrUndefined(n)||this.addSvgClass(n,i[0].getAttribute("class"))}this.addOrRemoveIndex(this.selectedDataIndexes,t,!0)}},t.prototype.redrawSelection=function(e){var t=sf.base.extend([],this.selectedDataIndexes,null,!0);this.removeSelectedElements(e,this.selectedDataIndexes),this.blurEffect(e.element.id,e.visibleSeries),this.selectDataIndex(t,e)},t.prototype.removeSelectedElements=function(e,t){for(var i=0,o=t;i<o.length;i++){var n=o[i];this.removeStyles([this.getElementByIndex(n)],n)}},t.prototype.legendSelection=function(e,t,i){var o=e.getSeriesElement().childNodes[t].childNodes[i];this.selection(e,new b(t,i),[o]),this.blurEffect(e.element.id,e.visibleSeries)},t.prototype.selectDataIndex=function(e,t){for(var i,o=0,n=e;o<n.length;o++){var s=n[o];(i=this.getElementByIndex(s))&&this.performSelection(s,t,i)}},t.prototype.removeMultiSelectEelments=function(e,t,i,o){for(var n,s=0;s<t.length;s++)n=o[t[s].series],this.checkEquals(t[s],i)||(this.removeStyles(this.findElements(e,n,t[s]),t[s]),t.splice(s,1),s--)},t.prototype.blurEffect=function(e,t){for(var i=this.checkPointVisibility(this.selectedDataIndexes),o=0,n=t;o<n.length;o++){var s=n[o];s.visible&&this.checkSelectionElements(document.getElementById(e+"_SeriesCollection"),this.generateStyle(s),i)}},t.prototype.checkSelectionElements=function(e,t,i){for(var o,n,s,a=e.childNodes[0].childNodes,r=0;r<a.length;r++)n=a[r].getAttribute("class")||"",s=a[r].parentNode.getAttribute("class")||"",-1===n.indexOf(t)&&-1===s.indexOf(t)&&i?this.addSvgClass(a[r],this.unselected):this.removeSvgClass(a[r],this.unselected),this.control.accumulationLegendModule&&this.control.legendSettings.visible&&(o=document.getElementById(this.control.element.id+"_chart_legend_shape_"+r))&&(-1===n.indexOf(t)&&-1===s.indexOf(t)&&i?this.addSvgClass(o,this.unselected):this.removeSvgClass(o,this.unselected))},t.prototype.applyStyles=function(e,t){for(var i=this.control.accumulationTooltipModule,o=0,n=e;o<n.length;o++){var s=n[o],a=void 0;if(s){this.control.accumulationLegendModule&&this.control.legendSettings.visible&&(a=document.getElementById(this.control.element.id+"_chart_legend_shape_"+t.point),this.removeSvgClass(a,this.unselected),this.addSvgClass(a,this.getSelectionClass(a.id))),this.removeSvgClass(s.parentNode,this.unselected),this.removeSvgClass(s,this.unselected);var r=i&&i.previousPoints.length>0&&i.previousPoints[0].point.index!==t.point?i.svgTooltip.opacity:this.series[t.series].opacity;s.setAttribute("opacity",r.toString()),this.addSvgClass(s,this.getSelectionClass(s.id))}}},t.prototype.getSelectionClass=function(e){return this.generateStyle(this.control.series[Z(e).series])},t.prototype.removeStyles=function(e,t){for(var i,o=this.control.accumulationTooltipModule,n=0,s=e;n<s.length;n++){var a=s[n];if(a){this.control.accumulationLegendModule&&this.control.legendSettings.visible&&(i=document.getElementById(this.control.element.id+"_chart_legend_shape_"+t.point),this.removeSvgClass(i,this.getSelectionClass(i.id)));var r=o&&o.previousPoints.length>0&&o.previousPoints[0].point.index===t.point?o.svgTooltip.opacity:this.series[t.series].opacity;a.setAttribute("opacity",r.toString()),this.removeSvgClass(a,this.getSelectionClass(a.id))}}},t.prototype.addOrRemoveIndex=function(e,t,i){for(var o=0;o<e.length;o++)this.checkEquals(e[o],t)&&(e.splice(o,1),o--);i&&e.push(t)},t.prototype.checkEquals=function(e,t){return e.point===t.point&&e.series===t.series},t.prototype.checkPointVisibility=function(e){for(var t=!1,i=0,o=e;i<o.length;i++){if(Fe(o[i].point,this.control.visibleSeries[0].points).visible){t=!0;break}}return t},t.prototype.getModuleName=function(){return"AccumulationSelection"},t.prototype.destroy=function(){},t}(Tt),kt=function(){function e(e){this.control=e}return e.prototype.render=function(e,t){return this.isChart="chart"===this.control.getModuleName(),this.annotation=e,ae(sf.base.createElement("div",{id:this.control.element.id+"_Annotation_"+t,styles:"position: absolute; z-index: 1"}),t,e.content,this.control)},e.prototype.setAnnotationPixelValue=function(e){var t="Chart"===this.annotation.region?new sf.svgbase.Rect(0,0,this.control.availableSize.width,this.control.availableSize.height):this.isChart?this.control.chartAxisLayoutPanel.seriesClipRect:this.control.series[0].accumulationBound;return e.x=("string"!=typeof this.annotation.x?"number"==typeof this.annotation.x?this.annotation.x:0:ge(this.annotation.x,t.width))+t.x,e.y=("number"==typeof this.annotation.y?this.annotation.y:ge(this.annotation.y,t.height))+t.y,!0},e.prototype.setAnnotationPointValue=function(e){var t=new Ce(0,0);if(this.isChart){for(var o=this.control,n=this.annotation,s=n.xAxisName,a=n.yAxisName,r=o.requireInvertedAxis,l=this.control.stockChart,h=void 0,d=void 0,c=void 0,p=0,u=o.axisCollections;p<u.length;p++){var g=u[p];if(s===g.name||null==s&&"primaryXAxis"===g.name)if((h=g).valueType.indexOf("Category")>-1){var f="DateTimeCategory"===h.valueType?n.x.getTime().toString():n.x;if(h.labels.indexOf(f)<0)return!1;c=h.labels.indexOf(f)}else if("DateTime"===h.valueType){var b={skeleton:"full",type:"dateTime"};c="object"===i(this.annotation.x)||"object"===i(new Date(this.annotation.x))?Date.parse(o.intl.getDateParser(b)(o.intl.getDateFormat(b)(new Date(sf.data.DataUtil.parse.parseJson({val:n.x}).val)))):0}else c=+n.x;else(a===g.name||null==a&&"primaryYAxis"===g.name)&&(d=g)}return!!(h&&d&&W("Logarithmic"===h.valueType?H(c,h.logBase):c,h.visibleRange)&&W("Logarithmic"===d.valueType?H(+n.y,d.logBase):+n.y,d.visibleRange))&&(t=function(e,t,i,o,n){e="Logarithmic"===i.valueType?H(e>0?e:Math.pow(i.logBase,i.visibleRange.min),i.logBase):e,t="Logarithmic"===o.valueType?H(t>0?t:Math.pow(o.logBase,o.visibleRange.min),o.logBase):t,e=Y(e,i),t=Y(t,o);var s=n?i.rect.height:i.rect.width,a=n?o.rect.width:o.rect.height;return new Ce(n?t*a:e*s,n?(1-e)*s:(1-t)*a)}(c,+n.y,h,d,r),e.x=t.x+(r?d.rect.x:h.rect.x),e.y=t.y+(r?h.rect.y:d.rect.y)+(l&&l.enablePeriodSelector?l.toolbarHeight+l.titleSize.height:0),!0)}return this.setAccumulationPointValue(e)},e.prototype.processAnnotation=function(e,t,i){var o=this.control,n=new Ce(0,0),s=this.render(e,t),a=function(){s.style.transform="translate(-50%, -50%)"};a.bind(n,this),this["setAnnotation"+e.coordinateUnits+"Value"](n)?this.setElementStyle(n,s,i):this.control.redraw&&j(s.id),sf.base.updateBlazorTemplate((this.control.element.id+"Annotation"+t).replace(/[^a-zA-Z0-9]/g,""),"ContentTemplate",o.stockChart?o.stockChart.annotations[t]:this.control.annotations[t],void 0,a)},e.prototype.setAccumulationPointValue=function(e){for(var t,o=0,n=this.control.visibleSeries[0].points;o<n.length;o++){var s=n[o];if("object"===i(s.x)){if(Date.parse(s.x)===Date.parse(this.annotation.x)&&s.y===this.annotation.y){t=s;break}}else if(s.x==this.annotation.x&&s.y==this.annotation.y){t=s;break}}return!(!t||!t.visible)&&(e.x=t.symbolLocation.x,e.y=t.symbolLocation.y,!0)},e.prototype.setElementStyle=function(e,t,i){var o=re(t,this.control.redraw),n={cancel:!1,name:"annotationRender",content:t,location:e};this.control.trigger("annotationRender",n),n.cancel||(n.content.style.left=this.setAlignmentValue(this.annotation.horizontalAlignment,o.width,n.location.x)+"px",n.content.style.top=this.setAlignmentValue(this.annotation.verticalAlignment,o.height,n.location.y)+"px",n.content.setAttribute("aria-label",this.annotation.description||"Annotation"),le(n.content,i,this.control.redraw,!0,"left","top"))},e.prototype.setAlignmentValue=function(e,t,i){switch(e){case"Top":case"Near":i-=t;break;case"Bottom":case"Far":i+=0;break;case"Middle":case"Center":i-=t/2}return i},e}(),Ot=(Qe=function(e,t){return(Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Qe(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),Et=function(e){function t(t){var i=e.call(this,t)||this;return i.pie=t,i}return Ot(t,e),t.prototype.renderAnnotations=function(e){var t=this;this.annotations=this.pie.annotations;var i=this.pie.redraw;this.parentElement=fe(i,this.pie.element.id+"_Annotation_Collections")||sf.base.createElement("div",{id:this.pie.element.id+"_Annotation_Collections"}),this.annotations.map((function(e,i){t.processAnnotation(e,i,t.parentElement)})),le(this.parentElement,e,i)},t.prototype.getModuleName=function(){return"Annotation"},t.prototype.destroy=function(){},t}(kt),It=function(){function e(e){this.chart=e}return e.prototype.export=function(e,t,i,o,n,s,a,r,l){var h=new dt(this.chart);o=o||[this.chart];var d={cancel:!1,name:"beforeExport",width:n,height:s};this.chart.trigger("beforeExport",d),d.cancel||h.export(e,t,i,o,n=d.width,s=d.height,a,r,l)},e.prototype.getDataUrl=function(e){return new dt(e).getDataUrl(e)},e.prototype.getModuleName=function(){return"Export"},e.prototype.destroy=function(){},e}();return ut.Inject(ht,yt,vt,Mt,Pt,Bt,wt,Et,It),e.AccumulationChart=ut,e.AccumulationAnnotationSettings=ke,e.AccumulationDataLabelSettings=Oe,e.PieCenter=Ee,e.AccPoints=Ie,e.AccumulationSeries=De,e.getSeriesFromIndex=ze,e.pointByIndex=Fe,e.PieSeries=ht,e.FunnelSeries=yt,e.PyramidSeries=vt,e.AccumulationLegend=Pt,e.AccumulationDataLabel=wt,e.AccumulationTooltip=Mt,e.AccumulationSelection=Bt,e.AccumulationAnnotation=Et,e.Export=It,e}({}))}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor/scripts/syncfusion-blazor-base.min.js?v=25.1.undefined`).then(()=>{})})();